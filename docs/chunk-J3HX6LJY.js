import{$ as Ar,Aa as Mo,Ba as xt,Ca as kt,D as ao,Da as Io,E as lo,F as co,G as Rr,Ga as Fr,H as ho,Ha as Qi,I as uo,Ia as To,J as Mr,Ja as Br,K as Ir,L as mo,M as fo,N as Tr,O as po,P as _o,S as St,T as qi,U as Tn,V as Ge,W as Yi,X as Be,Y as An,Z as Xt,_ as gi,aa as vi,ba as Or,ca as bi,da as On,ea as Je,fa as Lr,ga as go,ha as vo,ia as bo,ja as yi,k as oo,ka as yo,la as Co,ma as wo,na as So,oa as xo,pa as Ln,qa as jt,ra as ko,sa as Eo,ta as He,ua as Gi,va as Pe,wa as Do,xa as Ro,y as Dr,ya as Xi,za as Pr}from"./chunk-GEIYLAK5.js";import{d as ze,f as so,h as xr,j as kr,k as Gt,l as wt,q as Er,t as si,u as Lt,w as lt,x as Nt,y as Pt}from"./chunk-4GZGRL2G.js";import{$b as Ct,A as mr,Ac as ro,B as fr,Ba as K,Bc as qt,C as wn,Ca as Me,Cc as Yt,D as ji,Da as Z,Db as Cr,Dc as _i,E as js,Eb as bt,F as ft,Fb as Ue,G as zs,H as nt,Ha as $s,Hb as Gs,I as tt,Ib as Xs,Ic as In,J as Ws,Jb as ke,K as Sn,Ka as Ot,Kb as Oe,L as pr,La as Se,M as xn,Ma as xe,Mc as je,N as kn,Na as Vi,Nb as re,Nc as Ht,O as _r,Oa as Ks,Ob as Ce,Pa as ht,Pb as te,Q as Kt,Qa as br,Qb as Mt,Qc as ye,Ra as We,Rb as ge,Rc as _t,S as gr,Sb as It,Sc as Ki,T as pi,Tb as Ee,Tc as no,Ua as pe,Ub as Mn,V as ri,Va as fe,Vb as Ui,Wb as $i,Xa as ae,Xb as O,Ya as yr,Yb as P,Zb as G,_b as yt,a as ve,ac as Qe,b as dt,bb as ot,bc as qe,cc as Bt,d as pl,e as _l,ea as zi,ec as ie,fa as vr,fc as be,g as it,ga as Vs,gc as Ye,ha as Ze,hc as we,i as ii,ia as pt,ic as wr,ja as le,jc as Sr,k as Ns,ka as Wi,kc as Fe,l as oe,lc as Ae,m as mt,mc as ne,nc as se,o as ur,oa as Us,oc as Qs,pa as Le,pc as Zs,q as ui,qa as Re,qb as qs,qc as at,rc as V,sa as de,sc as st,t as De,tc as et,ua as he,ub as H,uc as Js,v as mi,va as j,vb as T,vc as eo,wa as En,wb as Ys,wc as to,xa as Dn,xb as Ne,xc as Ie,y as rt,ya as Rn,yc as q,z as fi,zb as ni,zc as io}from"./chunk-SY5ZW7ZF.js";var $a=pl((fn,Ds)=>{"use strict";(function(o,i){if(typeof fn=="object"&&typeof Ds=="object")Ds.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var C=i();for(var e in C)(typeof fn=="object"?fn:o)[e]=C[e]}})(globalThis,()=>(()=>{"use strict";var o={4567:function(r,t,n){var s=this&&this.__decorate||function(a,c,p,b){var v,w=arguments.length,_=w<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,c,p,b);else for(var S=a.length-1;S>=0;S--)(v=a[S])&&(_=(w<3?v(_):w>3?v(c,p,_):v(c,p))||_);return w>3&&_&&Object.defineProperty(c,p,_),_},u=this&&this.__param||function(a,c){return function(p,b){c(p,b,a)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;let h=n(9042),m=n(9924),g=n(844),y=n(4725),f=n(2585),l=n(3656),d=t.AccessibilityManager=class extends g.Disposable{constructor(a,c,p,b){super(),this._terminal=a,this._coreBrowserService=p,this._renderService=b,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let v=0;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);if(this._topBoundaryFocusListener=v=>this._handleBoundaryFocus(v,0),this._bottomBoundaryFocusListener=v=>this._handleBoundaryFocus(v,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new m.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(v=>this._handleResize(v.rows))),this.register(this._terminal.onRender(v=>this._refreshRows(v.start,v.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(v=>this._handleChar(v))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(v=>this._handleTab(v))),this.register(this._terminal.onKey(v=>this._handleKey(v.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,l.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,g.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(a){for(let c=0;c<a;c++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(a){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(a)||this._charsToConsume.push(a)}_refreshRows(a,c){this._liveRegionDebouncer.refresh(a,c,this._terminal.rows)}_renderRows(a,c){let p=this._terminal.buffer,b=p.lines.length.toString();for(let v=a;v<=c;v++){let w=p.lines.get(p.ydisp+v),_=[],S=w?.translateToString(!0,void 0,void 0,_)||"",M=(p.ydisp+v+1).toString(),I=this._rowElements[v];I&&(S.length===0?(I.innerText="\xA0",this._rowColumns.set(I,[0,1])):(I.textContent=S,this._rowColumns.set(I,_)),I.setAttribute("aria-posinset",M),I.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(a,c){let p=a.target,b=this._rowElements[c===0?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(c===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==b)return;let v,w;if(c===0?(v=p,w=this._rowElements.pop(),this._rowContainer.removeChild(w)):(v=this._rowElements.shift(),w=p,this._rowContainer.removeChild(v)),v.removeEventListener("focus",this._topBoundaryFocusListener),w.removeEventListener("focus",this._bottomBoundaryFocusListener),c===0){let _=this._createAccessibilityTreeNode();this._rowElements.unshift(_),this._rowContainer.insertAdjacentElement("afterbegin",_)}else{let _=this._createAccessibilityTreeNode();this._rowElements.push(_),this._rowContainer.appendChild(_)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(c===0?-1:1),this._rowElements[c===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleSelectionChange(){if(this._rowElements.length===0)return;let a=document.getSelection();if(!a)return;if(a.isCollapsed)return void(this._rowContainer.contains(a.anchorNode)&&this._terminal.clearSelection());if(!a.anchorNode||!a.focusNode)return void console.error("anchorNode and/or focusNode are null");let c={node:a.anchorNode,offset:a.anchorOffset},p={node:a.focusNode,offset:a.focusOffset};if((c.node.compareDocumentPosition(p.node)&Node.DOCUMENT_POSITION_PRECEDING||c.node===p.node&&c.offset>p.offset)&&([c,p]=[p,c]),c.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(c={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(c.node))return;let b=this._rowElements.slice(-1)[0];if(p.node.compareDocumentPosition(b)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(p={node:b,offset:b.textContent?.length??0}),!this._rowContainer.contains(p.node))return;let v=({node:S,offset:M})=>{let I=S instanceof Text?S.parentNode:S,L=parseInt(I?.getAttribute("aria-posinset"),10)-1;if(isNaN(L))return console.warn("row is invalid. Race condition?"),null;let E=this._rowColumns.get(I);if(!E)return console.warn("columns is null. Race condition?"),null;let B=M<E.length?E[M]:E.slice(-1)[0]+1;return B>=this._terminal.cols&&(++L,B=0),{row:L,column:B}},w=v(c),_=v(p);if(w&&_){if(w.row>_.row||w.row===_.row&&w.column>=_.column)throw new Error("invalid range");this._terminal.select(w.column,w.row,(_.row-w.row)*this._terminal.cols-w.column+_.column)}}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let c=this._rowContainer.children.length;c<this._terminal.rows;c++)this._rowElements[c]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[c]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){let a=this._coreBrowserService.mainDocument.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}};t.AccessibilityManager=d=s([u(1,f.IInstantiationService),u(2,y.ICoreBrowserService),u(3,y.IRenderService)],d)},3614:(r,t)=>{function n(m){return m.replace(/\r?\n/g,"\r")}function s(m,g){return g?"\x1B[200~"+m+"\x1B[201~":m}function u(m,g,y,f){m=s(m=n(m),y.decPrivateModes.bracketedPasteMode&&f.rawOptions.ignoreBracketedPasteMode!==!0),y.triggerDataEvent(m,!0),g.value=""}function h(m,g,y){let f=y.getBoundingClientRect(),l=m.clientX-f.left-10,d=m.clientY-f.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${l}px`,g.style.top=`${d}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=n,t.bracketTextForPaste=s,t.copyHandler=function(m,g){m.clipboardData&&m.clipboardData.setData("text/plain",g.selectionText),m.preventDefault()},t.handlePasteEvent=function(m,g,y,f){m.stopPropagation(),m.clipboardData&&u(m.clipboardData.getData("text/plain"),g,y,f)},t.paste=u,t.moveTextAreaUnderMouseCursor=h,t.rightClickHandler=function(m,g,y,f,l){h(m,g,y),l&&f.rightClickSelect(m),g.value=f.selectionText,g.select()}},7239:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;let s=n(1505);t.ColorContrastCache=class{constructor(){this._color=new s.TwoKeyMap,this._css=new s.TwoKeyMap}setCss(u,h,m){this._css.set(u,h,m)}getCss(u,h){return this._css.get(u,h)}setColor(u,h,m){this._color.set(u,h,m)}getColor(u,h){return this._color.get(u,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(n,s,u,h){n.addEventListener(s,u,h);let m=!1;return{dispose:()=>{m||(m=!0,n.removeEventListener(s,u,h))}}}},3551:function(r,t,n){var s=this&&this.__decorate||function(d,a,c,p){var b,v=arguments.length,w=v<3?a:p===null?p=Object.getOwnPropertyDescriptor(a,c):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,a,c,p);else for(var _=d.length-1;_>=0;_--)(b=d[_])&&(w=(v<3?b(w):v>3?b(a,c,w):b(a,c))||w);return v>3&&w&&Object.defineProperty(a,c,w),w},u=this&&this.__param||function(d,a){return function(c,p){a(c,p,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier=void 0;let h=n(3656),m=n(8460),g=n(844),y=n(2585),f=n(4725),l=t.Linkifier=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(d,a,c,p,b){super(),this._element=d,this._mouseService=a,this._renderService=c,this._bufferService=p,this._linkProviderService=b,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new m.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new m.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0,this._activeProviderReplies?.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(d){this._lastMouseEvent=d;let a=this._positionFromMouseEvent(d,this._element,this._mouseService);if(!a)return;this._isMouseOut=!1;let c=d.composedPath();for(let p=0;p<c.length;p++){let b=c[p];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&a.x===this._lastBufferCell.x&&a.y===this._lastBufferCell.y||(this._handleHover(a),this._lastBufferCell=a)}_handleHover(d){if(this._activeLine!==d.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(d,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,d)||(this._clearCurrentLink(),this._askForLink(d,!0))}_askForLink(d,a){this._activeProviderReplies&&a||(this._activeProviderReplies?.forEach(p=>{p?.forEach(b=>{b.link.dispose&&b.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=d.y);let c=!1;for(let[p,b]of this._linkProviderService.linkProviders.entries())a?this._activeProviderReplies?.get(p)&&(c=this._checkLinkProviderResult(p,d,c)):b.provideLinks(d.y,v=>{if(this._isMouseOut)return;let w=v?.map(_=>({link:_}));this._activeProviderReplies?.set(p,w),c=this._checkLinkProviderResult(p,d,c),this._activeProviderReplies?.size===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(d.y,this._activeProviderReplies)})}_removeIntersectingLinks(d,a){let c=new Set;for(let p=0;p<a.size;p++){let b=a.get(p);if(b)for(let v=0;v<b.length;v++){let w=b[v],_=w.link.range.start.y<d?0:w.link.range.start.x,S=w.link.range.end.y>d?this._bufferService.cols:w.link.range.end.x;for(let M=_;M<=S;M++){if(c.has(M)){b.splice(v--,1);break}c.add(M)}}}}_checkLinkProviderResult(d,a,c){if(!this._activeProviderReplies)return c;let p=this._activeProviderReplies.get(d),b=!1;for(let v=0;v<d;v++)this._activeProviderReplies.has(v)&&!this._activeProviderReplies.get(v)||(b=!0);if(!b&&p){let v=p.find(w=>this._linkAtPosition(w.link,a));v&&(c=!0,this._handleNewLink(v))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!c)for(let v=0;v<this._activeProviderReplies.size;v++){let w=this._activeProviderReplies.get(v)?.find(_=>this._linkAtPosition(_.link,a));if(w){c=!0,this._handleNewLink(w);break}}return c}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(d){if(!this._currentLink)return;let a=this._positionFromMouseEvent(d,this._element,this._mouseService);a&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,a)&&this._currentLink.link.activate(d,this._currentLink.link.text)}_clearCurrentLink(d,a){this._currentLink&&this._lastMouseEvent&&(!d||!a||this._currentLink.link.range.start.y>=d&&this._currentLink.link.range.end.y<=a)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(d){if(!this._lastMouseEvent)return;let a=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);a&&this._linkAtPosition(d.link,a)&&(this._currentLink=d,this._currentLink.state={decorations:{underline:d.link.decorations===void 0||d.link.decorations.underline,pointerCursor:d.link.decorations===void 0||d.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,d.link,this._lastMouseEvent),d.link.decorations={},Object.defineProperties(d.link.decorations,{pointerCursor:{get:()=>this._currentLink?.state?.decorations.pointerCursor,set:c=>{this._currentLink?.state&&this._currentLink.state.decorations.pointerCursor!==c&&(this._currentLink.state.decorations.pointerCursor=c,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",c))}},underline:{get:()=>this._currentLink?.state?.decorations.underline,set:c=>{this._currentLink?.state&&this._currentLink?.state?.decorations.underline!==c&&(this._currentLink.state.decorations.underline=c,this._currentLink.state.isHovered&&this._fireUnderlineEvent(d.link,c))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(c=>{if(!this._currentLink)return;let p=c.start===0?0:c.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+c.end;if(this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(p,b),this._lastMouseEvent)){let v=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);v&&this._askForLink(v,!1)}})))}_linkHover(d,a,c){this._currentLink?.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!0),this._currentLink.state.decorations.pointerCursor&&d.classList.add("xterm-cursor-pointer")),a.hover&&a.hover(c,a.text)}_fireUnderlineEvent(d,a){let c=d.range,p=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(c.start.x-1,c.start.y-p-1,c.end.x,c.end.y-p-1,void 0);(a?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(d,a,c){this._currentLink?.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(a,!1),this._currentLink.state.decorations.pointerCursor&&d.classList.remove("xterm-cursor-pointer")),a.leave&&a.leave(c,a.text)}_linkAtPosition(d,a){let c=d.range.start.y*this._bufferService.cols+d.range.start.x,p=d.range.end.y*this._bufferService.cols+d.range.end.x,b=a.y*this._bufferService.cols+a.x;return c<=b&&b<=p}_positionFromMouseEvent(d,a,c){let p=c.getCoords(d,a,this._bufferService.cols,this._bufferService.rows);if(p)return{x:p[0],y:p[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(d,a,c,p,b){return{x1:d,y1:a,x2:c,y2:p,cols:this._bufferService.cols,fg:b}}};t.Linkifier=l=s([u(1,f.IMouseService),u(2,f.IRenderService),u(3,y.IBufferService),u(4,f.ILinkProviderService)],l)},9042:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(r,t,n){var s=this&&this.__decorate||function(f,l,d,a){var c,p=arguments.length,b=p<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,d):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,l,d,a);else for(var v=f.length-1;v>=0;v--)(c=f[v])&&(b=(p<3?c(b):p>3?c(l,d,b):c(l,d))||b);return p>3&&b&&Object.defineProperty(l,d,b),b},u=this&&this.__param||function(f,l){return function(d,a){l(d,a,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;let h=n(511),m=n(2585),g=t.OscLinkProvider=class{constructor(f,l,d){this._bufferService=f,this._optionsService=l,this._oscLinkService=d}provideLinks(f,l){let d=this._bufferService.buffer.lines.get(f-1);if(!d)return void l(void 0);let a=[],c=this._optionsService.rawOptions.linkHandler,p=new h.CellData,b=d.getTrimmedLength(),v=-1,w=-1,_=!1;for(let S=0;S<b;S++)if(w!==-1||d.hasContent(S)){if(d.loadCell(S,p),p.hasExtendedAttrs()&&p.extended.urlId){if(w===-1){w=S,v=p.extended.urlId;continue}_=p.extended.urlId!==v}else w!==-1&&(_=!0);if(_||w!==-1&&S===b-1){let M=this._oscLinkService.getLinkData(v)?.uri;if(M){let I={start:{x:w+1,y:f},end:{x:S+(_||S!==b-1?0:1),y:f}},L=!1;if(!c?.allowNonHttpProtocols)try{let E=new URL(M);["http:","https:"].includes(E.protocol)||(L=!0)}catch{L=!0}L||a.push({text:M,range:I,activate:(E,B)=>c?c.activate(E,B,I):y(0,B),hover:(E,B)=>c?.hover?.(E,B,I),leave:(E,B)=>c?.leave?.(E,B,I)})}_=!1,p.hasExtendedAttrs()&&p.extended.urlId?(w=S,v=p.extended.urlId):(w=-1,v=-1)}}l(a)}};function y(f,l){if(confirm(`Do you want to navigate to ${l}?

WARNING: This link could potentially be dangerous`)){let d=window.open();if(d){try{d.opener=null}catch{}d.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=g=s([u(0,m.IBufferService),u(1,m.IOptionsService),u(2,m.IOscLinkService)],g)},6193:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(n,s){this._renderCallback=n,this._coreBrowserService=s,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,s,u){this._rowCount=u,n=n!==void 0?n:0,s=s!==void 0?s:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,s):s,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();let n=Math.max(this._rowStart,0),s=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,s),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(let n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},3236:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;let s=n(3614),u=n(3656),h=n(3551),m=n(9042),g=n(3730),y=n(1680),f=n(3107),l=n(5744),d=n(2950),a=n(1296),c=n(428),p=n(4269),b=n(5114),v=n(8934),w=n(3230),_=n(9312),S=n(4725),M=n(6731),I=n(8055),L=n(8969),E=n(8460),B=n(844),W=n(6114),Y=n(8437),ee=n(2584),$=n(7399),x=n(5941),D=n(9074),R=n(2585),A=n(5435),z=n(4567),X=n(779);class ce extends L.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(F={}){super(F),this.browser=W,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new B.MutableDisposable),this._onCursorMove=this.register(new E.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new E.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new E.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new E.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new E.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new E.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new E.EventEmitter),this._onBlur=this.register(new E.EventEmitter),this._onA11yCharEmitter=this.register(new E.EventEmitter),this._onA11yTabEmitter=this.register(new E.EventEmitter),this._onWillOpen=this.register(new E.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(D.DecorationService),this._instantiationService.setService(R.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(X.LinkProviderService),this._instantiationService.setService(S.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((k,N)=>this.refresh(k,N))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(k=>this._reportWindowsOptions(k))),this.register(this._inputHandler.onColor(k=>this._handleColorEvent(k))),this.register((0,E.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,E.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(k=>this._afterResize(k.cols,k.rows))),this.register((0,B.toDisposable)(()=>{this._customKeyEventHandler=void 0,this.element?.parentNode?.removeChild(this.element)}))}_handleColorEvent(F){if(this._themeService)for(let k of F){let N,U="";switch(k.index){case 256:N="foreground",U="10";break;case 257:N="background",U="11";break;case 258:N="cursor",U="12";break;default:N="ansi",U="4;"+k.index}switch(k.type){case 0:let J=I.color.toColorRGB(N==="ansi"?this._themeService.colors.ansi[k.index]:this._themeService.colors[N]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${U};${(0,x.toRgbString)(J)}${ee.C1_ESCAPED.ST}`);break;case 1:if(N==="ansi")this._themeService.modifyColors(Q=>Q.ansi[k.index]=I.channels.toColor(...k.color));else{let Q=N;this._themeService.modifyColors(Te=>Te[Q]=I.channels.toColor(...k.color))}break;case 2:this._themeService.restoreColor(k.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(F){F?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(F){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){return this.textarea?.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;let F=this.buffer.ybase+this.buffer.y,k=this.buffer.lines.get(F);if(!k)return;let N=Math.min(this.buffer.x,this.cols-1),U=this._renderService.dimensions.css.cell.height,J=k.getWidth(N),Q=this._renderService.dimensions.css.cell.width*J,Te=this.buffer.y*this._renderService.dimensions.css.cell.height,$e=N*this._renderService.dimensions.css.cell.width;this.textarea.style.left=$e+"px",this.textarea.style.top=Te+"px",this.textarea.style.width=Q+"px",this.textarea.style.height=U+"px",this.textarea.style.lineHeight=U+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,u.addDisposableDomListener)(this.element,"copy",k=>{this.hasSelection()&&(0,s.copyHandler)(k,this._selectionService)}));let F=k=>(0,s.handlePasteEvent)(k,this.textarea,this.coreService,this.optionsService);this.register((0,u.addDisposableDomListener)(this.textarea,"paste",F)),this.register((0,u.addDisposableDomListener)(this.element,"paste",F)),W.isFirefox?this.register((0,u.addDisposableDomListener)(this.element,"mousedown",k=>{k.button===2&&(0,s.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,u.addDisposableDomListener)(this.element,"contextmenu",k=>{(0,s.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),W.isLinux&&this.register((0,u.addDisposableDomListener)(this.element,"auxclick",k=>{k.button===1&&(0,s.moveTextAreaUnderMouseCursor)(k,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,u.addDisposableDomListener)(this.textarea,"keyup",F=>this._keyUp(F),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keydown",F=>this._keyDown(F),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"keypress",F=>this._keyPress(F),!0)),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionupdate",F=>this._compositionHelper.compositionupdate(F))),this.register((0,u.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,u.addDisposableDomListener)(this.textarea,"input",F=>this._inputEvent(F),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(F){if(!F)throw new Error("Terminal requires a parent element.");if(F.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this.element?.ownerDocument.defaultView&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=F.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),F.appendChild(this.element);let k=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),k.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,u.addDisposableDomListener)(this.screenElement,"mousemove",N=>this.updateCursorStyle(N))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),k.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),W.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,F.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(S.ICoreBrowserService,this._coreBrowserService),this.register((0,u.addDisposableDomListener)(this.textarea,"focus",N=>this._handleTextAreaFocus(N))),this.register((0,u.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(c.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(S.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(M.ThemeService),this._instantiationService.setService(S.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(S.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(w.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(S.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(N=>this._onRender.fire(N))),this.onResize(N=>this._renderService.resize(N.cols,N.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(v.MouseService),this._instantiationService.setService(S.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(k);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(y.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(N=>this.scrollLines(N.amount,N.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(_.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(S.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(N=>this.scrollLines(N.amount,N.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(N=>this._renderService.handleSelectionChanged(N.start,N.end,N.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(N=>{this.textarea.value=N,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(N=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(f.BufferDecorationRenderer,this.screenElement)),this.register((0,u.addDisposableDomListener)(this.element,"mousedown",N=>this._selectionService.handleMouseDown(N))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(z.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",N=>this._handleScreenReaderModeOptionChange(N))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",N=>{!this._overviewRulerRenderer&&N&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(a.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){let F=this,k=this.element;function N(Q){let Te=F._mouseService.getMouseReportCoords(Q,F.screenElement);if(!Te)return!1;let $e,Ke;switch(Q.overrideType||Q.type){case"mousemove":Ke=32,Q.buttons===void 0?($e=3,Q.button!==void 0&&($e=Q.button<3?Q.button:3)):$e=1&Q.buttons?0:4&Q.buttons?1:2&Q.buttons?2:3;break;case"mouseup":Ke=0,$e=Q.button<3?Q.button:3;break;case"mousedown":Ke=1,$e=Q.button<3?Q.button:3;break;case"wheel":if(F._customWheelEventHandler&&F._customWheelEventHandler(Q)===!1||F.viewport.getLinesScrolled(Q)===0)return!1;Ke=Q.deltaY<0?0:1,$e=4;break;default:return!1}return!(Ke===void 0||$e===void 0||$e>4)&&F.coreMouseService.triggerMouseEvent({col:Te.col,row:Te.row,x:Te.x,y:Te.y,button:$e,action:Ke,ctrl:Q.ctrlKey,alt:Q.altKey,shift:Q.shiftKey})}let U={mouseup:null,wheel:null,mousedrag:null,mousemove:null},J={mouseup:Q=>(N(Q),Q.buttons||(this._document.removeEventListener("mouseup",U.mouseup),U.mousedrag&&this._document.removeEventListener("mousemove",U.mousedrag)),this.cancel(Q)),wheel:Q=>(N(Q),this.cancel(Q,!0)),mousedrag:Q=>{Q.buttons&&N(Q)},mousemove:Q=>{Q.buttons||N(Q)}};this.register(this.coreMouseService.onProtocolChange(Q=>{Q?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Q)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Q?U.mousemove||(k.addEventListener("mousemove",J.mousemove),U.mousemove=J.mousemove):(k.removeEventListener("mousemove",U.mousemove),U.mousemove=null),16&Q?U.wheel||(k.addEventListener("wheel",J.wheel,{passive:!1}),U.wheel=J.wheel):(k.removeEventListener("wheel",U.wheel),U.wheel=null),2&Q?U.mouseup||(U.mouseup=J.mouseup):(this._document.removeEventListener("mouseup",U.mouseup),U.mouseup=null),4&Q?U.mousedrag||(U.mousedrag=J.mousedrag):(this._document.removeEventListener("mousemove",U.mousedrag),U.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,u.addDisposableDomListener)(k,"mousedown",Q=>{if(Q.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Q))return N(Q),U.mouseup&&this._document.addEventListener("mouseup",U.mouseup),U.mousedrag&&this._document.addEventListener("mousemove",U.mousedrag),this.cancel(Q)})),this.register((0,u.addDisposableDomListener)(k,"wheel",Q=>{if(!U.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(Q)===!1)return!1;if(!this.buffer.hasScrollback){let Te=this.viewport.getLinesScrolled(Q);if(Te===0)return;let $e=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Q.deltaY<0?"A":"B"),Ke="";for(let ct=0;ct<Math.abs(Te);ct++)Ke+=$e;return this.coreService.triggerDataEvent(Ke,!0),this.cancel(Q,!0)}return this.viewport.handleWheel(Q)?this.cancel(Q):void 0}},{passive:!1})),this.register((0,u.addDisposableDomListener)(k,"touchstart",Q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Q),this.cancel(Q)},{passive:!0})),this.register((0,u.addDisposableDomListener)(k,"touchmove",Q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Q)?void 0:this.cancel(Q)},{passive:!1}))}refresh(F,k){this._renderService?.refreshRows(F,k)}updateCursorStyle(F){this._selectionService?.shouldColumnSelect(F)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(F,k,N=0){N===1?(super.scrollLines(F,k,N),this.refresh(0,this.rows-1)):this.viewport?.scrollLines(F)}paste(F){(0,s.paste)(F,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(F){this._customKeyEventHandler=F}attachCustomWheelEventHandler(F){this._customWheelEventHandler=F}registerLinkProvider(F){return this._linkProviderService.registerLinkProvider(F)}registerCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");let k=this._characterJoinerService.register(F);return this.refresh(0,this.rows-1),k}deregisterCharacterJoiner(F){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(F)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(F){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+F)}registerDecoration(F){return this._decorationService.registerDecoration(F)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(F,k,N){this._selectionService.setSelection(F,k,N)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){this._selectionService?.clearSelection()}selectAll(){this._selectionService?.selectAll()}selectLines(F,k){this._selectionService?.selectLines(F,k)}_keyDown(F){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;let k=this.browser.isMac&&this.options.macOptionIsMeta&&F.altKey;if(!k&&!this._compositionHelper.keydown(F))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;k||F.key!=="Dead"&&F.key!=="AltGraph"||(this._unprocessedDeadKey=!0);let N=(0,$.evaluateKeyboardEvent)(F,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(F),N.type===3||N.type===2){let U=this.rows-1;return this.scrollLines(N.type===2?-U:U),this.cancel(F,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,F)||(N.cancel&&this.cancel(F,!0),!N.key||!!(F.key&&!F.ctrlKey&&!F.altKey&&!F.metaKey&&F.key.length===1&&F.key.charCodeAt(0)>=65&&F.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==ee.C0.ETX&&N.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),!this.optionsService.rawOptions.screenReaderMode||F.altKey||F.ctrlKey?this.cancel(F,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(F,k){let N=F.isMac&&!this.options.macOptionIsMeta&&k.altKey&&!k.ctrlKey&&!k.metaKey||F.isWindows&&k.altKey&&k.ctrlKey&&!k.metaKey||F.isWindows&&k.getModifierState("AltGraph");return k.type==="keypress"?N:N&&(!k.keyCode||k.keyCode>47)}_keyUp(F){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1||(function(k){return k.keyCode===16||k.keyCode===17||k.keyCode===18}(F)||this.focus(),this.updateCursorStyle(F),this._keyPressHandled=!1)}_keyPress(F){let k;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(F)===!1)return!1;if(this.cancel(F),F.charCode)k=F.charCode;else if(F.which===null||F.which===void 0)k=F.keyCode;else{if(F.which===0||F.charCode===0)return!1;k=F.which}return!(!k||(F.altKey||F.ctrlKey||F.metaKey)&&!this._isThirdLevelShift(this.browser,F)||(k=String.fromCharCode(k),this._onKey.fire({key:k,domEvent:F}),this._showCursor(),this.coreService.triggerDataEvent(k,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(F){if(F.data&&F.inputType==="insertText"&&(!F.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;let k=F.data;return this.coreService.triggerDataEvent(k,!0),this.cancel(F),!0}return!1}resize(F,k){F!==this.cols||k!==this.rows?super.resize(F,k):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(F,k){this._charSizeService?.measure(),this.viewport?.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(Y.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),this.viewport?.reset(),this.refresh(0,this.rows-1)}}reset(){this.options.rows=this.rows,this.options.cols=this.cols;let F=this._customKeyEventHandler;this._setup(),super.reset(),this._selectionService?.reset(),this._decorationService.reset(),this.viewport?.reset(),this._customKeyEventHandler=F,this.refresh(0,this.rows-1)}clearTextureAtlas(){this._renderService?.clearTextureAtlas()}_reportFocus(){this.element?.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(F){if(this._renderService)switch(F){case A.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:let k=this._renderService.dimensions.css.canvas.width.toFixed(0),N=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${N};${k}t`);break;case A.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:let U=this._renderService.dimensions.css.cell.width.toFixed(0),J=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${J};${U}t`)}}cancel(F,k){if(this.options.cancelEvents||k)return F.preventDefault(),F.stopPropagation(),!1}}t.Terminal=ce},9924:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(n,s=1e3){this._renderCallback=n,this._debounceThresholdMS=s,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,s,u){this._rowCount=u,n=n!==void 0?n:0,s=s!==void 0?s:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,s):s;let h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){let m=h-this._lastRefreshMs,g=this._debounceThresholdMS-m;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;let n=Math.max(this._rowStart,0),s=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,s)}}},1680:function(r,t,n){var s=this&&this.__decorate||function(d,a,c,p){var b,v=arguments.length,w=v<3?a:p===null?p=Object.getOwnPropertyDescriptor(a,c):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,a,c,p);else for(var _=d.length-1;_>=0;_--)(b=d[_])&&(w=(v<3?b(w):v>3?b(a,c,w):b(a,c))||w);return v>3&&w&&Object.defineProperty(a,c,w),w},u=this&&this.__param||function(d,a){return function(c,p){a(c,p,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;let h=n(3656),m=n(4725),g=n(8460),y=n(844),f=n(2585),l=t.Viewport=class extends y.Disposable{constructor(d,a,c,p,b,v,w,_){super(),this._viewportElement=d,this._scrollArea=a,this._bufferService=c,this._optionsService=p,this._charSizeService=b,this._renderService=v,this._coreBrowserService=w,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(S=>this._activeBuffer=S.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(S=>this._renderDimensions=S)),this._handleThemeChange(_.colors),this.register(_.onChangeColors(S=>this._handleThemeChange(S))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;let a=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==a&&(this._lastRecordedBufferHeight=a,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}let d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});let a=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;let d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,a){let c=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(a<0&&this._viewportElement.scrollTop!==0||a>0&&c<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){let a=this._getPixelsScrolled(d);return a!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+a:this._smoothScrollState.target+=a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=a,this._bubbleScroll(d,a))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){let a=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+a,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let a=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?a*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._currentRowHeight*this._bufferService.rows),a}getBufferElements(d,a){let c,p="",b=[],v=a??this._bufferService.buffer.lines.length,w=this._bufferService.buffer.lines;for(let _=d;_<v;_++){let S=w.get(_);if(!S)continue;let M=w.get(_+1)?.isWrapped;if(p+=S.translateToString(!M),!M||_===w.length-1){let I=document.createElement("div");I.textContent=p,b.push(I),p.length>0&&(c=I),p=""}}return{bufferElements:b,cursorElement:c}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let a=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(a/=this._currentRowHeight+0,this._wheelPartialScroll+=a,a=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(a*=this._bufferService.rows),a}_applyScrollModifier(d,a){let c=this._optionsService.rawOptions.fastScrollModifier;return c==="alt"&&a.altKey||c==="ctrl"&&a.ctrlKey||c==="shift"&&a.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){let a=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,a!==0&&(this._viewportElement.scrollTop+=a,this._bubbleScroll(d,a))}};t.Viewport=l=s([u(2,f.IBufferService),u(3,f.IOptionsService),u(4,m.ICharSizeService),u(5,m.IRenderService),u(6,m.ICoreBrowserService),u(7,m.IThemeService)],l)},3107:function(r,t,n){var s=this&&this.__decorate||function(f,l,d,a){var c,p=arguments.length,b=p<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,d):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,l,d,a);else for(var v=f.length-1;v>=0;v--)(c=f[v])&&(b=(p<3?c(b):p>3?c(l,d,b):c(l,d))||b);return p>3&&b&&Object.defineProperty(l,d,b),b},u=this&&this.__param||function(f,l){return function(d,a){l(d,a,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;let h=n(4725),m=n(844),g=n(2585),y=t.BufferDecorationRenderer=class extends m.Disposable{constructor(f,l,d,a,c){super(),this._screenElement=f,this._bufferService=l,this._coreBrowserService=d,this._decorationService=a,this._renderService=c,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(p=>this._removeDecoration(p))),this.register((0,m.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(let f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){let l=this._coreBrowserService.mainDocument.createElement("div");l.classList.add("xterm-decoration"),l.classList.toggle("xterm-decoration-top-layer",f?.options?.layer==="top"),l.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,l.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",l.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",l.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;let d=f.options.x??0;return d&&d>this._bufferService.cols&&(l.style.display="none"),this._refreshXPosition(f,l),l}_refreshStyle(f){let l=f.marker.line-this._bufferService.buffers.active.ydisp;if(l<0||l>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let d=this._decorationElements.get(f);d||(d=this._createElement(f),f.element=d,this._decorationElements.set(f,d),this._container.appendChild(d),f.onDispose(()=>{this._decorationElements.delete(f),d.remove()})),d.style.top=l*this._renderService.dimensions.css.cell.height+"px",d.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(d)}}_refreshXPosition(f,l=f.element){if(!l)return;let d=f.options.x??0;(f.options.anchor||"left")==="right"?l.style.right=d?d*this._renderService.dimensions.css.cell.width+"px":"":l.style.left=d?d*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){this._decorationElements.get(f)?.remove(),this._decorationElements.delete(f),f.dispose()}};t.BufferDecorationRenderer=y=s([u(1,g.IBufferService),u(2,h.ICoreBrowserService),u(3,g.IDecorationService),u(4,h.IRenderService)],y)},5871:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(let s of this._zones)if(s.color===n.options.overviewRulerOptions.color&&s.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(s,n.marker.line))return;if(this._lineAdjacentToZone(s,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(s,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,s){return s>=n.startBufferLine&&s<=n.endBufferLine}_lineAdjacentToZone(n,s,u){return s>=n.startBufferLine-this._linePadding[u||"full"]&&s<=n.endBufferLine+this._linePadding[u||"full"]}_addLineToZone(n,s){n.startBufferLine=Math.min(n.startBufferLine,s),n.endBufferLine=Math.max(n.endBufferLine,s)}}},5744:function(r,t,n){var s=this&&this.__decorate||function(c,p,b,v){var w,_=arguments.length,S=_<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,b):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(c,p,b,v);else for(var M=c.length-1;M>=0;M--)(w=c[M])&&(S=(_<3?w(S):_>3?w(p,b,S):w(p,b))||S);return _>3&&S&&Object.defineProperty(p,b,S),S},u=this&&this.__param||function(c,p){return function(b,v){p(b,v,c)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;let h=n(5871),m=n(4725),g=n(844),y=n(2585),f={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},a=t.OverviewRulerRenderer=class extends g.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(c,p,b,v,w,_,S){super(),this._viewportElement=c,this._screenElement=p,this._bufferService=b,this._decorationService=v,this._renderService=w,this._optionsService=_,this._coreBrowserService=S,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),this._viewportElement.parentElement?.insertBefore(this._canvas,this._viewportElement);let M=this._canvas.getContext("2d");if(!M)throw new Error("Ctx cannot be null");this._ctx=M,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,g.toDisposable)(()=>{this._canvas?.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){let c=Math.floor(this._canvas.width/3),p=Math.ceil(this._canvas.width/3);l.full=this._canvas.width,l.left=c,l.center=p,l.right=c,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=l.left,d.right=l.left+l.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowserService.dpr);let c=this._canvas.height/this._bufferService.buffer.lines.length,p=Math.round(Math.max(Math.min(c,12),6)*this._coreBrowserService.dpr);f.left=p,f.center=p,f.right=p}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(let p of this._decorationService.decorations)this._colorZoneStore.addDecoration(p);this._ctx.lineWidth=1;let c=this._colorZoneStore.zones;for(let p of c)p.position!=="full"&&this._renderColorZone(p);for(let p of c)p.position==="full"&&this._renderColorZone(p);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(c){this._ctx.fillStyle=c.color,this._ctx.fillRect(d[c.position||"full"],Math.round((this._canvas.height-1)*(c.startBufferLine/this._bufferService.buffers.active.lines.length)-f[c.position||"full"]/2),l[c.position||"full"],Math.round((this._canvas.height-1)*((c.endBufferLine-c.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[c.position||"full"]))}_queueRefresh(c,p){this._shouldUpdateDimensions=c||this._shouldUpdateDimensions,this._shouldUpdateAnchor=p||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=a=s([u(2,y.IBufferService),u(3,y.IDecorationService),u(4,m.IRenderService),u(5,y.IOptionsService),u(6,m.ICoreBrowserService)],a)},2950:function(r,t,n){var s=this&&this.__decorate||function(f,l,d,a){var c,p=arguments.length,b=p<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,d):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,l,d,a);else for(var v=f.length-1;v>=0;v--)(c=f[v])&&(b=(p<3?c(b):p>3?c(l,d,b):c(l,d))||b);return p>3&&b&&Object.defineProperty(l,d,b),b},u=this&&this.__param||function(f,l){return function(d,a){l(d,a,f)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;let h=n(4725),m=n(2585),g=n(2584),y=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(f,l,d,a,c,p){this._textarea=f,this._compositionView=l,this._bufferService=d,this._optionsService=a,this._coreService=c,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(f){this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(f){if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){let l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;let l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){let f=this._textarea.value;setTimeout(()=>{if(!this._isComposing){let l=this._textarea.value,d=l.replace(f,"");this._dataAlreadySent=d,l.length>f.length?this._coreService.triggerDataEvent(d,!0):l.length<f.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):l.length===f.length&&l!==f&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(f){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){let l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,a=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,c=l*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=c+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";let p=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}f||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=y=s([u(2,m.IBufferService),u(3,m.IOptionsService),u(4,m.ICoreService),u(5,h.IRenderService)],y)},9806:(r,t)=>{function n(s,u,h){let m=h.getBoundingClientRect(),g=s.getComputedStyle(h),y=parseInt(g.getPropertyValue("padding-left")),f=parseInt(g.getPropertyValue("padding-top"));return[u.clientX-m.left-y,u.clientY-m.top-f]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=n,t.getCoords=function(s,u,h,m,g,y,f,l,d){if(!y)return;let a=n(s,u,h);return a?(a[0]=Math.ceil((a[0]+(d?f/2:0))/f),a[1]=Math.ceil(a[1]/l),a[0]=Math.min(Math.max(a[0],1),m+(d?1:0)),a[1]=Math.min(Math.max(a[1],1),g),a):void 0}},9504:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;let s=n(2584);function u(l,d,a,c){let p=l-h(l,a),b=d-h(d,a),v=Math.abs(p-b)-function(w,_,S){let M=0,I=w-h(w,S),L=_-h(_,S);for(let E=0;E<Math.abs(I-L);E++){let B=m(w,_)==="A"?-1:1;S.buffer.lines.get(I+B*E)?.isWrapped&&M++}return M}(l,d,a);return f(v,y(m(l,d),c))}function h(l,d){let a=0,c=d.buffer.lines.get(l),p=c?.isWrapped;for(;p&&l>=0&&l<d.rows;)a++,c=d.buffer.lines.get(--l),p=c?.isWrapped;return a}function m(l,d){return l>d?"A":"B"}function g(l,d,a,c,p,b){let v=l,w=d,_="";for(;v!==a||w!==c;)v+=p?1:-1,p&&v>b.cols-1?(_+=b.buffer.translateBufferLineToString(w,!1,l,v),v=0,l=0,w++):!p&&v<0&&(_+=b.buffer.translateBufferLineToString(w,!1,0,l+1),v=b.cols-1,l=v,w--);return _+b.buffer.translateBufferLineToString(w,!1,l,v)}function y(l,d){let a=d?"O":"[";return s.C0.ESC+a+l}function f(l,d){l=Math.floor(l);let a="";for(let c=0;c<l;c++)a+=d;return a}t.moveToCellSequence=function(l,d,a,c){let p=a.buffer.x,b=a.buffer.y;if(!a.buffer.hasScrollback)return function(_,S,M,I,L,E){return u(S,I,L,E).length===0?"":f(g(_,S,_,S-h(S,L),!1,L).length,y("D",E))}(p,b,0,d,a,c)+u(b,d,a,c)+function(_,S,M,I,L,E){let B;B=u(S,I,L,E).length>0?I-h(I,L):S;let W=I,Y=function(ee,$,x,D,R,A){let z;return z=u(x,D,R,A).length>0?D-h(D,R):$,ee<x&&z<=D||ee>=x&&z<D?"C":"D"}(_,S,M,I,L,E);return f(g(_,B,M,W,Y==="C",L).length,y(Y,E))}(p,b,l,d,a,c);let v;if(b===d)return v=p>l?"D":"C",f(Math.abs(p-l),y(v,c));v=b>d?"D":"C";let w=Math.abs(b-d);return f(function(_,S){return S.cols-_}(b>d?l:p,a)+(w-1)*a.cols+1+((b>d?p:l)-1),y(v,c))}},1296:function(r,t,n){var s=this&&this.__decorate||function(E,B,W,Y){var ee,$=arguments.length,x=$<3?B:Y===null?Y=Object.getOwnPropertyDescriptor(B,W):Y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(E,B,W,Y);else for(var D=E.length-1;D>=0;D--)(ee=E[D])&&(x=($<3?ee(x):$>3?ee(B,W,x):ee(B,W))||x);return $>3&&x&&Object.defineProperty(B,W,x),x},u=this&&this.__param||function(E,B){return function(W,Y){B(W,Y,E)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;let h=n(3787),m=n(2550),g=n(2223),y=n(6171),f=n(6052),l=n(4725),d=n(8055),a=n(8460),c=n(844),p=n(2585),b="xterm-dom-renderer-owner-",v="xterm-rows",w="xterm-fg-",_="xterm-bg-",S="xterm-focus",M="xterm-selection",I=1,L=t.DomRenderer=class extends c.Disposable{constructor(E,B,W,Y,ee,$,x,D,R,A,z,X,ce){super(),this._terminal=E,this._document=B,this._element=W,this._screenElement=Y,this._viewportElement=ee,this._helperContainer=$,this._linkifier2=x,this._charSizeService=R,this._optionsService=A,this._bufferService=z,this._coreBrowserService=X,this._themeService=ce,this._terminalClass=I++,this._rowElements=[],this._selectionRenderModel=(0,f.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new a.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(v),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(M),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,y.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ue=>this._injectCss(ue))),this._injectCss(this._themeService.colors),this._rowFactory=D.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ue=>this._handleLinkHover(ue))),this.register(this._linkifier2.onHideLinkUnderline(ue=>this._handleLinkLeave(ue))),this.register((0,c.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new m.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){let E=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*E,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*E),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/E),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/E),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(let W of this._rowElements)W.style.width=`${this.dimensions.css.canvas.width}px`,W.style.height=`${this.dimensions.css.cell.height}px`,W.style.lineHeight=`${this.dimensions.css.cell.height}px`,W.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));let B=`${this._terminalSelector} .${v} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(E){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let B=`${this._terminalSelector} .${v} { color: ${E.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;B+=`${this._terminalSelector} .${v} .xterm-dim { color: ${d.color.multiplyOpacity(E.foreground,.5).css};}`,B+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;let W=`blink_underline_${this._terminalClass}`,Y=`blink_bar_${this._terminalClass}`,ee=`blink_block_${this._terminalClass}`;B+=`@keyframes ${W} { 50% {  border-bottom-style: hidden; }}`,B+=`@keyframes ${Y} { 50% {  box-shadow: none; }}`,B+=`@keyframes ${ee} { 0% {  background-color: ${E.cursor.css};  color: ${E.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${E.cursor.css}; }}`,B+=`${this._terminalSelector} .${v}.${S} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${W} 1s step-end infinite;}${this._terminalSelector} .${v}.${S} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${Y} 1s step-end infinite;}${this._terminalSelector} .${v}.${S} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ee} 1s step-end infinite;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-block { background-color: ${E.cursor.css}; color: ${E.cursorAccent.css};}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${E.cursor.css} !important; color: ${E.cursorAccent.css} !important;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${E.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${E.cursor.css} inset;}${this._terminalSelector} .${v} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${E.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,B+=`${this._terminalSelector} .${M} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${M} div { position: absolute; background-color: ${E.selectionBackgroundOpaque.css};}${this._terminalSelector} .${M} div { position: absolute; background-color: ${E.selectionInactiveBackgroundOpaque.css};}`;for(let[$,x]of E.ansi.entries())B+=`${this._terminalSelector} .${w}${$} { color: ${x.css}; }${this._terminalSelector} .${w}${$}.xterm-dim { color: ${d.color.multiplyOpacity(x,.5).css}; }${this._terminalSelector} .${_}${$} { background-color: ${x.css}; }`;B+=`${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR} { color: ${d.color.opaque(E.background).css}; }${this._terminalSelector} .${w}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${d.color.multiplyOpacity(d.color.opaque(E.background),.5).css}; }${this._terminalSelector} .${_}${g.INVERTED_DEFAULT_COLOR} { background-color: ${E.foreground.css}; }`,this._themeStyleElement.textContent=B}_setDefaultSpacing(){let E=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${E}px`,this._rowFactory.defaultSpacing=E}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(E,B){for(let W=this._rowElements.length;W<=B;W++){let Y=this._document.createElement("div");this._rowContainer.appendChild(Y),this._rowElements.push(Y)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(E,B){this._refreshRowElements(E,B),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(S),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(S),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(E,B,W){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(E,B,W),this.renderRows(0,this._bufferService.rows-1),!E||!B)return;this._selectionRenderModel.update(this._terminal,E,B,W);let Y=this._selectionRenderModel.viewportStartRow,ee=this._selectionRenderModel.viewportEndRow,$=this._selectionRenderModel.viewportCappedStartRow,x=this._selectionRenderModel.viewportCappedEndRow;if($>=this._bufferService.rows||x<0)return;let D=this._document.createDocumentFragment();if(W){let R=E[0]>B[0];D.appendChild(this._createSelectionElement($,R?B[0]:E[0],R?E[0]:B[0],x-$+1))}else{let R=Y===$?E[0]:0,A=$===ee?B[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement($,R,A));let z=x-$-1;if(D.appendChild(this._createSelectionElement($+1,0,this._bufferService.cols,z)),$!==x){let X=ee===x?B[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(x,0,X))}}this._selectionContainer.appendChild(D)}_createSelectionElement(E,B,W,Y=1){let ee=this._document.createElement("div"),$=B*this.dimensions.css.cell.width,x=this.dimensions.css.cell.width*(W-B);return $+x>this.dimensions.css.canvas.width&&(x=this.dimensions.css.canvas.width-$),ee.style.height=Y*this.dimensions.css.cell.height+"px",ee.style.top=E*this.dimensions.css.cell.height+"px",ee.style.left=`${$}px`,ee.style.width=`${x}px`,ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(let E of this._rowElements)E.replaceChildren()}renderRows(E,B){let W=this._bufferService.buffer,Y=W.ybase+W.y,ee=Math.min(W.x,this._bufferService.cols-1),$=this._optionsService.rawOptions.cursorBlink,x=this._optionsService.rawOptions.cursorStyle,D=this._optionsService.rawOptions.cursorInactiveStyle;for(let R=E;R<=B;R++){let A=R+W.ydisp,z=this._rowElements[R],X=W.lines.get(A);if(!z||!X)break;z.replaceChildren(...this._rowFactory.createRow(X,A,A===Y,x,D,ee,$,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)}_handleLinkLeave(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)}_setCellUnderline(E,B,W,Y,ee,$){W<0&&(E=0),Y<0&&(B=0);let x=this._bufferService.rows-1;W=Math.max(Math.min(W,x),0),Y=Math.max(Math.min(Y,x),0),ee=Math.min(ee,this._bufferService.cols);let D=this._bufferService.buffer,R=D.ybase+D.y,A=Math.min(D.x,ee-1),z=this._optionsService.rawOptions.cursorBlink,X=this._optionsService.rawOptions.cursorStyle,ce=this._optionsService.rawOptions.cursorInactiveStyle;for(let ue=W;ue<=Y;++ue){let F=ue+D.ydisp,k=this._rowElements[ue],N=D.lines.get(F);if(!k||!N)break;k.replaceChildren(...this._rowFactory.createRow(N,F,F===R,X,ce,A,z,this.dimensions.css.cell.width,this._widthCache,$?ue===W?E:0:-1,$?(ue===Y?B:ee)-1:-1))}}};t.DomRenderer=L=s([u(7,p.IInstantiationService),u(8,l.ICharSizeService),u(9,p.IOptionsService),u(10,p.IBufferService),u(11,l.ICoreBrowserService),u(12,l.IThemeService)],L)},3787:function(r,t,n){var s=this&&this.__decorate||function(v,w,_,S){var M,I=arguments.length,L=I<3?w:S===null?S=Object.getOwnPropertyDescriptor(w,_):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(v,w,_,S);else for(var E=v.length-1;E>=0;E--)(M=v[E])&&(L=(I<3?M(L):I>3?M(w,_,L):M(w,_))||L);return I>3&&L&&Object.defineProperty(w,_,L),L},u=this&&this.__param||function(v,w){return function(_,S){w(_,S,v)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;let h=n(2223),m=n(643),g=n(511),y=n(2585),f=n(8055),l=n(4725),d=n(4269),a=n(6171),c=n(3734),p=t.DomRendererRowFactory=class{constructor(v,w,_,S,M,I,L){this._document=v,this._characterJoinerService=w,this._optionsService=_,this._coreBrowserService=S,this._coreService=M,this._decorationService=I,this._themeService=L,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(v,w,_){this._selectionStart=v,this._selectionEnd=w,this._columnSelectMode=_}createRow(v,w,_,S,M,I,L,E,B,W,Y){let ee=[],$=this._characterJoinerService.getJoinedCharacters(w),x=this._themeService.colors,D,R=v.getNoBgTrimmedLength();_&&R<I+1&&(R=I+1);let A=0,z="",X=0,ce=0,ue=0,F=!1,k=0,N=!1,U=0,J=[],Q=W!==-1&&Y!==-1;for(let Te=0;Te<R;Te++){v.loadCell(Te,this._workCell);let $e=this._workCell.getWidth();if($e===0)continue;let Ke=!1,ct=Te,me=this._workCell;if($.length>0&&Te===$[0][0]){Ke=!0;let Ve=$.shift();me=new d.JoinedCellData(this._workCell,v.translateToString(!0,Ve[0],Ve[1]),Ve[1]-Ve[0]),ct=Ve[1]-1,$e=me.getWidth()}let Fi=this._isCellInSelection(Te,w),vn=_&&Te===I,bn=Q&&Te>=W&&Te<=Y,yn=!1;this._decorationService.forEachDecorationAtCell(Te,w,void 0,Ve=>{yn=!0});let dr=me.getChars()||m.WHITESPACE_CELL_CHAR;if(dr===" "&&(me.isUnderline()||me.isOverline())&&(dr="\xA0"),U=$e*E-B.get(dr,me.isBold(),me.isItalic()),D){if(A&&(Fi&&N||!Fi&&!N&&me.bg===X)&&(Fi&&N&&x.selectionForeground||me.fg===ce)&&me.extended.ext===ue&&bn===F&&U===k&&!vn&&!Ke&&!yn){me.isInvisible()?z+=m.WHITESPACE_CELL_CHAR:z+=dr,A++;continue}A&&(D.textContent=z),D=this._document.createElement("span"),A=0,z=""}else D=this._document.createElement("span");if(X=me.bg,ce=me.fg,ue=me.extended.ext,F=bn,k=U,N=Fi,Ke&&I>=Te&&I<=ct&&(I=Te),!this._coreService.isCursorHidden&&vn&&this._coreService.isCursorInitialized){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)L&&J.push("xterm-cursor-blink"),J.push(S==="bar"?"xterm-cursor-bar":S==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(M)switch(M){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline")}}if(me.isBold()&&J.push("xterm-bold"),me.isItalic()&&J.push("xterm-italic"),me.isDim()&&J.push("xterm-dim"),z=me.isInvisible()?m.WHITESPACE_CELL_CHAR:me.getChars()||m.WHITESPACE_CELL_CHAR,me.isUnderline()&&(J.push(`xterm-underline-${me.extended.underlineStyle}`),z===" "&&(z="\xA0"),!me.isUnderlineColorDefault()))if(me.isUnderlineColorRGB())D.style.textDecorationColor=`rgb(${c.AttributeData.toColorRGB(me.getUnderlineColor()).join(",")})`;else{let Ve=me.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&me.isBold()&&Ve<8&&(Ve+=8),D.style.textDecorationColor=x.ansi[Ve].css}me.isOverline()&&(J.push("xterm-overline"),z===" "&&(z="\xA0")),me.isStrikethrough()&&J.push("xterm-strikethrough"),bn&&(D.style.textDecoration="underline");let vt=me.getFgColor(),Bi=me.getFgColorMode(),At=me.getBgColor(),Hi=me.getBgColorMode(),Cn=!!me.isInverse();if(Cn){let Ve=vt;vt=At,At=Ve;let fl=Bi;Bi=Hi,Hi=fl}let Ut,hr,$t,Ni=!1;switch(this._decorationService.forEachDecorationAtCell(Te,w,void 0,Ve=>{Ve.options.layer!=="top"&&Ni||(Ve.backgroundColorRGB&&(Hi=50331648,At=Ve.backgroundColorRGB.rgba>>8&16777215,Ut=Ve.backgroundColorRGB),Ve.foregroundColorRGB&&(Bi=50331648,vt=Ve.foregroundColorRGB.rgba>>8&16777215,hr=Ve.foregroundColorRGB),Ni=Ve.options.layer==="top")}),!Ni&&Fi&&(Ut=this._coreBrowserService.isFocused?x.selectionBackgroundOpaque:x.selectionInactiveBackgroundOpaque,At=Ut.rgba>>8&16777215,Hi=50331648,Ni=!0,x.selectionForeground&&(Bi=50331648,vt=x.selectionForeground.rgba>>8&16777215,hr=x.selectionForeground)),Ni&&J.push("xterm-decoration-top"),Hi){case 16777216:case 33554432:$t=x.ansi[At],J.push(`xterm-bg-${At}`);break;case 50331648:$t=f.channels.toColor(At>>16,At>>8&255,255&At),this._addStyle(D,`background-color:#${b((At>>>0).toString(16),"0",6)}`);break;default:Cn?($t=x.foreground,J.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):$t=x.background}switch(Ut||me.isDim()&&(Ut=f.color.multiplyOpacity($t,.5)),Bi){case 16777216:case 33554432:me.isBold()&&vt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(vt+=8),this._applyMinimumContrast(D,$t,x.ansi[vt],me,Ut,void 0)||J.push(`xterm-fg-${vt}`);break;case 50331648:let Ve=f.channels.toColor(vt>>16&255,vt>>8&255,255&vt);this._applyMinimumContrast(D,$t,Ve,me,Ut,hr)||this._addStyle(D,`color:#${b(vt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(D,$t,x.foreground,me,Ut,hr)||Cn&&J.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}J.length&&(D.className=J.join(" "),J.length=0),vn||Ke||yn?D.textContent=z:A++,U!==this.defaultSpacing&&(D.style.letterSpacing=`${U}px`),ee.push(D),Te=ct}return D&&A&&(D.textContent=z),ee}_applyMinimumContrast(v,w,_,S,M,I){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,a.treatGlyphAsBackgroundColor)(S.getCode()))return!1;let L=this._getContrastCache(S),E;if(M||I||(E=L.getColor(w.rgba,_.rgba)),E===void 0){let B=this._optionsService.rawOptions.minimumContrastRatio/(S.isDim()?2:1);E=f.color.ensureContrastRatio(M||w,I||_,B),L.setColor((M||w).rgba,(I||_).rgba,E??null)}return!!E&&(this._addStyle(v,`color:${E.css}`),!0)}_getContrastCache(v){return v.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(v,w){v.setAttribute("style",`${v.getAttribute("style")||""}${w};`)}_isCellInSelection(v,w){let _=this._selectionStart,S=this._selectionEnd;return!(!_||!S)&&(this._columnSelectMode?_[0]<=S[0]?v>=_[0]&&w>=_[1]&&v<S[0]&&w<=S[1]:v<_[0]&&w>=_[1]&&v>=S[0]&&w<=S[1]:w>_[1]&&w<S[1]||_[1]===S[1]&&w===_[1]&&v>=_[0]&&v<S[0]||_[1]<S[1]&&w===S[1]&&v<S[0]||_[1]<S[1]&&w===_[1]&&v>=_[0])}};function b(v,w,_){for(;v.length<_;)v=w+v;return v}t.DomRendererRowFactory=p=s([u(1,l.ICharacterJoinerService),u(2,y.IOptionsService),u(3,l.ICoreBrowserService),u(4,y.ICoreService),u(5,y.IDecorationService),u(6,l.IThemeService)],p)},2550:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(n,s){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=n.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";let u=n.createElement("span");u.classList.add("xterm-char-measure-element");let h=n.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";let m=n.createElement("span");m.classList.add("xterm-char-measure-element"),m.style.fontStyle="italic";let g=n.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[u,h,m,g],this._container.appendChild(u),this._container.appendChild(h),this._container.appendChild(m),this._container.appendChild(g),s.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(n,s,u,h){n===this._font&&s===this._fontSize&&u===this._weight&&h===this._weightBold||(this._font=n,this._fontSize=s,this._weight=u,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${u}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${u}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(n,s,u){let h=0;if(!s&&!u&&n.length===1&&(h=n.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];let y=this._measure(n,0);return y>0&&(this._flat[h]=y),y}let m=n;s&&(m+="B"),u&&(m+="I");let g=this._holey.get(m);if(g===void 0){let y=0;s&&(y|=1),u&&(y|=2),g=this._measure(n,y),g>0&&this._holey.set(m,g)}return g}_measure(n,s){let u=this._measureElements[s];return u.textContent=n.repeat(32),u.offsetWidth/32}}},2223:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;let s=n(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=s.isFirefox||s.isLegacyEdge?"bottom":"ideographic"},6171:(r,t)=>{function n(u){return 57508<=u&&u<=57558}function s(u){return u>=128512&&u<=128591||u>=127744&&u<=128511||u>=128640&&u<=128767||u>=9728&&u<=9983||u>=9984&&u<=10175||u>=65024&&u<=65039||u>=129280&&u<=129535||u>=127462&&u<=127487}Object.defineProperty(t,"__esModule",{value:!0}),t.computeNextVariantOffset=t.createRenderDimensions=t.treatGlyphAsBackgroundColor=t.allowRescaling=t.isEmoji=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},t.isPowerlineGlyph=n,t.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},t.isEmoji=s,t.allowRescaling=function(u,h,m,g){return h===1&&m>Math.ceil(1.5*g)&&u!==void 0&&u>255&&!s(u)&&!n(u)&&!function(y){return 57344<=y&&y<=63743}(u)},t.treatGlyphAsBackgroundColor=function(u){return n(u)||function(h){return 9472<=h&&h<=9631}(u)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},t.computeNextVariantOffset=function(u,h,m=0){return(u-(2*Math.round(h)-m))%(2*Math.round(h))}},6052:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSelectionRenderModel=void 0;class n{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(u,h,m,g=!1){if(this.selectionStart=h,this.selectionEnd=m,!h||!m||h[0]===m[0]&&h[1]===m[1])return void this.clear();let y=u.buffers.active.ydisp,f=h[1]-y,l=m[1]-y,d=Math.max(f,0),a=Math.min(l,u.rows-1);d>=u.rows||a<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=g,this.viewportStartRow=f,this.viewportEndRow=l,this.viewportCappedStartRow=d,this.viewportCappedEndRow=a,this.startCol=h[0],this.endCol=m[0])}isCellSelected(u,h,m){return!!this.hasSelection&&(m-=u.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&m>=this.viewportCappedStartRow&&h<this.endCol&&m<=this.viewportCappedEndRow:h<this.startCol&&m>=this.viewportCappedStartRow&&h>=this.endCol&&m<=this.viewportCappedEndRow:m>this.viewportStartRow&&m<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&m===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&m===this.viewportStartRow&&h>=this.startCol)}}t.createSelectionRenderModel=function(){return new n}},456:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){let n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){let n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){let n=this.selectionStart,s=this.selectionEnd;return!(!n||!s)&&(n[1]>s[1]||n[1]===s[1]&&n[0]>s[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(r,t,n){var s=this&&this.__decorate||function(a,c,p,b){var v,w=arguments.length,_=w<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,c,p,b);else for(var S=a.length-1;S>=0;S--)(v=a[S])&&(_=(w<3?v(_):w>3?v(c,p,_):v(c,p))||_);return w>3&&_&&Object.defineProperty(c,p,_),_},u=this&&this.__param||function(a,c){return function(p,b){c(p,b,a)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;let h=n(2585),m=n(8460),g=n(844),y=t.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,c,p){super(),this._optionsService=p,this.width=0,this.height=0,this._onCharSizeChange=this.register(new m.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new d(this._optionsService))}catch{this._measureStrategy=this.register(new l(a,c,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){let a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};t.CharSizeService=y=s([u(2,h.IOptionsService)],y);class f extends g.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(c,p){c!==void 0&&c>0&&p!==void 0&&p>0&&(this._result.width=c,this._result.height=p)}}class l extends f{constructor(c,p,b){super(),this._document=c,this._parentElement=p,this._optionsService=b,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class d extends f{constructor(c){super(),this._optionsService=c,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");let p=this._ctx.measureText("W");if(!("width"in p&&"fontBoundingBoxAscent"in p&&"fontBoundingBoxDescent"in p))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;let c=this._ctx.measureText("W");return this._validateAndSet(c.width,c.fontBoundingBoxAscent+c.fontBoundingBoxDescent),this._result}}},4269:function(r,t,n){var s=this&&this.__decorate||function(d,a,c,p){var b,v=arguments.length,w=v<3?a:p===null?p=Object.getOwnPropertyDescriptor(a,c):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(d,a,c,p);else for(var _=d.length-1;_>=0;_--)(b=d[_])&&(w=(v<3?b(w):v>3?b(a,c,w):b(a,c))||w);return v>3&&w&&Object.defineProperty(a,c,w),w},u=this&&this.__param||function(d,a){return function(c,p){a(c,p,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;let h=n(3734),m=n(643),g=n(511),y=n(2585);class f extends h.AttributeData{constructor(a,c,p){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=c,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=f;let l=t.CharacterJoinerService=class Ua{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(a){let c={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(c),c.id}deregister(a){for(let c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===a)return this._characterJoiners.splice(c,1),!0;return!1}getJoinedCharacters(a){if(this._characterJoiners.length===0)return[];let c=this._bufferService.buffer.lines.get(a);if(!c||c.length===0)return[];let p=[],b=c.translateToString(!0),v=0,w=0,_=0,S=c.getFg(0),M=c.getBg(0);for(let I=0;I<c.getTrimmedLength();I++)if(c.loadCell(I,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==S||this._workCell.bg!==M){if(I-v>1){let L=this._getJoinedRanges(b,_,w,c,v);for(let E=0;E<L.length;E++)p.push(L[E])}v=I,_=w,S=this._workCell.fg,M=this._workCell.bg}w+=this._workCell.getChars().length||m.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-v>1){let I=this._getJoinedRanges(b,_,w,c,v);for(let L=0;L<I.length;L++)p.push(I[L])}return p}_getJoinedRanges(a,c,p,b,v){let w=a.substring(c,p),_=[];try{_=this._characterJoiners[0].handler(w)}catch(S){console.error(S)}for(let S=1;S<this._characterJoiners.length;S++)try{let M=this._characterJoiners[S].handler(w);for(let I=0;I<M.length;I++)Ua._mergeRanges(_,M[I])}catch(M){console.error(M)}return this._stringRangesToCellRanges(_,b,v),_}_stringRangesToCellRanges(a,c,p){let b=0,v=!1,w=0,_=a[b];if(_){for(let S=p;S<this._bufferService.cols;S++){let M=c.getWidth(S),I=c.getString(S).length||m.WHITESPACE_CELL_CHAR.length;if(M!==0){if(!v&&_[0]<=w&&(_[0]=S,v=!0),_[1]<=w){if(_[1]=S,_=a[++b],!_)break;_[0]<=w?(_[0]=S,v=!0):v=!1}w+=I}}_&&(_[1]=this._bufferService.cols)}}static _mergeRanges(a,c){let p=!1;for(let b=0;b<a.length;b++){let v=a[b];if(p){if(c[1]<=v[0])return a[b-1][1]=c[1],a;if(c[1]<=v[1])return a[b-1][1]=Math.max(c[1],v[1]),a.splice(b,1),a;a.splice(b,1),b--}else{if(c[1]<=v[0])return a.splice(b,0,c),a;if(c[1]<=v[1])return v[0]=Math.min(c[0],v[0]),a;c[0]<v[1]&&(v[0]=Math.min(c[0],v[0]),p=!0)}}return p?a[a.length-1][1]=c[1]:a.push(c),a}};t.CharacterJoinerService=l=s([u(0,y.IBufferService)],l)},5114:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0;let s=n(844),u=n(8460),h=n(3656);class m extends s.Disposable{constructor(f,l,d){super(),this._textarea=f,this._window=l,this.mainDocument=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new g(this._window),this._onDprChange=this.register(new u.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new u.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(a=>this._screenDprMonitor.setWindow(a))),this.register((0,u.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(f){this._window!==f&&(this._window=f,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}t.CoreBrowserService=m;class g extends s.Disposable{constructor(f){super(),this._parentWindow=f,this._windowResizeListener=this.register(new s.MutableDisposable),this._onDprChange=this.register(new u.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,s.toDisposable)(()=>this.clearListener()))}setWindow(f){this._parentWindow=f,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){this._outerListener&&(this._resolutionMediaMatchList?.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkProviderService=void 0;let s=n(844);class u extends s.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,s.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(m){return this.linkProviders.push(m),{dispose:()=>{let g=this.linkProviders.indexOf(m);g!==-1&&this.linkProviders.splice(g,1)}}}}t.LinkProviderService=u},8934:function(r,t,n){var s=this&&this.__decorate||function(y,f,l,d){var a,c=arguments.length,p=c<3?f:d===null?d=Object.getOwnPropertyDescriptor(f,l):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(y,f,l,d);else for(var b=y.length-1;b>=0;b--)(a=y[b])&&(p=(c<3?a(p):c>3?a(f,l,p):a(f,l))||p);return c>3&&p&&Object.defineProperty(f,l,p),p},u=this&&this.__param||function(y,f){return function(l,d){f(l,d,y)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;let h=n(4725),m=n(9806),g=t.MouseService=class{constructor(y,f){this._renderService=y,this._charSizeService=f}getCoords(y,f,l,d,a){return(0,m.getCoords)(window,y,f,l,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,a)}getMouseReportCoords(y,f){let l=(0,m.getCoordsRelativeToElement)(window,y,f);if(this._charSizeService.hasValidSize)return l[0]=Math.min(Math.max(l[0],0),this._renderService.dimensions.css.canvas.width-1),l[1]=Math.min(Math.max(l[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(l[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(l[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(l[0]),y:Math.floor(l[1])}}};t.MouseService=g=s([u(0,h.IRenderService),u(1,h.ICharSizeService)],g)},3230:function(r,t,n){var s=this&&this.__decorate||function(a,c,p,b){var v,w=arguments.length,_=w<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,c,p,b);else for(var S=a.length-1;S>=0;S--)(v=a[S])&&(_=(w<3?v(_):w>3?v(c,p,_):v(c,p))||_);return w>3&&_&&Object.defineProperty(c,p,_),_},u=this&&this.__param||function(a,c){return function(p,b){c(p,b,a)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;let h=n(6193),m=n(4725),g=n(8460),y=n(844),f=n(7226),l=n(2585),d=t.RenderService=class extends y.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(a,c,p,b,v,w,_,S){super(),this._rowCount=a,this._charSizeService=b,this._renderer=this.register(new y.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._observerDisposable=this.register(new y.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new g.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new g.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new g.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((M,I)=>this._renderRows(M,I),_),this.register(this._renderDebouncer),this.register(_.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(w.onResize(()=>this._fullRefresh())),this.register(w.buffers.onBufferActivate(()=>this._renderer.value?.clear())),this.register(p.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(v.onDecorationRegistered(()=>this._fullRefresh())),this.register(v.onDecorationRemoved(()=>this._fullRefresh())),this.register(p.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(w.cols,w.rows),this._fullRefresh()})),this.register(p.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(w.buffer.y,w.buffer.y,!0))),this.register(S.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(_.window,c),this.register(_.onWindowChange(M=>this._registerIntersectionObserver(M,c)))}_registerIntersectionObserver(a,c){if("IntersectionObserver"in a){let p=new a.IntersectionObserver(b=>this._handleIntersectionChange(b[b.length-1]),{threshold:0});p.observe(c),this._observerDisposable.value=(0,y.toDisposable)(()=>p.disconnect())}}_handleIntersectionChange(a){this._isPaused=a.isIntersecting===void 0?a.intersectionRatio===0:!a.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(a,c,p=!1){this._isPaused?this._needsFullRefresh=!0:(p||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(a,c,this._rowCount))}_renderRows(a,c){this._renderer.value&&(a=Math.min(a,this._rowCount-1),c=Math.min(c,this._rowCount-1),this._renderer.value.renderRows(a,c),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:a,end:c}),this._onRender.fire({start:a,end:c}),this._isNextRenderRedrawOnly=!0)}resize(a,c){this._rowCount=c,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(a){this._renderer.value=a,this._renderer.value&&(this._renderer.value.onRequestRedraw(c=>this.refreshRows(c.start,c.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(a){return this._renderDebouncer.addRefreshCallback(a)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){this._renderer.value&&(this._renderer.value.clearTextureAtlas?.(),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(a,c){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value?.handleResize(a,c)):this._renderer.value.handleResize(a,c),this._fullRefresh())}handleCharSizeChanged(){this._renderer.value?.handleCharSizeChanged()}handleBlur(){this._renderer.value?.handleBlur()}handleFocus(){this._renderer.value?.handleFocus()}handleSelectionChanged(a,c,p){this._selectionState.start=a,this._selectionState.end=c,this._selectionState.columnSelectMode=p,this._renderer.value?.handleSelectionChanged(a,c,p)}handleCursorMove(){this._renderer.value?.handleCursorMove()}clear(){this._renderer.value?.clear()}};t.RenderService=d=s([u(2,l.IOptionsService),u(3,m.ICharSizeService),u(4,l.IDecorationService),u(5,l.IBufferService),u(6,m.ICoreBrowserService),u(7,m.IThemeService)],d)},9312:function(r,t,n){var s=this&&this.__decorate||function(_,S,M,I){var L,E=arguments.length,B=E<3?S:I===null?I=Object.getOwnPropertyDescriptor(S,M):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(_,S,M,I);else for(var W=_.length-1;W>=0;W--)(L=_[W])&&(B=(E<3?L(B):E>3?L(S,M,B):L(S,M))||B);return E>3&&B&&Object.defineProperty(S,M,B),B},u=this&&this.__param||function(_,S){return function(M,I){S(M,I,_)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;let h=n(9806),m=n(9504),g=n(456),y=n(4725),f=n(8460),l=n(844),d=n(6114),a=n(4841),c=n(511),p=n(2585),b="\xA0",v=new RegExp(b,"g"),w=t.SelectionService=class extends l.Disposable{constructor(_,S,M,I,L,E,B,W,Y){super(),this._element=_,this._screenElement=S,this._linkifier=M,this._bufferService=I,this._coreService=L,this._mouseService=E,this._optionsService=B,this._renderService=W,this._coreBrowserService=Y,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new c.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new f.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new f.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ee=>this._handleTrim(ee)),this.register(this._bufferService.buffers.onBufferActivate(ee=>this._handleBufferActivate(ee))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,l.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){let _=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;return!(!_||!S||_[0]===S[0]&&_[1]===S[1])}get selectionText(){let _=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;if(!_||!S)return"";let M=this._bufferService.buffer,I=[];if(this._activeSelectionMode===3){if(_[0]===S[0])return"";let L=_[0]<S[0]?_[0]:S[0],E=_[0]<S[0]?S[0]:_[0];for(let B=_[1];B<=S[1];B++){let W=M.translateBufferLineToString(B,!0,L,E);I.push(W)}}else{let L=_[1]===S[1]?S[0]:void 0;I.push(M.translateBufferLineToString(_[1],!0,_[0],L));for(let E=_[1]+1;E<=S[1]-1;E++){let B=M.lines.get(E),W=M.translateBufferLineToString(E,!0);B?.isWrapped?I[I.length-1]+=W:I.push(W)}if(_[1]!==S[1]){let E=M.lines.get(S[1]),B=M.translateBufferLineToString(S[1],!0,0,S[0]);E&&E.isWrapped?I[I.length-1]+=B:I.push(B)}}return I.map(L=>L.replace(v," ")).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(_){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&_&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(_){let S=this._getMouseBufferCoords(_),M=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!!(M&&I&&S)&&this._areCoordsInSelection(S,M,I)}isCellInSelection(_,S){let M=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!M||!I)&&this._areCoordsInSelection([_,S],M,I)}_areCoordsInSelection(_,S,M){return _[1]>S[1]&&_[1]<M[1]||S[1]===M[1]&&_[1]===S[1]&&_[0]>=S[0]&&_[0]<M[0]||S[1]<M[1]&&_[1]===M[1]&&_[0]<M[0]||S[1]<M[1]&&_[1]===S[1]&&_[0]>=S[0]}_selectWordAtCursor(_,S){let M=this._linkifier.currentLink?.link?.range;if(M)return this._model.selectionStart=[M.start.x-1,M.start.y-1],this._model.selectionStartLength=(0,a.getRangeLength)(M,this._bufferService.cols),this._model.selectionEnd=void 0,!0;let I=this._getMouseBufferCoords(_);return!!I&&(this._selectWordAt(I,S),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(_,S){this._model.clearSelection(),_=Math.max(_,0),S=Math.min(S,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,_],this._model.selectionEnd=[this._bufferService.cols,S],this.refresh(),this._onSelectionChange.fire()}_handleTrim(_){this._model.handleTrim(_)&&this.refresh()}_getMouseBufferCoords(_){let S=this._mouseService.getCoords(_,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(S)return S[0]--,S[1]--,S[1]+=this._bufferService.buffer.ydisp,S}_getMouseEventScrollAmount(_){let S=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,_,this._screenElement)[1],M=this._renderService.dimensions.css.canvas.height;return S>=0&&S<=M?0:(S>M&&(S-=M),S=Math.min(Math.max(S,-50),50),S/=50,S/Math.abs(S)+Math.round(14*S))}shouldForceSelection(_){return d.isMac?_.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:_.shiftKey}handleMouseDown(_){if(this._mouseDownTimeStamp=_.timeStamp,(_.button!==2||!this.hasSelection)&&_.button===0){if(!this._enabled){if(!this.shouldForceSelection(_))return;_.stopPropagation()}_.preventDefault(),this._dragScrollAmount=0,this._enabled&&_.shiftKey?this._handleIncrementalClick(_):_.detail===1?this._handleSingleClick(_):_.detail===2?this._handleDoubleClick(_):_.detail===3&&this._handleTripleClick(_),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(_){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(_))}_handleSingleClick(_){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(_)?3:0,this._model.selectionStart=this._getMouseBufferCoords(_),!this._model.selectionStart)return;this._model.selectionEnd=void 0;let S=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);S&&S.length!==this._model.selectionStart[0]&&S.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(_){this._selectWordAtCursor(_,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(_){let S=this._getMouseBufferCoords(_);S&&(this._activeSelectionMode=2,this._selectLineAt(S[1]))}shouldColumnSelect(_){return _.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(_){if(_.stopImmediatePropagation(),!this._model.selectionStart)return;let S=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(_),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(_),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));let M=this._bufferService.buffer;if(this._model.selectionEnd[1]<M.lines.length){let I=M.lines.get(this._model.selectionEnd[1]);I&&I.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}S&&S[0]===this._model.selectionEnd[0]&&S[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});let _=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(_.ydisp+this._bufferService.rows,_.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=_.ydisp),this.refresh()}}_handleMouseUp(_){let S=_.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&S<500&&_.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){let M=this._mouseService.getCoords(_,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(M&&M[0]!==void 0&&M[1]!==void 0){let I=(0,m.moveToCellSequence)(M[0]-1,M[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(I,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){let _=this._model.finalSelectionStart,S=this._model.finalSelectionEnd,M=!(!_||!S||_[0]===S[0]&&_[1]===S[1]);M?_&&S&&(this._oldSelectionStart&&this._oldSelectionEnd&&_[0]===this._oldSelectionStart[0]&&_[1]===this._oldSelectionStart[1]&&S[0]===this._oldSelectionEnd[0]&&S[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(_,S,M)):this._oldHasSelection&&this._fireOnSelectionChange(_,S,M)}_fireOnSelectionChange(_,S,M){this._oldSelectionStart=_,this._oldSelectionEnd=S,this._oldHasSelection=M,this._onSelectionChange.fire()}_handleBufferActivate(_){this.clearSelection(),this._trimListener.dispose(),this._trimListener=_.activeBuffer.lines.onTrim(S=>this._handleTrim(S))}_convertViewportColToCharacterIndex(_,S){let M=S;for(let I=0;S>=I;I++){let L=_.loadCell(I,this._workCell).getChars().length;this._workCell.getWidth()===0?M--:L>1&&S!==I&&(M+=L-1)}return M}setSelection(_,S,M){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[_,S],this._model.selectionStartLength=M,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(_){this._isClickInSelection(_)||(this._selectWordAtCursor(_,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(_,S,M=!0,I=!0){if(_[0]>=this._bufferService.cols)return;let L=this._bufferService.buffer,E=L.lines.get(_[1]);if(!E)return;let B=L.translateBufferLineToString(_[1],!1),W=this._convertViewportColToCharacterIndex(E,_[0]),Y=W,ee=_[0]-W,$=0,x=0,D=0,R=0;if(B.charAt(W)===" "){for(;W>0&&B.charAt(W-1)===" ";)W--;for(;Y<B.length&&B.charAt(Y+1)===" ";)Y++}else{let X=_[0],ce=_[0];E.getWidth(X)===0&&($++,X--),E.getWidth(ce)===2&&(x++,ce++);let ue=E.getString(ce).length;for(ue>1&&(R+=ue-1,Y+=ue-1);X>0&&W>0&&!this._isCharWordSeparator(E.loadCell(X-1,this._workCell));){E.loadCell(X-1,this._workCell);let F=this._workCell.getChars().length;this._workCell.getWidth()===0?($++,X--):F>1&&(D+=F-1,W-=F-1),W--,X--}for(;ce<E.length&&Y+1<B.length&&!this._isCharWordSeparator(E.loadCell(ce+1,this._workCell));){E.loadCell(ce+1,this._workCell);let F=this._workCell.getChars().length;this._workCell.getWidth()===2?(x++,ce++):F>1&&(R+=F-1,Y+=F-1),Y++,ce++}}Y++;let A=W+ee-$+D,z=Math.min(this._bufferService.cols,Y-W+$+x-D-R);if(S||B.slice(W,Y).trim()!==""){if(M&&A===0&&E.getCodePoint(0)!==32){let X=L.lines.get(_[1]-1);if(X&&E.isWrapped&&X.getCodePoint(this._bufferService.cols-1)!==32){let ce=this._getWordAt([this._bufferService.cols-1,_[1]-1],!1,!0,!1);if(ce){let ue=this._bufferService.cols-ce.start;A-=ue,z+=ue}}}if(I&&A+z===this._bufferService.cols&&E.getCodePoint(this._bufferService.cols-1)!==32){let X=L.lines.get(_[1]+1);if(X?.isWrapped&&X.getCodePoint(0)!==32){let ce=this._getWordAt([0,_[1]+1],!1,!1,!0);ce&&(z+=ce.length)}}return{start:A,length:z}}}_selectWordAt(_,S){let M=this._getWordAt(_,S);if(M){for(;M.start<0;)M.start+=this._bufferService.cols,_[1]--;this._model.selectionStart=[M.start,_[1]],this._model.selectionStartLength=M.length}}_selectToWordAt(_){let S=this._getWordAt(_,!0);if(S){let M=_[1];for(;S.start<0;)S.start+=this._bufferService.cols,M--;if(!this._model.areSelectionValuesReversed())for(;S.start+S.length>this._bufferService.cols;)S.length-=this._bufferService.cols,M++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?S.start:S.start+S.length,M]}}_isCharWordSeparator(_){return _.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(_.getChars())>=0}_selectLineAt(_){let S=this._bufferService.buffer.getWrappedRangeForLine(_),M={start:{x:0,y:S.first},end:{x:this._bufferService.cols-1,y:S.last}};this._model.selectionStart=[0,S.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,a.getRangeLength)(M,this._bufferService.cols)}};t.SelectionService=w=s([u(3,p.IBufferService),u(4,p.ICoreService),u(5,y.IMouseService),u(6,p.IOptionsService),u(7,y.IRenderService),u(8,y.ICoreBrowserService)],w)},4725:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ILinkProviderService=t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;let s=n(8343);t.ICharSizeService=(0,s.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,s.createDecorator)("CoreBrowserService"),t.IMouseService=(0,s.createDecorator)("MouseService"),t.IRenderService=(0,s.createDecorator)("RenderService"),t.ISelectionService=(0,s.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,s.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,s.createDecorator)("ThemeService"),t.ILinkProviderService=(0,s.createDecorator)("LinkProviderService")},6731:function(r,t,n){var s=this&&this.__decorate||function(w,_,S,M){var I,L=arguments.length,E=L<3?_:M===null?M=Object.getOwnPropertyDescriptor(_,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(w,_,S,M);else for(var B=w.length-1;B>=0;B--)(I=w[B])&&(E=(L<3?I(E):L>3?I(_,S,E):I(_,S))||E);return L>3&&E&&Object.defineProperty(_,S,E),E},u=this&&this.__param||function(w,_){return function(S,M){_(S,M,w)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;let h=n(7239),m=n(8055),g=n(8460),y=n(844),f=n(2585),l=m.css.toColor("#ffffff"),d=m.css.toColor("#000000"),a=m.css.toColor("#ffffff"),c=m.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{let w=[m.css.toColor("#2e3436"),m.css.toColor("#cc0000"),m.css.toColor("#4e9a06"),m.css.toColor("#c4a000"),m.css.toColor("#3465a4"),m.css.toColor("#75507b"),m.css.toColor("#06989a"),m.css.toColor("#d3d7cf"),m.css.toColor("#555753"),m.css.toColor("#ef2929"),m.css.toColor("#8ae234"),m.css.toColor("#fce94f"),m.css.toColor("#729fcf"),m.css.toColor("#ad7fa8"),m.css.toColor("#34e2e2"),m.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let S=0;S<216;S++){let M=_[S/36%6|0],I=_[S/6%6|0],L=_[S%6];w.push({css:m.channels.toCss(M,I,L),rgba:m.channels.toRgba(M,I,L)})}for(let S=0;S<24;S++){let M=8+10*S;w.push({css:m.channels.toCss(M,M,M),rgba:m.channels.toRgba(M,M,M)})}return w})());let b=t.ThemeService=class extends y.Disposable{get colors(){return this._colors}constructor(w){super(),this._optionsService=w,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:l,background:d,cursor:a,cursorAccent:c,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:m.color.blend(d,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:m.color.blend(d,p),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(w={}){let _=this._colors;if(_.foreground=v(w.foreground,l),_.background=v(w.background,d),_.cursor=v(w.cursor,a),_.cursorAccent=v(w.cursorAccent,c),_.selectionBackgroundTransparent=v(w.selectionBackground,p),_.selectionBackgroundOpaque=m.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=v(w.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=m.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=w.selectionForeground?v(w.selectionForeground,m.NULL_COLOR):void 0,_.selectionForeground===m.NULL_COLOR&&(_.selectionForeground=void 0),m.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=m.color.opacity(_.selectionBackgroundTransparent,.3)),m.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=m.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=t.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=v(w.black,t.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=v(w.red,t.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=v(w.green,t.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=v(w.yellow,t.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=v(w.blue,t.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=v(w.magenta,t.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=v(w.cyan,t.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=v(w.white,t.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=v(w.brightBlack,t.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=v(w.brightRed,t.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=v(w.brightGreen,t.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=v(w.brightYellow,t.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=v(w.brightBlue,t.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=v(w.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=v(w.brightCyan,t.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=v(w.brightWhite,t.DEFAULT_ANSI_COLORS[15]),w.extendedAnsi){let S=Math.min(_.ansi.length-16,w.extendedAnsi.length);for(let M=0;M<S;M++)_.ansi[M+16]=v(w.extendedAnsi[M],t.DEFAULT_ANSI_COLORS[M+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(w){this._restoreColor(w),this._onChangeColors.fire(this.colors)}_restoreColor(w){if(w!==void 0)switch(w){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[w]=this._restoreColors.ansi[w]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(w){w(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function v(w,_){if(w!==void 0)try{return m.css.toColor(w)}catch{}return _}t.ThemeService=b=s([u(0,f.IOptionsService)],b)},6349:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;let s=n(8460),u=n(844);class h extends u.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new s.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new s.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new s.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;let y=new Array(g);for(let f=0;f<Math.min(g,this.length);f++)y[f]=this._array[this._getCyclicIndex(f)];this._array=y,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let y=this._length;y<g;y++)this._array[y]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,y){this._array[this._getCyclicIndex(g)]=y}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,y,...f){if(y){for(let l=g;l<this._length-y;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+y)];this._length-=y,this.onDeleteEmitter.fire({index:g,amount:y})}for(let l=this._length-1;l>=g;l--)this._array[this._getCyclicIndex(l+f.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<f.length;l++)this._array[this._getCyclicIndex(g+l)]=f[l];if(f.length&&this.onInsertEmitter.fire({index:g,amount:f.length}),this._length+f.length>this._maxLength){let l=this._length+f.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=f.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,y,f){if(!(y<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+f<0)throw new Error("Cannot shift elements in list beyond index 0");if(f>0){for(let d=y-1;d>=0;d--)this.set(g+d+f,this.get(g+d));let l=g+y+f-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<y;l++)this.set(g+l+f,this.get(g+l))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}t.CircularList=h},1439:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function n(s,u=5){if(typeof s!="object")return s;let h=Array.isArray(s)?[]:{};for(let m in s)h[m]=u<=1?s[m]:s[m]&&n(s[m],u-1);return h}},8055:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;let n=0,s=0,u=0,h=0;var m,g,y,f,l;function d(c){let p=c.toString(16);return p.length<2?"0"+p:p}function a(c,p){return c<p?(p+.05)/(c+.05):(c+.05)/(p+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(c){c.toCss=function(p,b,v,w){return w!==void 0?`#${d(p)}${d(b)}${d(v)}${d(w)}`:`#${d(p)}${d(b)}${d(v)}`},c.toRgba=function(p,b,v,w=255){return(p<<24|b<<16|v<<8|w)>>>0},c.toColor=function(p,b,v,w){return{css:c.toCss(p,b,v,w),rgba:c.toRgba(p,b,v,w)}}}(m||(t.channels=m={})),function(c){function p(b,v){return h=Math.round(255*v),[n,s,u]=l.toChannels(b.rgba),{css:m.toCss(n,s,u,h),rgba:m.toRgba(n,s,u,h)}}c.blend=function(b,v){if(h=(255&v.rgba)/255,h===1)return{css:v.css,rgba:v.rgba};let w=v.rgba>>24&255,_=v.rgba>>16&255,S=v.rgba>>8&255,M=b.rgba>>24&255,I=b.rgba>>16&255,L=b.rgba>>8&255;return n=M+Math.round((w-M)*h),s=I+Math.round((_-I)*h),u=L+Math.round((S-L)*h),{css:m.toCss(n,s,u),rgba:m.toRgba(n,s,u)}},c.isOpaque=function(b){return(255&b.rgba)==255},c.ensureContrastRatio=function(b,v,w){let _=l.ensureContrastRatio(b.rgba,v.rgba,w);if(_)return m.toColor(_>>24&255,_>>16&255,_>>8&255)},c.opaque=function(b){let v=(255|b.rgba)>>>0;return[n,s,u]=l.toChannels(v),{css:m.toCss(n,s,u),rgba:v}},c.opacity=p,c.multiplyOpacity=function(b,v){return h=255&b.rgba,p(b,h*v/255)},c.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(g||(t.color=g={})),function(c){let p,b;try{let v=document.createElement("canvas");v.width=1,v.height=1;let w=v.getContext("2d",{willReadFrequently:!0});w&&(p=w,p.globalCompositeOperation="copy",b=p.createLinearGradient(0,0,1,1))}catch{}c.toColor=function(v){if(v.match(/#[\da-f]{3,8}/i))switch(v.length){case 4:return n=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),u=parseInt(v.slice(3,4).repeat(2),16),m.toColor(n,s,u);case 5:return n=parseInt(v.slice(1,2).repeat(2),16),s=parseInt(v.slice(2,3).repeat(2),16),u=parseInt(v.slice(3,4).repeat(2),16),h=parseInt(v.slice(4,5).repeat(2),16),m.toColor(n,s,u,h);case 7:return{css:v,rgba:(parseInt(v.slice(1),16)<<8|255)>>>0};case 9:return{css:v,rgba:parseInt(v.slice(1),16)>>>0}}let w=v.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(w)return n=parseInt(w[1]),s=parseInt(w[2]),u=parseInt(w[3]),h=Math.round(255*(w[5]===void 0?1:parseFloat(w[5]))),m.toColor(n,s,u,h);if(!p||!b)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=b,p.fillStyle=v,typeof p.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[n,s,u,h]=p.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:m.toRgba(n,s,u,h),css:v}}}(y||(t.css=y={})),function(c){function p(b,v,w){let _=b/255,S=v/255,M=w/255;return .2126*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))+.7152*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.0722*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))}c.relativeLuminance=function(b){return p(b>>16&255,b>>8&255,255&b)},c.relativeLuminance2=p}(f||(t.rgb=f={})),function(c){function p(v,w,_){let S=v>>24&255,M=v>>16&255,I=v>>8&255,L=w>>24&255,E=w>>16&255,B=w>>8&255,W=a(f.relativeLuminance2(L,E,B),f.relativeLuminance2(S,M,I));for(;W<_&&(L>0||E>0||B>0);)L-=Math.max(0,Math.ceil(.1*L)),E-=Math.max(0,Math.ceil(.1*E)),B-=Math.max(0,Math.ceil(.1*B)),W=a(f.relativeLuminance2(L,E,B),f.relativeLuminance2(S,M,I));return(L<<24|E<<16|B<<8|255)>>>0}function b(v,w,_){let S=v>>24&255,M=v>>16&255,I=v>>8&255,L=w>>24&255,E=w>>16&255,B=w>>8&255,W=a(f.relativeLuminance2(L,E,B),f.relativeLuminance2(S,M,I));for(;W<_&&(L<255||E<255||B<255);)L=Math.min(255,L+Math.ceil(.1*(255-L))),E=Math.min(255,E+Math.ceil(.1*(255-E))),B=Math.min(255,B+Math.ceil(.1*(255-B))),W=a(f.relativeLuminance2(L,E,B),f.relativeLuminance2(S,M,I));return(L<<24|E<<16|B<<8|255)>>>0}c.blend=function(v,w){if(h=(255&w)/255,h===1)return w;let _=w>>24&255,S=w>>16&255,M=w>>8&255,I=v>>24&255,L=v>>16&255,E=v>>8&255;return n=I+Math.round((_-I)*h),s=L+Math.round((S-L)*h),u=E+Math.round((M-E)*h),m.toRgba(n,s,u)},c.ensureContrastRatio=function(v,w,_){let S=f.relativeLuminance(v>>8),M=f.relativeLuminance(w>>8);if(a(S,M)<_){if(M<S){let E=p(v,w,_),B=a(S,f.relativeLuminance(E>>8));if(B<_){let W=b(v,w,_);return B>a(S,f.relativeLuminance(W>>8))?E:W}return E}let I=b(v,w,_),L=a(S,f.relativeLuminance(I>>8));if(L<_){let E=p(v,w,_);return L>a(S,f.relativeLuminance(E>>8))?I:E}return I}},c.reduceLuminance=p,c.increaseLuminance=b,c.toChannels=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]}}(l||(t.rgba=l={})),t.toPaddedHex=d,t.contrastRatio=a},8969:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;let s=n(844),u=n(2585),h=n(4348),m=n(7866),g=n(744),y=n(7302),f=n(6975),l=n(8460),d=n(1753),a=n(1480),c=n(7994),p=n(9282),b=n(5435),v=n(5981),w=n(2660),_=!1;class S extends s.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new l.EventEmitter),this._onScroll.event(I=>{this._onScrollApi?.fire(I.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(I){for(let L in I)this.optionsService.options[L]=I[L]}constructor(I){super(),this._windowsWrappingHeuristics=this.register(new s.MutableDisposable),this._onBinary=this.register(new l.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new l.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new l.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new y.OptionsService(I)),this._instantiationService.setService(u.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(u.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(m.LogService)),this._instantiationService.setService(u.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(f.CoreService)),this._instantiationService.setService(u.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(u.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(a.UnicodeService)),this._instantiationService.setService(u.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(c.CharsetService),this._instantiationService.setService(u.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(w.OscLinkService),this._instantiationService.setService(u.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new v.WriteBuffer((L,E)=>this._inputHandler.parse(L,E))),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(I,L){this._writeBuffer.write(I,L)}writeSync(I,L){this._logService.logLevel<=u.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(I,L)}input(I,L=!0){this.coreService.triggerDataEvent(I,L)}resize(I,L){isNaN(I)||isNaN(L)||(I=Math.max(I,g.MINIMUM_COLS),L=Math.max(L,g.MINIMUM_ROWS),this._bufferService.resize(I,L))}scroll(I,L=!1){this._bufferService.scroll(I,L)}scrollLines(I,L,E){this._bufferService.scrollLines(I,L,E)}scrollPages(I){this.scrollLines(I*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(I){let L=I-this._bufferService.buffer.ydisp;L!==0&&this.scrollLines(L)}registerEscHandler(I,L){return this._inputHandler.registerEscHandler(I,L)}registerDcsHandler(I,L){return this._inputHandler.registerDcsHandler(I,L)}registerCsiHandler(I,L){return this._inputHandler.registerCsiHandler(I,L)}registerOscHandler(I,L){return this._inputHandler.registerOscHandler(I,L)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let I=!1,L=this.optionsService.rawOptions.windowsPty;L&&L.buildNumber!==void 0&&L.buildNumber!==void 0?I=L.backend==="conpty"&&L.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(I=!0),I?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){let I=[];I.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),I.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,s.toDisposable)(()=>{for(let L of I)L.dispose()})}}}t.CoreTerminal=S},8460:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runAndSubscribe=t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let s=0;s<this._listeners.length;s++)if(this._listeners[s]===n)return void this._listeners.splice(s,1)}}})),this._event}fire(n,s){let u=[];for(let h=0;h<this._listeners.length;h++)u.push(this._listeners[h]);for(let h=0;h<u.length;h++)u[h].call(void 0,n,s)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(n,s){return n(u=>s.fire(u))},t.runAndSubscribe=function(n,s){return s(void 0),n(u=>s(u))}},5435:function(r,t,n){var s=this&&this.__decorate||function($,x,D,R){var A,z=arguments.length,X=z<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,D):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate($,x,D,R);else for(var ce=$.length-1;ce>=0;ce--)(A=$[ce])&&(X=(z<3?A(X):z>3?A(x,D,X):A(x,D))||X);return z>3&&X&&Object.defineProperty(x,D,X),X},u=this&&this.__param||function($,x){return function(D,R){x(D,R,$)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;let h=n(2584),m=n(7116),g=n(2015),y=n(844),f=n(482),l=n(8437),d=n(8460),a=n(643),c=n(511),p=n(3734),b=n(2585),v=n(1480),w=n(6242),_=n(6351),S=n(5941),M={"(":0,")":1,"*":2,"+":3,"-":1,".":2},I=131072;function L($,x){if($>24)return x.setWinLines||!1;switch($){case 1:return!!x.restoreWin;case 2:return!!x.minimizeWin;case 3:return!!x.setWinPosition;case 4:return!!x.setWinSizePixels;case 5:return!!x.raiseWin;case 6:return!!x.lowerWin;case 7:return!!x.refreshWin;case 8:return!!x.setWinSizeChars;case 9:return!!x.maximizeWin;case 10:return!!x.fullscreenWin;case 11:return!!x.getWinState;case 13:return!!x.getWinPosition;case 14:return!!x.getWinSizePixels;case 15:return!!x.getScreenSizePixels;case 16:return!!x.getCellSizePixels;case 18:return!!x.getWinSizeChars;case 19:return!!x.getScreenSizeChars;case 20:return!!x.getIconTitle;case 21:return!!x.getWinTitle;case 22:return!!x.pushTitle;case 23:return!!x.popTitle;case 24:return!!x.setWinLines}return!1}var E;(function($){$[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(E||(t.WindowsOptionsReportType=E={}));let B=0;class W extends y.Disposable{getAttrData(){return this._curAttrData}constructor(x,D,R,A,z,X,ce,ue,F=new g.EscapeSequenceParser){super(),this._bufferService=x,this._charsetService=D,this._coreService=R,this._logService=A,this._optionsService=z,this._oscLinkService=X,this._coreMouseService=ce,this._unicodeService=ue,this._parser=F,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new f.StringToUtf32,this._utf8Decoder=new f.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new Y(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._parser.setCsiHandlerFallback((k,N)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:N.toArray()})}),this._parser.setEscHandlerFallback(k=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})}),this._parser.setExecuteHandlerFallback(k=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})}),this._parser.setOscHandlerFallback((k,N,U)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:N,data:U})}),this._parser.setDcsHandlerFallback((k,N,U)=>{N==="HOOK"&&(U=U.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:N,payload:U})}),this._parser.setPrintHandler((k,N,U)=>this.print(k,N,U)),this._parser.registerCsiHandler({final:"@"},k=>this.insertChars(k)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},k=>this.scrollLeft(k)),this._parser.registerCsiHandler({final:"A"},k=>this.cursorUp(k)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},k=>this.scrollRight(k)),this._parser.registerCsiHandler({final:"B"},k=>this.cursorDown(k)),this._parser.registerCsiHandler({final:"C"},k=>this.cursorForward(k)),this._parser.registerCsiHandler({final:"D"},k=>this.cursorBackward(k)),this._parser.registerCsiHandler({final:"E"},k=>this.cursorNextLine(k)),this._parser.registerCsiHandler({final:"F"},k=>this.cursorPrecedingLine(k)),this._parser.registerCsiHandler({final:"G"},k=>this.cursorCharAbsolute(k)),this._parser.registerCsiHandler({final:"H"},k=>this.cursorPosition(k)),this._parser.registerCsiHandler({final:"I"},k=>this.cursorForwardTab(k)),this._parser.registerCsiHandler({final:"J"},k=>this.eraseInDisplay(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},k=>this.eraseInDisplay(k,!0)),this._parser.registerCsiHandler({final:"K"},k=>this.eraseInLine(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},k=>this.eraseInLine(k,!0)),this._parser.registerCsiHandler({final:"L"},k=>this.insertLines(k)),this._parser.registerCsiHandler({final:"M"},k=>this.deleteLines(k)),this._parser.registerCsiHandler({final:"P"},k=>this.deleteChars(k)),this._parser.registerCsiHandler({final:"S"},k=>this.scrollUp(k)),this._parser.registerCsiHandler({final:"T"},k=>this.scrollDown(k)),this._parser.registerCsiHandler({final:"X"},k=>this.eraseChars(k)),this._parser.registerCsiHandler({final:"Z"},k=>this.cursorBackwardTab(k)),this._parser.registerCsiHandler({final:"`"},k=>this.charPosAbsolute(k)),this._parser.registerCsiHandler({final:"a"},k=>this.hPositionRelative(k)),this._parser.registerCsiHandler({final:"b"},k=>this.repeatPrecedingCharacter(k)),this._parser.registerCsiHandler({final:"c"},k=>this.sendDeviceAttributesPrimary(k)),this._parser.registerCsiHandler({prefix:">",final:"c"},k=>this.sendDeviceAttributesSecondary(k)),this._parser.registerCsiHandler({final:"d"},k=>this.linePosAbsolute(k)),this._parser.registerCsiHandler({final:"e"},k=>this.vPositionRelative(k)),this._parser.registerCsiHandler({final:"f"},k=>this.hVPosition(k)),this._parser.registerCsiHandler({final:"g"},k=>this.tabClear(k)),this._parser.registerCsiHandler({final:"h"},k=>this.setMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"h"},k=>this.setModePrivate(k)),this._parser.registerCsiHandler({final:"l"},k=>this.resetMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"l"},k=>this.resetModePrivate(k)),this._parser.registerCsiHandler({final:"m"},k=>this.charAttributes(k)),this._parser.registerCsiHandler({final:"n"},k=>this.deviceStatus(k)),this._parser.registerCsiHandler({prefix:"?",final:"n"},k=>this.deviceStatusPrivate(k)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},k=>this.softReset(k)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},k=>this.setCursorStyle(k)),this._parser.registerCsiHandler({final:"r"},k=>this.setScrollRegion(k)),this._parser.registerCsiHandler({final:"s"},k=>this.saveCursor(k)),this._parser.registerCsiHandler({final:"t"},k=>this.windowOptions(k)),this._parser.registerCsiHandler({final:"u"},k=>this.restoreCursor(k)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},k=>this.insertColumns(k)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},k=>this.deleteColumns(k)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},k=>this.selectProtected(k)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},k=>this.requestMode(k,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},k=>this.requestMode(k,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(k=>(this.setTitle(k),this.setIconName(k),!0))),this._parser.registerOscHandler(1,new w.OscHandler(k=>this.setIconName(k))),this._parser.registerOscHandler(2,new w.OscHandler(k=>this.setTitle(k))),this._parser.registerOscHandler(4,new w.OscHandler(k=>this.setOrReportIndexedColor(k))),this._parser.registerOscHandler(8,new w.OscHandler(k=>this.setHyperlink(k))),this._parser.registerOscHandler(10,new w.OscHandler(k=>this.setOrReportFgColor(k))),this._parser.registerOscHandler(11,new w.OscHandler(k=>this.setOrReportBgColor(k))),this._parser.registerOscHandler(12,new w.OscHandler(k=>this.setOrReportCursorColor(k))),this._parser.registerOscHandler(104,new w.OscHandler(k=>this.restoreIndexedColor(k))),this._parser.registerOscHandler(110,new w.OscHandler(k=>this.restoreFgColor(k))),this._parser.registerOscHandler(111,new w.OscHandler(k=>this.restoreBgColor(k))),this._parser.registerOscHandler(112,new w.OscHandler(k=>this.restoreCursorColor(k))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(let k in m.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},()=>this.selectCharset("("+k)),this._parser.registerEscHandler({intermediates:")",final:k},()=>this.selectCharset(")"+k)),this._parser.registerEscHandler({intermediates:"*",final:k},()=>this.selectCharset("*"+k)),this._parser.registerEscHandler({intermediates:"+",final:k},()=>this.selectCharset("+"+k)),this._parser.registerEscHandler({intermediates:"-",final:k},()=>this.selectCharset("-"+k)),this._parser.registerEscHandler({intermediates:".",final:k},()=>this.selectCharset("."+k)),this._parser.registerEscHandler({intermediates:"/",final:k},()=>this.selectCharset("/"+k));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(k=>(this._logService.error("Parsing error: ",k),k)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new _.DcsHandler((k,N)=>this.requestStatusString(k,N)))}_preserveStack(x,D,R,A){this._parseStack.paused=!0,this._parseStack.cursorStartX=x,this._parseStack.cursorStartY=D,this._parseStack.decodedLength=R,this._parseStack.position=A}_logSlowResolvingAsync(x){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([x,new Promise((D,R)=>setTimeout(()=>R("#SLOW_TIMEOUT"),5e3))]).catch(D=>{if(D!=="#SLOW_TIMEOUT")throw D;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(x,D){let R,A=this._activeBuffer.x,z=this._activeBuffer.y,X=0,ce=this._parseStack.paused;if(ce){if(R=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,D))return this._logSlowResolvingAsync(R),R;A=this._parseStack.cursorStartX,z=this._parseStack.cursorStartY,this._parseStack.paused=!1,x.length>I&&(X=this._parseStack.position+I)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof x=="string"?` "${x}"`:` "${Array.prototype.map.call(x,k=>String.fromCharCode(k)).join("")}"`),typeof x=="string"?x.split("").map(k=>k.charCodeAt(0)):x),this._parseBuffer.length<x.length&&this._parseBuffer.length<I&&(this._parseBuffer=new Uint32Array(Math.min(x.length,I))),ce||this._dirtyRowTracker.clearRange(),x.length>I)for(let k=X;k<x.length;k+=I){let N=k+I<x.length?k+I:x.length,U=typeof x=="string"?this._stringDecoder.decode(x.substring(k,N),this._parseBuffer):this._utf8Decoder.decode(x.subarray(k,N),this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,U))return this._preserveStack(A,z,U,k),this._logSlowResolvingAsync(R),R}else if(!ce){let k=typeof x=="string"?this._stringDecoder.decode(x,this._parseBuffer):this._utf8Decoder.decode(x,this._parseBuffer);if(R=this._parser.parse(this._parseBuffer,k))return this._preserveStack(A,z,k,0),this._logSlowResolvingAsync(R),R}this._activeBuffer.x===A&&this._activeBuffer.y===z||this._onCursorMove.fire();let ue=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),F=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);F<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(F,this._bufferService.rows-1),Math.min(ue,this._bufferService.rows-1))}print(x,D,R){let A,z,X=this._charsetService.charset,ce=this._optionsService.rawOptions.screenReaderMode,ue=this._bufferService.cols,F=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,N=this._curAttrData,U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&R-D>0&&U.getWidth(this._activeBuffer.x-1)===2&&U.setCellFromCodepoint(this._activeBuffer.x-1,0,1,N);let J=this._parser.precedingJoinState;for(let Q=D;Q<R;++Q){if(A=x[Q],A<127&&X){let ct=X[String.fromCharCode(A)];ct&&(A=ct.charCodeAt(0))}let Te=this._unicodeService.charProperties(A,J);z=v.UnicodeService.extractWidth(Te);let $e=v.UnicodeService.extractShouldJoin(Te),Ke=$e?v.UnicodeService.extractWidth(J):0;if(J=Te,ce&&this._onA11yChar.fire((0,f.stringFromCodePoint)(A)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+z-Ke>ue){if(F){let ct=U,me=this._activeBuffer.x-Ke;for(this._activeBuffer.x=Ke,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ke>0&&U instanceof l.BufferLine&&U.copyCellsFrom(ct,me,0,Ke,!1);me<ue;)ct.setCellFromCodepoint(me++,0,1,N)}else if(this._activeBuffer.x=ue-1,z===2)continue}if($e&&this._activeBuffer.x){let ct=U.getWidth(this._activeBuffer.x-1)?1:2;U.addCodepointToCell(this._activeBuffer.x-ct,A,z);for(let me=z-Ke;--me>=0;)U.setCellFromCodepoint(this._activeBuffer.x++,0,0,N)}else if(k&&(U.insertCells(this._activeBuffer.x,z-Ke,this._activeBuffer.getNullCell(N)),U.getWidth(ue-1)===2&&U.setCellFromCodepoint(ue-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,N)),U.setCellFromCodepoint(this._activeBuffer.x++,A,z,N),z>0)for(;--z;)U.setCellFromCodepoint(this._activeBuffer.x++,0,0,N)}this._parser.precedingJoinState=J,this._activeBuffer.x<ue&&R-D>0&&U.getWidth(this._activeBuffer.x)===0&&!U.hasContent(this._activeBuffer.x)&&U.setCellFromCodepoint(this._activeBuffer.x,0,1,N),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(x,D){return x.final!=="t"||x.prefix||x.intermediates?this._parser.registerCsiHandler(x,D):this._parser.registerCsiHandler(x,R=>!L(R.params[0],this._optionsService.rawOptions.windowOptions)||D(R))}registerDcsHandler(x,D){return this._parser.registerDcsHandler(x,new _.DcsHandler(D))}registerEscHandler(x,D){return this._parser.registerEscHandler(x,D)}registerOscHandler(x,D){return this._parser.registerOscHandler(x,new w.OscHandler(D))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)?.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;let x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);x.hasWidth(this._activeBuffer.x)&&!x.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let x=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-x),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(x=this._bufferService.cols-1){this._activeBuffer.x=Math.min(x,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(x,D){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=x,this._activeBuffer.y=this._activeBuffer.scrollTop+D):(this._activeBuffer.x=x,this._activeBuffer.y=D),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(x,D){this._restrictCursor(),this._setCursor(this._activeBuffer.x+x,this._activeBuffer.y+D)}cursorUp(x){let D=this._activeBuffer.y-this._activeBuffer.scrollTop;return D>=0?this._moveCursor(0,-Math.min(D,x.params[0]||1)):this._moveCursor(0,-(x.params[0]||1)),!0}cursorDown(x){let D=this._activeBuffer.scrollBottom-this._activeBuffer.y;return D>=0?this._moveCursor(0,Math.min(D,x.params[0]||1)):this._moveCursor(0,x.params[0]||1),!0}cursorForward(x){return this._moveCursor(x.params[0]||1,0),!0}cursorBackward(x){return this._moveCursor(-(x.params[0]||1),0),!0}cursorNextLine(x){return this.cursorDown(x),this._activeBuffer.x=0,!0}cursorPrecedingLine(x){return this.cursorUp(x),this._activeBuffer.x=0,!0}cursorCharAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(x){return this._setCursor(x.length>=2?(x.params[1]||1)-1:0,(x.params[0]||1)-1),!0}charPosAbsolute(x){return this._setCursor((x.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(x){return this._moveCursor(x.params[0]||1,0),!0}linePosAbsolute(x){return this._setCursor(this._activeBuffer.x,(x.params[0]||1)-1),!0}vPositionRelative(x){return this._moveCursor(0,x.params[0]||1),!0}hVPosition(x){return this.cursorPosition(x),!0}tabClear(x){let D=x.params[0];return D===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:D===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=x.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(x){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=x.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(x){let D=x.params[0];return D===1&&(this._curAttrData.bg|=536870912),D!==2&&D!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(x,D,R,A=!1,z=!1){let X=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);X.replaceCells(D,R,this._activeBuffer.getNullCell(this._eraseAttrData()),z),A&&(X.isWrapped=!1)}_resetBufferLine(x,D=!1){let R=this._activeBuffer.lines.get(this._activeBuffer.ybase+x);R&&(R.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),D),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+x),R.isWrapped=!1)}eraseInDisplay(x,D=!1){let R;switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);R<this._bufferService.rows;R++)this._resetBufferLine(R,D);this._dirtyRowTracker.markDirty(R);break;case 1:for(R=this._activeBuffer.y,this._dirtyRowTracker.markDirty(R),this._eraseInBufferLine(R,0,this._activeBuffer.x+1,!0,D),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(R+1).isWrapped=!1);R--;)this._resetBufferLine(R,D);this._dirtyRowTracker.markDirty(0);break;case 2:for(R=this._bufferService.rows,this._dirtyRowTracker.markDirty(R-1);R--;)this._resetBufferLine(R,D);this._dirtyRowTracker.markDirty(0);break;case 3:let A=this._activeBuffer.lines.length-this._bufferService.rows;A>0&&(this._activeBuffer.lines.trimStart(A),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-A,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-A,0),this._onScroll.fire(0))}return!0}eraseInLine(x,D=!1){switch(this._restrictCursor(this._bufferService.cols),x.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,D);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,D)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(x){this._restrictCursor();let D=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let R=this._activeBuffer.ybase+this._activeBuffer.y,A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,z=this._bufferService.rows-1+this._activeBuffer.ybase-A+1;for(;D--;)this._activeBuffer.lines.splice(z-1,1),this._activeBuffer.lines.splice(R,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(x){this._restrictCursor();let D=x.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let R=this._activeBuffer.ybase+this._activeBuffer.y,A;for(A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,A=this._bufferService.rows-1+this._activeBuffer.ybase-A;D--;)this._activeBuffer.lines.splice(R,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(x){this._restrictCursor();let D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.insertCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(x){this._restrictCursor();let D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.deleteCells(this._activeBuffer.x,x.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(x){let D=x.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(x){let D=x.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let D=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){let A=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);A.deleteCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let D=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){let A=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);A.insertCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let D=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){let A=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);A.insertCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(x){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;let D=x.params[0]||1;for(let R=this._activeBuffer.scrollTop;R<=this._activeBuffer.scrollBottom;++R){let A=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);A.deleteCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(x){this._restrictCursor();let D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(x.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(x){let D=this._parser.precedingJoinState;if(!D)return!0;let R=x.params[0]||1,A=v.UnicodeService.extractWidth(D),z=this._activeBuffer.x-A,X=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(z),ce=new Uint32Array(X.length*R),ue=0;for(let k=0;k<X.length;){let N=X.codePointAt(k)||0;ce[ue++]=N,k+=N>65535?2:1}let F=ue;for(let k=1;k<R;++k)ce.copyWithin(F,0,ue),F+=ue;return this.print(ce,0,F),!0}sendDeviceAttributesPrimary(x){return x.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(x){return x.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(x.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(x){return(this._optionsService.rawOptions.termName+"").indexOf(x)===0}setMode(x){for(let D=0;D<x.length;D++)switch(x.params[D]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(x){for(let D=0;D<x.length;D++)switch(x.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),this._charsetService.setgCharset(1,m.DEFAULT_CHARSET),this._charsetService.setgCharset(2,m.DEFAULT_CHARSET),this._charsetService.setgCharset(3,m.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(x){for(let D=0;D<x.length;D++)switch(x.params[D]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(x){for(let D=0;D<x.length;D++)switch(x.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),x.params[D]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(x,D){let R=this._coreService.decPrivateModes,{activeProtocol:A,activeEncoding:z}=this._coreMouseService,X=this._coreService,{buffers:ce,cols:ue}=this._bufferService,{active:F,alt:k}=ce,N=this._optionsService.rawOptions,U=$e=>$e?1:2,J=x.params[0];return Q=J,Te=D?J===2?4:J===4?U(X.modes.insertMode):J===12?3:J===20?U(N.convertEol):0:J===1?U(R.applicationCursorKeys):J===3?N.windowOptions.setWinLines?ue===80?2:ue===132?1:0:0:J===6?U(R.origin):J===7?U(R.wraparound):J===8?3:J===9?U(A==="X10"):J===12?U(N.cursorBlink):J===25?U(!X.isCursorHidden):J===45?U(R.reverseWraparound):J===66?U(R.applicationKeypad):J===67?4:J===1e3?U(A==="VT200"):J===1002?U(A==="DRAG"):J===1003?U(A==="ANY"):J===1004?U(R.sendFocus):J===1005?4:J===1006?U(z==="SGR"):J===1015?4:J===1016?U(z==="SGR_PIXELS"):J===1048?1:J===47||J===1047||J===1049?U(F===k):J===2004?U(R.bracketedPasteMode):0,X.triggerDataEvent(`${h.C0.ESC}[${D?"":"?"}${Q};${Te}$y`),!0;var Q,Te}_updateAttrColor(x,D,R,A,z){return D===2?(x|=50331648,x&=-16777216,x|=p.AttributeData.fromColorRGB([R,A,z])):D===5&&(x&=-50331904,x|=33554432|255&R),x}_extractColor(x,D,R){let A=[0,0,-1,0,0,0],z=0,X=0;do{if(A[X+z]=x.params[D+X],x.hasSubParams(D+X)){let ce=x.getSubParams(D+X),ue=0;do A[1]===5&&(z=1),A[X+ue+1+z]=ce[ue];while(++ue<ce.length&&ue+X+1+z<A.length);break}if(A[1]===5&&X+z>=2||A[1]===2&&X+z>=5)break;A[1]&&(z=1)}while(++X+D<x.length&&X+z<A.length);for(let ce=2;ce<A.length;++ce)A[ce]===-1&&(A[ce]=0);switch(A[0]){case 38:R.fg=this._updateAttrColor(R.fg,A[1],A[3],A[4],A[5]);break;case 48:R.bg=this._updateAttrColor(R.bg,A[1],A[3],A[4],A[5]);break;case 58:R.extended=R.extended.clone(),R.extended.underlineColor=this._updateAttrColor(R.extended.underlineColor,A[1],A[3],A[4],A[5])}return X}_processUnderline(x,D){D.extended=D.extended.clone(),(!~x||x>5)&&(x=1),D.extended.underlineStyle=x,D.fg|=268435456,x===0&&(D.fg&=-268435457),D.updateExtended()}_processSGR0(x){x.fg=l.DEFAULT_ATTR_DATA.fg,x.bg=l.DEFAULT_ATTR_DATA.bg,x.extended=x.extended.clone(),x.extended.underlineStyle=0,x.extended.underlineColor&=-67108864,x.updateExtended()}charAttributes(x){if(x.length===1&&x.params[0]===0)return this._processSGR0(this._curAttrData),!0;let D=x.length,R,A=this._curAttrData;for(let z=0;z<D;z++)R=x.params[z],R>=30&&R<=37?(A.fg&=-50331904,A.fg|=16777216|R-30):R>=40&&R<=47?(A.bg&=-50331904,A.bg|=16777216|R-40):R>=90&&R<=97?(A.fg&=-50331904,A.fg|=16777224|R-90):R>=100&&R<=107?(A.bg&=-50331904,A.bg|=16777224|R-100):R===0?this._processSGR0(A):R===1?A.fg|=134217728:R===3?A.bg|=67108864:R===4?(A.fg|=268435456,this._processUnderline(x.hasSubParams(z)?x.getSubParams(z)[0]:1,A)):R===5?A.fg|=536870912:R===7?A.fg|=67108864:R===8?A.fg|=1073741824:R===9?A.fg|=2147483648:R===2?A.bg|=134217728:R===21?this._processUnderline(2,A):R===22?(A.fg&=-134217729,A.bg&=-134217729):R===23?A.bg&=-67108865:R===24?(A.fg&=-268435457,this._processUnderline(0,A)):R===25?A.fg&=-536870913:R===27?A.fg&=-67108865:R===28?A.fg&=-1073741825:R===29?A.fg&=2147483647:R===39?(A.fg&=-67108864,A.fg|=16777215&l.DEFAULT_ATTR_DATA.fg):R===49?(A.bg&=-67108864,A.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):R===38||R===48||R===58?z+=this._extractColor(x,z,A):R===53?A.bg|=1073741824:R===55?A.bg&=-1073741825:R===59?(A.extended=A.extended.clone(),A.extended.underlineColor=-1,A.updateExtended()):R===100?(A.fg&=-67108864,A.fg|=16777215&l.DEFAULT_ATTR_DATA.fg,A.bg&=-67108864,A.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",R);return!0}deviceStatus(x){switch(x.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:let D=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${D};${R}R`)}return!0}deviceStatusPrivate(x){if(x.params[0]===6){let D=this._activeBuffer.y+1,R=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${D};${R}R`)}return!0}softReset(x){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(x){let D=x.params[0]||1;switch(D){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}let R=D%2==1;return this._optionsService.options.cursorBlink=R,!0}setScrollRegion(x){let D=x.params[0]||1,R;return(x.length<2||(R=x.params[1])>this._bufferService.rows||R===0)&&(R=this._bufferService.rows),R>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=R-1,this._setCursor(0,0)),!0}windowOptions(x){if(!L(x.params[0],this._optionsService.rawOptions.windowOptions))return!0;let D=x.length>1?x.params[1]:0;switch(x.params[0]){case 14:D!==2&&this._onRequestWindowsOptionsReport.fire(E.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(E.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:D!==0&&D!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),D!==0&&D!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:D!==0&&D!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),D!==0&&D!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(x){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(x){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(x){return this._windowTitle=x,this._onTitleChange.fire(x),!0}setIconName(x){return this._iconName=x,!0}setOrReportIndexedColor(x){let D=[],R=x.split(";");for(;R.length>1;){let A=R.shift(),z=R.shift();if(/^\d+$/.exec(A)){let X=parseInt(A);if(ee(X))if(z==="?")D.push({type:0,index:X});else{let ce=(0,S.parseColor)(z);ce&&D.push({type:1,index:X,color:ce})}}}return D.length&&this._onColor.fire(D),!0}setHyperlink(x){let D=x.split(";");return!(D.length<2)&&(D[1]?this._createHyperlink(D[0],D[1]):!D[0]&&this._finishHyperlink())}_createHyperlink(x,D){this._getCurrentLinkId()&&this._finishHyperlink();let R=x.split(":"),A,z=R.findIndex(X=>X.startsWith("id="));return z!==-1&&(A=R[z].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:A,uri:D}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(x,D){let R=x.split(";");for(let A=0;A<R.length&&!(D>=this._specialColors.length);++A,++D)if(R[A]==="?")this._onColor.fire([{type:0,index:this._specialColors[D]}]);else{let z=(0,S.parseColor)(R[A]);z&&this._onColor.fire([{type:1,index:this._specialColors[D],color:z}])}return!0}setOrReportFgColor(x){return this._setOrReportSpecialColor(x,0)}setOrReportBgColor(x){return this._setOrReportSpecialColor(x,1)}setOrReportCursorColor(x){return this._setOrReportSpecialColor(x,2)}restoreIndexedColor(x){if(!x)return this._onColor.fire([{type:2}]),!0;let D=[],R=x.split(";");for(let A=0;A<R.length;++A)if(/^\d+$/.exec(R[A])){let z=parseInt(R[A]);ee(z)&&D.push({type:2,index:z})}return D.length&&this._onColor.fire(D),!0}restoreFgColor(x){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(x){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(x){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,m.DEFAULT_CHARSET),!0}selectCharset(x){return x.length!==2?(this.selectDefaultCharset(),!0):(x[0]==="/"||this._charsetService.setgCharset(M[x[0]],m.CHARSETS[x[1]]||m.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){let x=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,x,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(x){return this._charsetService.setgLevel(x),!0}screenAlignmentPattern(){let x=new c.CellData;x.content=4194373,x.fg=this._curAttrData.fg,x.bg=this._curAttrData.bg,this._setCursor(0,0);for(let D=0;D<this._bufferService.rows;++D){let R=this._activeBuffer.ybase+this._activeBuffer.y+D,A=this._activeBuffer.lines.get(R);A&&(A.fill(x),A.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(x,D){let R=this._bufferService.buffer,A=this._optionsService.rawOptions;return(z=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${z}${h.C0.ESC}\\`),!0))(x==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:x==='"p'?'P1$r61;1"p':x==="r"?`P1$r${R.scrollTop+1};${R.scrollBottom+1}r`:x==="m"?"P1$r0m":x===" q"?`P1$r${{block:2,underline:4,bar:6}[A.cursorStyle]-(A.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(x,D){this._dirtyRowTracker.markRangeDirty(x,D)}}t.InputHandler=W;let Y=class{constructor($){this._bufferService=$,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty($){$<this.start?this.start=$:$>this.end&&(this.end=$)}markRangeDirty($,x){$>x&&(B=$,$=x,x=B),$<this.start&&(this.start=$),x>this.end&&(this.end=x)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ee($){return 0<=$&&$<256}Y=s([u(0,b.IBufferService)],Y)},844:(r,t)=>{function n(s){for(let u of s)u.dispose();s.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(let s of this._disposables)s.dispose();this._disposables.length=0}register(s){return this._disposables.push(s),s}unregister(s){let u=this._disposables.indexOf(s);u!==-1&&this._disposables.splice(u,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(s){this._isDisposed||s===this._value||(this._value?.dispose(),this._value=s)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value?.dispose(),this._value=void 0}},t.toDisposable=function(s){return{dispose:s}},t.disposeArray=n,t.getDisposeArrayDisposable=function(s){return{dispose:()=>n(s)}}},1505:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(u,h,m){this._data[u]||(this._data[u]={}),this._data[u][h]=m}get(u,h){return this._data[u]?this._data[u][h]:void 0}clear(){this._data={}}}t.TwoKeyMap=n,t.FourKeyMap=class{constructor(){this._data=new n}set(s,u,h,m,g){this._data.get(s,u)||this._data.set(s,u,new n),this._data.get(s,u).set(h,m,g)}get(s,u,h,m){return this._data.get(s,u)?.get(h,m)}clear(){this._data.clear()}}},6114:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode=typeof process<"u"&&"title"in process;let n=t.isNode?"node":navigator.userAgent,s=t.isNode?"node":navigator.platform;t.isFirefox=n.includes("Firefox"),t.isLegacyEdge=n.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(n),t.getSafariVersion=function(){if(!t.isSafari)return 0;let u=n.match(/Version\/(\d+)/);return u===null||u.length<2?0:parseInt(u[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(s),t.isIpad=s==="iPad",t.isIphone=s==="iPhone",t.isWindows=["Windows","Win16","Win32","WinCE"].includes(s),t.isLinux=s.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(n)},6106:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let n=0;t.SortedList=class{constructor(s){this._getKey=s,this._array=[]}clear(){this._array.length=0}insert(s){this._array.length!==0?(n=this._search(this._getKey(s)),this._array.splice(n,0,s)):this._array.push(s)}delete(s){if(this._array.length===0)return!1;let u=this._getKey(s);if(u===void 0||(n=this._search(u),n===-1)||this._getKey(this._array[n])!==u)return!1;do if(this._array[n]===s)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===u);return!1}*getKeyIterator(s){if(this._array.length!==0&&(n=this._search(s),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===s))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===s)}forEachByKey(s,u){if(this._array.length!==0&&(n=this._search(s),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===s))do u(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===s)}values(){return[...this._array].values()}_search(s){let u=0,h=this._array.length-1;for(;h>=u;){let m=u+h>>1,g=this._getKey(this._array[m]);if(g>s)h=m-1;else{if(!(g<s)){for(;m>0&&this._getKey(this._array[m-1])===s;)m--;return m}u=m+1}}return u}}},7226:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;let s=n(6114);class u{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let y=0,f=0,l=g.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(y=Date.now(),this._tasks[this._i]()||this._i++,y=Math.max(1,Date.now()-y),f=Math.max(y,f),d=g.timeRemaining(),1.5*f>d)return l-y<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-y))}ms`),void this._start();l=d}this.clear()}}class h extends u{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){let y=Date.now()+g;return{timeRemaining:()=>Math.max(0,y-Date.now())}}}t.PriorityTaskQueue=h,t.IdleTaskQueue=!s.isNode&&"requestIdleCallback"in window?class extends u{_requestCallback(m){return requestIdleCallback(m)}_cancelCallback(m){cancelIdleCallback(m)}}:h,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(m){this._queue.clear(),this._queue.enqueue(m)}flush(){this._queue.flush()}}},9282:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;let s=n(643);t.updateWindowsModeWrappedState=function(u){let h=u.buffer.lines.get(u.buffer.ybase+u.buffer.y-1),m=h?.get(u.cols-1),g=u.buffer.lines.get(u.buffer.ybase+u.buffer.y);g&&m&&(g.isWrapped=m[s.CHAR_DATA_CODE_INDEX]!==s.NULL_CELL_CODE&&m[s.CHAR_DATA_CODE_INDEX]!==s.WHITESPACE_CELL_CODE)}},3734:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new s}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){let h=new n;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}t.AttributeData=n;class s{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){let h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,m=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=m}clone(){return new s(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}t.ExtendedAttrs=s},9092:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;let s=n(6349),u=n(7226),h=n(3734),m=n(8437),g=n(4634),y=n(511),f=n(643),l=n(4863),d=n(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(a,c,p){this._hasScrollback=a,this._optionsService=c,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=m.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=y.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=y.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new u.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(a){return a?(this._nullCell.fg=a.fg,this._nullCell.bg=a.bg,this._nullCell.extended=a.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(a){return a?(this._whitespaceCell.fg=a.fg,this._whitespaceCell.bg=a.bg,this._whitespaceCell.extended=a.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(a,c){return new m.BufferLine(this._bufferService.cols,this.getNullCell(a),c)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){let a=this.ybase+this.y-this.ydisp;return a>=0&&a<this._rows}_getCorrectBufferLength(a){if(!this._hasScrollback)return a;let c=a+this._optionsService.rawOptions.scrollback;return c>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:c}fillViewportRows(a){if(this.lines.length===0){a===void 0&&(a=m.DEFAULT_ATTR_DATA);let c=this._rows;for(;c--;)this.lines.push(this.getBlankLine(a))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new s.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(a,c){let p=this.getNullCell(m.DEFAULT_ATTR_DATA),b=0,v=this._getCorrectBufferLength(c);if(v>this.lines.maxLength&&(this.lines.maxLength=v),this.lines.length>0){if(this._cols<a)for(let _=0;_<this.lines.length;_++)b+=+this.lines.get(_).resize(a,p);let w=0;if(this._rows<c)for(let _=this._rows;_<c;_++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new m.BufferLine(a,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+w+1?(this.ybase--,w++,this.ydisp>0&&this.ydisp--):this.lines.push(new m.BufferLine(a,p)));else for(let _=this._rows;_>c;_--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(v<this.lines.maxLength){let _=this.lines.length-v;_>0&&(this.lines.trimStart(_),this.ybase=Math.max(this.ybase-_,0),this.ydisp=Math.max(this.ydisp-_,0),this.savedY=Math.max(this.savedY-_,0)),this.lines.maxLength=v}this.x=Math.min(this.x,a-1),this.y=Math.min(this.y,c-1),w&&(this.y+=w),this.savedX=Math.min(this.savedX,a-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(a,c),this._cols>a))for(let w=0;w<this.lines.length;w++)b+=+this.lines.get(w).resize(a,p);this._cols=a,this._rows=c,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let a=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,a=!1);let c=0;for(;this._memoryCleanupPosition<this.lines.length;)if(c+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),c>100)return!0;return a}get _isReflowEnabled(){let a=this._optionsService.rawOptions.windowsPty;return a&&a.buildNumber?this._hasScrollback&&a.backend==="conpty"&&a.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(a,c){this._cols!==a&&(a>this._cols?this._reflowLarger(a,c):this._reflowSmaller(a,c))}_reflowLarger(a,c){let p=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,a,this.ybase+this.y,this.getNullCell(m.DEFAULT_ATTR_DATA));if(p.length>0){let b=(0,g.reflowLargerCreateNewLayout)(this.lines,p);(0,g.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(a,c,b.countRemoved)}}_reflowLargerAdjustViewport(a,c,p){let b=this.getNullCell(m.DEFAULT_ATTR_DATA),v=p;for(;v-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new m.BufferLine(a,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(a,c){let p=this.getNullCell(m.DEFAULT_ATTR_DATA),b=[],v=0;for(let w=this.lines.length-1;w>=0;w--){let _=this.lines.get(w);if(!_||!_.isWrapped&&_.getTrimmedLength()<=a)continue;let S=[_];for(;_.isWrapped&&w>0;)_=this.lines.get(--w),S.unshift(_);let M=this.ybase+this.y;if(M>=w&&M<w+S.length)continue;let I=S[S.length-1].getTrimmedLength(),L=(0,g.reflowSmallerGetNewLineLengths)(S,this._cols,a),E=L.length-S.length,B;B=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+E):Math.max(0,this.lines.length-this.lines.maxLength+E);let W=[];for(let R=0;R<E;R++){let A=this.getBlankLine(m.DEFAULT_ATTR_DATA,!0);W.push(A)}W.length>0&&(b.push({start:w+S.length+v,newLines:W}),v+=W.length),S.push(...W);let Y=L.length-1,ee=L[Y];ee===0&&(Y--,ee=L[Y]);let $=S.length-E-1,x=I;for(;$>=0;){let R=Math.min(x,ee);if(S[Y]===void 0)break;if(S[Y].copyCellsFrom(S[$],x-R,ee-R,R,!0),ee-=R,ee===0&&(Y--,ee=L[Y]),x-=R,x===0){$--;let A=Math.max($,0);x=(0,g.getWrappedLineTrimmedLength)(S,A,this._cols)}}for(let R=0;R<S.length;R++)L[R]<a&&S[R].setCell(L[R],p);let D=E-B;for(;D-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+v)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+E,this.ybase+c-1)}if(b.length>0){let w=[],_=[];for(let Y=0;Y<this.lines.length;Y++)_.push(this.lines.get(Y));let S=this.lines.length,M=S-1,I=0,L=b[I];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+v);let E=0;for(let Y=Math.min(this.lines.maxLength-1,S+v-1);Y>=0;Y--)if(L&&L.start>M+E){for(let ee=L.newLines.length-1;ee>=0;ee--)this.lines.set(Y--,L.newLines[ee]);Y++,w.push({index:M+1,amount:L.newLines.length}),E+=L.newLines.length,L=b[++I]}else this.lines.set(Y,_[M--]);let B=0;for(let Y=w.length-1;Y>=0;Y--)w[Y].index+=B,this.lines.onInsertEmitter.fire(w[Y]),B+=w[Y].amount;let W=Math.max(0,S+v-this.lines.maxLength);W>0&&this.lines.onTrimEmitter.fire(W)}}translateBufferLineToString(a,c,p=0,b){let v=this.lines.get(a);return v?v.translateToString(c,p,b):""}getWrappedRangeForLine(a){let c=a,p=a;for(;c>0&&this.lines.get(c).isWrapped;)c--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:c,last:p}}setupTabStops(a){for(a!=null?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);a<this._cols;a+=this._optionsService.rawOptions.tabStopWidth)this.tabs[a]=!0}prevStop(a){for(a==null&&(a=this.x);!this.tabs[--a]&&a>0;);return a>=this._cols?this._cols-1:a<0?0:a}nextStop(a){for(a==null&&(a=this.x);!this.tabs[++a]&&a<this._cols;);return a>=this._cols?this._cols-1:a<0?0:a}clearMarkers(a){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].line===a&&(this.markers[c].dispose(),this.markers.splice(c--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].dispose(),this.markers.splice(a--,1);this._isClearing=!1}addMarker(a){let c=new l.Marker(a);return this.markers.push(c),c.register(this.lines.onTrim(p=>{c.line-=p,c.line<0&&c.dispose()})),c.register(this.lines.onInsert(p=>{c.line>=p.index&&(c.line+=p.amount)})),c.register(this.lines.onDelete(p=>{c.line>=p.index&&c.line<p.index+p.amount&&c.dispose(),c.line>p.index&&(c.line-=p.amount)})),c.register(c.onDispose(()=>this._removeMarker(c))),c}_removeMarker(a){this._isClearing||this.markers.splice(this.markers.indexOf(a),1)}}},8437:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;let s=n(3734),u=n(511),h=n(643),m=n(482);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);let g=0;class y{constructor(l,d,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);let c=d||u.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let p=0;p<l;++p)this.setCell(p,c);this.length=l}get(l){let d=this._data[3*l+0],a=2097151&d;return[this._data[3*l+1],2097152&d?this._combined[l]:a?(0,m.stringFromCodePoint)(a):"",d>>22,2097152&d?this._combined[l].charCodeAt(this._combined[l].length-1):a]}set(l,d){this._data[3*l+1]=d[h.CHAR_DATA_ATTR_INDEX],d[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=d[1],this._data[3*l+0]=2097152|l|d[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=d[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){let d=this._data[3*l+0];return 2097152&d?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&d}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){let d=this._data[3*l+0];return 2097152&d?this._combined[l]:2097151&d?(0,m.stringFromCodePoint)(2097151&d):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,d){return g=3*l,d.content=this._data[g+0],d.fg=this._data[g+1],d.bg=this._data[g+2],2097152&d.content&&(d.combinedData=this._combined[l]),268435456&d.bg&&(d.extended=this._extendedAttrs[l]),d}setCell(l,d){2097152&d.content&&(this._combined[l]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[l]=d.extended),this._data[3*l+0]=d.content,this._data[3*l+1]=d.fg,this._data[3*l+2]=d.bg}setCellFromCodepoint(l,d,a,c){268435456&c.bg&&(this._extendedAttrs[l]=c.extended),this._data[3*l+0]=d|a<<22,this._data[3*l+1]=c.fg,this._data[3*l+2]=c.bg}addCodepointToCell(l,d,a){let c=this._data[3*l+0];2097152&c?this._combined[l]+=(0,m.stringFromCodePoint)(d):2097151&c?(this._combined[l]=(0,m.stringFromCodePoint)(2097151&c)+(0,m.stringFromCodePoint)(d),c&=-2097152,c|=2097152):c=d|4194304,a&&(c&=-12582913,c|=a<<22),this._data[3*l+0]=c}insertCells(l,d,a){if((l%=this.length)&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),d<this.length-l){let c=new u.CellData;for(let p=this.length-l-d-1;p>=0;--p)this.setCell(l+d+p,this.loadCell(l+p,c));for(let p=0;p<d;++p)this.setCell(l+p,a)}else for(let c=l;c<this.length;++c)this.setCell(c,a);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,a)}deleteCells(l,d,a){if(l%=this.length,d<this.length-l){let c=new u.CellData;for(let p=0;p<this.length-l-d;++p)this.setCell(l+p,this.loadCell(l+d+p,c));for(let p=this.length-d;p<this.length;++p)this.setCell(p,a)}else for(let c=l;c<this.length;++c)this.setCell(c,a);l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),this.getWidth(l)!==0||this.hasContent(l)||this.setCellFromCodepoint(l,0,1,a)}replaceCells(l,d,a,c=!1){if(c)for(l&&this.getWidth(l-1)===2&&!this.isProtected(l-1)&&this.setCellFromCodepoint(l-1,0,1,a),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodepoint(d,0,1,a);l<d&&l<this.length;)this.isProtected(l)||this.setCell(l,a),l++;else for(l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,a),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d,0,1,a);l<d&&l<this.length;)this.setCell(l++,a)}resize(l,d){if(l===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;let a=3*l;if(l>this.length){if(this._data.buffer.byteLength>=4*a)this._data=new Uint32Array(this._data.buffer,0,a);else{let c=new Uint32Array(a);c.set(this._data),this._data=c}for(let c=this.length;c<l;++c)this.setCell(c,d)}else{this._data=this._data.subarray(0,a);let c=Object.keys(this._combined);for(let b=0;b<c.length;b++){let v=parseInt(c[b],10);v>=l&&delete this._combined[v]}let p=Object.keys(this._extendedAttrs);for(let b=0;b<p.length;b++){let v=parseInt(p[b],10);v>=l&&delete this._extendedAttrs[v]}}return this.length=l,4*a*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){let l=new Uint32Array(this._data.length);return l.set(this._data),this._data=l,1}return 0}fill(l,d=!1){if(d)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,l);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(let d in l._combined)this._combined[d]=l._combined[d];this._extendedAttrs={};for(let d in l._extendedAttrs)this._extendedAttrs[d]=l._extendedAttrs[d];this.isWrapped=l.isWrapped}clone(){let l=new y(0);l._data=new Uint32Array(this._data),l.length=this.length;for(let d in this._combined)l._combined[d]=this._combined[d];for(let d in this._extendedAttrs)l._extendedAttrs[d]=this._extendedAttrs[d];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}getNoBgTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0]||50331648&this._data[3*l+2])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,d,a,c,p){let b=l._data;if(p)for(let w=c-1;w>=0;w--){for(let _=0;_<3;_++)this._data[3*(a+w)+_]=b[3*(d+w)+_];268435456&b[3*(d+w)+2]&&(this._extendedAttrs[a+w]=l._extendedAttrs[d+w])}else for(let w=0;w<c;w++){for(let _=0;_<3;_++)this._data[3*(a+w)+_]=b[3*(d+w)+_];268435456&b[3*(d+w)+2]&&(this._extendedAttrs[a+w]=l._extendedAttrs[d+w])}let v=Object.keys(l._combined);for(let w=0;w<v.length;w++){let _=parseInt(v[w],10);_>=d&&(this._combined[_-d+a]=l._combined[_])}}translateToString(l,d,a,c){d=d??0,a=a??this.length,l&&(a=Math.min(a,this.getTrimmedLength())),c&&(c.length=0);let p="";for(;d<a;){let b=this._data[3*d+0],v=2097151&b,w=2097152&b?this._combined[d]:v?(0,m.stringFromCodePoint)(v):h.WHITESPACE_CELL_CHAR;if(p+=w,c)for(let _=0;_<w.length;++_)c.push(d);d+=b>>22||1}return c&&c.push(d),p}}t.BufferLine=y},4841:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(n,s){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return s*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(r,t)=>{function n(s,u,h){if(u===s.length-1)return s[u].getTrimmedLength();let m=!s[u].hasContent(h-1)&&s[u].getWidth(h-1)===1,g=s[u+1].getWidth(0)===2;return m&&g?h-1:h}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(s,u,h,m,g){let y=[];for(let f=0;f<s.length-1;f++){let l=f,d=s.get(++l);if(!d.isWrapped)continue;let a=[s.get(f)];for(;l<s.length&&d.isWrapped;)a.push(d),d=s.get(++l);if(m>=f&&m<l){f+=a.length-1;continue}let c=0,p=n(a,c,u),b=1,v=0;for(;b<a.length;){let _=n(a,b,u),S=_-v,M=h-p,I=Math.min(S,M);a[c].copyCellsFrom(a[b],v,p,I,!1),p+=I,p===h&&(c++,p=0),v+=I,v===_&&(b++,v=0),p===0&&c!==0&&a[c-1].getWidth(h-1)===2&&(a[c].copyCellsFrom(a[c-1],h-1,p++,1,!1),a[c-1].setCell(h-1,g))}a[c].replaceCells(p,h,g);let w=0;for(let _=a.length-1;_>0&&(_>c||a[_].getTrimmedLength()===0);_--)w++;w>0&&(y.push(f+a.length-w),y.push(w)),f+=a.length-1}return y},t.reflowLargerCreateNewLayout=function(s,u){let h=[],m=0,g=u[m],y=0;for(let f=0;f<s.length;f++)if(g===f){let l=u[++m];s.onDeleteEmitter.fire({index:f-y,amount:l}),f+=l-1,y+=l,g=u[++m]}else h.push(f);return{layout:h,countRemoved:y}},t.reflowLargerApplyNewLayout=function(s,u){let h=[];for(let m=0;m<u.length;m++)h.push(s.get(u[m]));for(let m=0;m<h.length;m++)s.set(m,h[m]);s.length=u.length},t.reflowSmallerGetNewLineLengths=function(s,u,h){let m=[],g=s.map((d,a)=>n(s,a,u)).reduce((d,a)=>d+a),y=0,f=0,l=0;for(;l<g;){if(g-l<h){m.push(g-l);break}y+=h;let d=n(s,f,u);y>d&&(y-=d,f++);let a=s[f].getWidth(y-1)===2;a&&y--;let c=a?h-1:h;m.push(c),l+=c}return m},t.getWrappedLineTrimmedLength=n},5295:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;let s=n(8460),u=n(844),h=n(9092);class m extends u.Disposable{constructor(y,f){super(),this._optionsService=y,this._bufferService=f,this._onBufferActivate=this.register(new s.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(y){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(y),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(y,f){this._normal.resize(y,f),this._alt.resize(y,f),this.setupTabStops(y)}setupTabStops(y){this._normal.setupTabStops(y),this._alt.setupTabStops(y)}}t.BufferSet=m},511:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;let s=n(482),u=n(643),h=n(3734);class m extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(y){let f=new m;return f.setFromCharData(y),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,s.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(y){this.fg=y[u.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(y[u.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(y[u.CHAR_DATA_CHAR_INDEX].length===2){let l=y[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){let d=y[u.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(l-55296)+d-56320+65536|y[u.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=y[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|y[u.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=y[u.CHAR_DATA_CHAR_INDEX],this.content=2097152|y[u.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=m},643:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;let s=n(8460),u=n(844);class h{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new s.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,u.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}t.Marker=h,h._nextId=1},7116:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25C6",a:"\u2592",b:"\u2409",c:"\u240C",d:"\u240D",e:"\u240A",f:"\xB0",g:"\xB1",h:"\u2424",i:"\u240B",j:"\u2518",k:"\u2510",l:"\u250C",m:"\u2514",n:"\u253C",o:"\u23BA",p:"\u23BB",q:"\u2500",r:"\u23BC",s:"\u23BD",t:"\u251C",u:"\u2524",v:"\u2534",w:"\u252C",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03C0","|":"\u2260","}":"\xA3","~":"\xB7"},t.CHARSETS.A={"#":"\xA3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xA3","@":"\xBE","[":"ij","\\":"\xBD","]":"|","{":"\xA8","|":"f","}":"\xBC","~":"\xB4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},t.CHARSETS.R={"#":"\xA3","@":"\xE0","[":"\xB0","\\":"\xE7","]":"\xA7","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xA8"},t.CHARSETS.Q={"@":"\xE0","[":"\xE2","\\":"\xE7","]":"\xEA","^":"\xEE","`":"\xF4","{":"\xE9","|":"\xF9","}":"\xE8","~":"\xFB"},t.CHARSETS.K={"@":"\xA7","[":"\xC4","\\":"\xD6","]":"\xDC","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xDF"},t.CHARSETS.Y={"#":"\xA3","@":"\xA7","[":"\xB0","\\":"\xE7","]":"\xE9","`":"\xF9","{":"\xE0","|":"\xF2","}":"\xE8","~":"\xEC"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xC4","[":"\xC6","\\":"\xD8","]":"\xC5","^":"\xDC","`":"\xE4","{":"\xE6","|":"\xF8","}":"\xE5","~":"\xFC"},t.CHARSETS.Z={"#":"\xA3","@":"\xA7","[":"\xA1","\\":"\xD1","]":"\xBF","{":"\xB0","|":"\xF1","}":"\xE7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xC9","[":"\xC4","\\":"\xD6","]":"\xC5","^":"\xDC","`":"\xE9","{":"\xE4","|":"\xF6","}":"\xE5","~":"\xFC"},t.CHARSETS["="]={"#":"\xF9","@":"\xE0","[":"\xE9","\\":"\xE7","]":"\xEA","^":"\xEE",_:"\xE8","`":"\xF4","{":"\xE4","|":"\xF6","}":"\xFC","~":"\xFB"}},2584:(r,t)=>{var n,s,u;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL="\x7F"}(n||(t.C0=n={})),function(h){h.PAD="\x80",h.HOP="\x81",h.BPH="\x82",h.NBH="\x83",h.IND="\x84",h.NEL="\x85",h.SSA="\x86",h.ESA="\x87",h.HTS="\x88",h.HTJ="\x89",h.VTS="\x8A",h.PLD="\x8B",h.PLU="\x8C",h.RI="\x8D",h.SS2="\x8E",h.SS3="\x8F",h.DCS="\x90",h.PU1="\x91",h.PU2="\x92",h.STS="\x93",h.CCH="\x94",h.MW="\x95",h.SPA="\x96",h.EPA="\x97",h.SOS="\x98",h.SGCI="\x99",h.SCI="\x9A",h.CSI="\x9B",h.ST="\x9C",h.OSC="\x9D",h.PM="\x9E",h.APC="\x9F"}(s||(t.C1=s={})),function(h){h.ST=`${n.ESC}\\`}(u||(t.C1_ESCAPED=u={}))},7399:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;let s=n(2584),u={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(h,m,g,y){let f={type:0,cancel:!1,key:void 0},l=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?f.key=m?s.C0.ESC+"OA":s.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?f.key=m?s.C0.ESC+"OD":s.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?f.key=m?s.C0.ESC+"OC":s.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(f.key=m?s.C0.ESC+"OB":s.C0.ESC+"[B");break;case 8:f.key=h.ctrlKey?"\b":s.C0.DEL,h.altKey&&(f.key=s.C0.ESC+f.key);break;case 9:if(h.shiftKey){f.key=s.C0.ESC+"[Z";break}f.key=s.C0.HT,f.cancel=!0;break;case 13:f.key=h.altKey?s.C0.ESC+s.C0.CR:s.C0.CR,f.cancel=!0;break;case 27:f.key=s.C0.ESC,h.altKey&&(f.key=s.C0.ESC+s.C0.ESC),f.cancel=!0;break;case 37:if(h.metaKey)break;l?(f.key=s.C0.ESC+"[1;"+(l+1)+"D",f.key===s.C0.ESC+"[1;3D"&&(f.key=s.C0.ESC+(g?"b":"[1;5D"))):f.key=m?s.C0.ESC+"OD":s.C0.ESC+"[D";break;case 39:if(h.metaKey)break;l?(f.key=s.C0.ESC+"[1;"+(l+1)+"C",f.key===s.C0.ESC+"[1;3C"&&(f.key=s.C0.ESC+(g?"f":"[1;5C"))):f.key=m?s.C0.ESC+"OC":s.C0.ESC+"[C";break;case 38:if(h.metaKey)break;l?(f.key=s.C0.ESC+"[1;"+(l+1)+"A",g||f.key!==s.C0.ESC+"[1;3A"||(f.key=s.C0.ESC+"[1;5A")):f.key=m?s.C0.ESC+"OA":s.C0.ESC+"[A";break;case 40:if(h.metaKey)break;l?(f.key=s.C0.ESC+"[1;"+(l+1)+"B",g||f.key!==s.C0.ESC+"[1;3B"||(f.key=s.C0.ESC+"[1;5B")):f.key=m?s.C0.ESC+"OB":s.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(f.key=s.C0.ESC+"[2~");break;case 46:f.key=l?s.C0.ESC+"[3;"+(l+1)+"~":s.C0.ESC+"[3~";break;case 36:f.key=l?s.C0.ESC+"[1;"+(l+1)+"H":m?s.C0.ESC+"OH":s.C0.ESC+"[H";break;case 35:f.key=l?s.C0.ESC+"[1;"+(l+1)+"F":m?s.C0.ESC+"OF":s.C0.ESC+"[F";break;case 33:h.shiftKey?f.type=2:h.ctrlKey?f.key=s.C0.ESC+"[5;"+(l+1)+"~":f.key=s.C0.ESC+"[5~";break;case 34:h.shiftKey?f.type=3:h.ctrlKey?f.key=s.C0.ESC+"[6;"+(l+1)+"~":f.key=s.C0.ESC+"[6~";break;case 112:f.key=l?s.C0.ESC+"[1;"+(l+1)+"P":s.C0.ESC+"OP";break;case 113:f.key=l?s.C0.ESC+"[1;"+(l+1)+"Q":s.C0.ESC+"OQ";break;case 114:f.key=l?s.C0.ESC+"[1;"+(l+1)+"R":s.C0.ESC+"OR";break;case 115:f.key=l?s.C0.ESC+"[1;"+(l+1)+"S":s.C0.ESC+"OS";break;case 116:f.key=l?s.C0.ESC+"[15;"+(l+1)+"~":s.C0.ESC+"[15~";break;case 117:f.key=l?s.C0.ESC+"[17;"+(l+1)+"~":s.C0.ESC+"[17~";break;case 118:f.key=l?s.C0.ESC+"[18;"+(l+1)+"~":s.C0.ESC+"[18~";break;case 119:f.key=l?s.C0.ESC+"[19;"+(l+1)+"~":s.C0.ESC+"[19~";break;case 120:f.key=l?s.C0.ESC+"[20;"+(l+1)+"~":s.C0.ESC+"[20~";break;case 121:f.key=l?s.C0.ESC+"[21;"+(l+1)+"~":s.C0.ESC+"[21~";break;case 122:f.key=l?s.C0.ESC+"[23;"+(l+1)+"~":s.C0.ESC+"[23~";break;case 123:f.key=l?s.C0.ESC+"[24;"+(l+1)+"~":s.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(g&&!y||!h.altKey||h.metaKey)!g||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?f.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(f.key=s.C0.US),h.key==="@"&&(f.key=s.C0.NUL)):h.keyCode===65&&(f.type=1);else{let d=u[h.keyCode],a=d?.[h.shiftKey?1:0];if(a)f.key=s.C0.ESC+a;else if(h.keyCode>=65&&h.keyCode<=90){let c=h.ctrlKey?h.keyCode-64:h.keyCode+32,p=String.fromCharCode(c);h.shiftKey&&(p=p.toUpperCase()),f.key=s.C0.ESC+p}else if(h.keyCode===32)f.key=s.C0.ESC+(h.ctrlKey?s.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let c=h.code.slice(3,4);h.shiftKey||(c=c.toLowerCase()),f.key=s.C0.ESC+c,f.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?f.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?f.key=s.C0.NUL:h.keyCode>=51&&h.keyCode<=55?f.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?f.key=s.C0.DEL:h.keyCode===219?f.key=s.C0.ESC:h.keyCode===220?f.key=s.C0.FS:h.keyCode===221&&(f.key=s.C0.GS)}return f}},482:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},t.utf32ToString=function(n,s=0,u=n.length){let h="";for(let m=s;m<u;++m){let g=n[m];g>65535?(g-=65536,h+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):h+=String.fromCharCode(g)}return h},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,s){let u=n.length;if(!u)return 0;let h=0,m=0;if(this._interim){let g=n.charCodeAt(m++);56320<=g&&g<=57343?s[h++]=1024*(this._interim-55296)+g-56320+65536:(s[h++]=this._interim,s[h++]=g),this._interim=0}for(let g=m;g<u;++g){let y=n.charCodeAt(g);if(55296<=y&&y<=56319){if(++g>=u)return this._interim=y,h;let f=n.charCodeAt(g);56320<=f&&f<=57343?s[h++]=1024*(y-55296)+f-56320+65536:(s[h++]=y,s[h++]=f)}else y!==65279&&(s[h++]=y)}return h}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,s){let u=n.length;if(!u)return 0;let h,m,g,y,f=0,l=0,d=0;if(this.interim[0]){let p=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let v,w=0;for(;(v=63&this.interim[++w])&&w<4;)b<<=6,b|=v;let _=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,S=_-w;for(;d<S;){if(d>=u)return 0;if(v=n[d++],(192&v)!=128){d--,p=!0;break}this.interim[w++]=v,b<<=6,b|=63&v}p||(_===2?b<128?d--:s[f++]=b:_===3?b<2048||b>=55296&&b<=57343||b===65279||(s[f++]=b):b<65536||b>1114111||(s[f++]=b)),this.interim.fill(0)}let a=u-4,c=d;for(;c<u;){for(;!(!(c<a)||128&(h=n[c])||128&(m=n[c+1])||128&(g=n[c+2])||128&(y=n[c+3]));)s[f++]=h,s[f++]=m,s[f++]=g,s[f++]=y,c+=4;if(h=n[c++],h<128)s[f++]=h;else if((224&h)==192){if(c>=u)return this.interim[0]=h,f;if(m=n[c++],(192&m)!=128){c--;continue}if(l=(31&h)<<6|63&m,l<128){c--;continue}s[f++]=l}else if((240&h)==224){if(c>=u)return this.interim[0]=h,f;if(m=n[c++],(192&m)!=128){c--;continue}if(c>=u)return this.interim[0]=h,this.interim[1]=m,f;if(g=n[c++],(192&g)!=128){c--;continue}if(l=(15&h)<<12|(63&m)<<6|63&g,l<2048||l>=55296&&l<=57343||l===65279)continue;s[f++]=l}else if((248&h)==240){if(c>=u)return this.interim[0]=h,f;if(m=n[c++],(192&m)!=128){c--;continue}if(c>=u)return this.interim[0]=h,this.interim[1]=m,f;if(g=n[c++],(192&g)!=128){c--;continue}if(c>=u)return this.interim[0]=h,this.interim[1]=m,this.interim[2]=g,f;if(y=n[c++],(192&y)!=128){c--;continue}if(l=(7&h)<<18|(63&m)<<12|(63&g)<<6|63&y,l<65536||l>1114111)continue;s[f++]=l}}return f}}},225:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;let s=n(1480),u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],m;t.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let g=0;g<u.length;++g)m.fill(0,u[g][0],u[g][1]+1)}}wcwidth(g){return g<32?0:g<127?1:g<65536?m[g]:function(y,f){let l,d=0,a=f.length-1;if(y<f[0][0]||y>f[a][1])return!1;for(;a>=d;)if(l=d+a>>1,y>f[l][1])d=l+1;else{if(!(y<f[l][0]))return!0;a=l-1}return!1}(g,h)?0:g>=131072&&g<=196605||g>=196608&&g<=262141?2:1}charProperties(g,y){let f=this.wcwidth(g),l=f===0&&y!==0;if(l){let d=s.UnicodeService.extractWidth(y);d===0?l=!1:d>f&&(f=d)}return s.UnicodeService.createPropertyValue(0,f,l)}}},5981:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;let s=n(8460),u=n(844);class h extends u.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new s.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,y){if(y!==void 0&&this._syncCalls>y)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);let l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,y){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(y),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(y)}_innerWrite(g=0,y=!0){let f=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){let l=this._writeBuffer[this._bufferOffset],d=this._action(l,y);if(d){let c=p=>Date.now()-f>=12?setTimeout(()=>this._innerWrite(0,p)):this._innerWrite(f,p);return void d.catch(p=>(queueMicrotask(()=>{throw p}),Promise.resolve(!1))).then(c)}let a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=l.length,Date.now()-f>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=h},5941:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;let n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,s=/^[\da-f]+$/;function u(h,m){let g=h.toString(16),y=g.length<2?"0"+g:g;switch(m){case 4:return g[0];case 8:return y;case 12:return(y+y).slice(0,3);default:return y+y}}t.parseColor=function(h){if(!h)return;let m=h.toLowerCase();if(m.indexOf("rgb:")===0){m=m.slice(4);let g=n.exec(m);if(g){let y=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/y*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/y*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/y*255)]}}else if(m.indexOf("#")===0&&(m=m.slice(1),s.exec(m)&&[3,6,9,12].includes(m.length))){let g=m.length/3,y=[0,0,0];for(let f=0;f<3;++f){let l=parseInt(m.slice(g*f,g*f+g),16);y[f]=g===1?l<<4:g===2?l:g===3?l>>4:l>>8}return y}},t.toRgbString=function(h,m=16){let[g,y,f]=h;return`rgb:${u(g,m)}/${u(y,m)}/${u(f,m)}`}},5770:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;let s=n(482),u=n(8742),h=n(5770),m=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=m,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}registerHandler(y,f){this._handlers[y]===void 0&&(this._handlers[y]=[]);let l=this._handlers[y];return l.push(f),{dispose:()=>{let d=l.indexOf(f);d!==-1&&l.splice(d,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}reset(){if(this._active.length)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].unhook(!1);this._stack.paused=!1,this._active=m,this._ident=0}hook(y,f){if(this.reset(),this._ident=y,this._active=this._handlers[y]||m,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(f);else this._handlerFb(this._ident,"HOOK",f)}put(y,f,l){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(y,f,l);else this._handlerFb(this._ident,"PUT",(0,s.utf32ToString)(y,f,l))}unhook(y,f=!0){if(this._active.length){let l=!1,d=this._active.length-1,a=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,l=f,a=this._stack.fallThrough,this._stack.paused=!1),!a&&l===!1){for(;d>=0&&(l=this._active[d].unhook(y),l!==!0);d--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,l;d--}for(;d>=0;d--)if(l=this._active[d].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",y);this._active=m,this._ident=0}};let g=new u.Params;g.addParam(0),t.DcsHandler=class{constructor(y){this._handler=y,this._data="",this._params=g,this._hitLimit=!1}hook(y){this._params=y.length>1||y.params[0]?y.clone():g,this._data="",this._hitLimit=!1}put(y,f,l){this._hitLimit||(this._data+=(0,s.utf32ToString)(y,f,l),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(y){let f=!1;if(this._hitLimit)f=!1;else if(y&&(f=this._handler(this._data,this._params),f instanceof Promise))return f.then(l=>(this._params=g,this._data="",this._hitLimit=!1,l));return this._params=g,this._data="",this._hitLimit=!1,f}}},2015:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;let s=n(844),u=n(8742),h=n(6242),m=n(6351);class g{constructor(d){this.table=new Uint8Array(d)}setDefault(d,a){this.table.fill(d<<4|a)}add(d,a,c,p){this.table[a<<8|d]=c<<4|p}addMany(d,a,c,p){for(let b=0;b<d.length;b++)this.table[a<<8|d[b]]=c<<4|p}}t.TransitionTable=g;let y=160;t.VT500_TRANSITION_TABLE=function(){let l=new g(4095),d=Array.apply(null,Array(256)).map((w,_)=>_),a=(w,_)=>d.slice(w,_),c=a(32,127),p=a(0,24);p.push(25),p.push.apply(p,a(28,32));let b=a(0,14),v;for(v in l.setDefault(1,0),l.addMany(c,0,2,0),b)l.addMany([24,26,153,154],v,3,0),l.addMany(a(128,144),v,3,0),l.addMany(a(144,152),v,3,0),l.add(156,v,0,0),l.add(27,v,11,1),l.add(157,v,4,8),l.addMany([152,158,159],v,0,7),l.add(155,v,11,3),l.add(144,v,11,9);return l.addMany(p,0,3,0),l.addMany(p,1,3,1),l.add(127,1,0,1),l.addMany(p,8,0,8),l.addMany(p,3,3,3),l.add(127,3,0,3),l.addMany(p,4,3,4),l.add(127,4,0,4),l.addMany(p,6,3,6),l.addMany(p,5,3,5),l.add(127,5,0,5),l.addMany(p,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(c,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(a(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(c,7,0,7),l.addMany(p,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(a(64,127),3,7,0),l.addMany(a(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(a(48,60),4,8,4),l.addMany(a(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(a(32,64),6,0,6),l.add(127,6,0,6),l.addMany(a(64,127),6,0,0),l.addMany(a(32,48),3,9,5),l.addMany(a(32,48),5,9,5),l.addMany(a(48,64),5,0,6),l.addMany(a(64,127),5,7,0),l.addMany(a(32,48),4,9,5),l.addMany(a(32,48),1,9,2),l.addMany(a(32,48),2,9,2),l.addMany(a(48,127),2,10,0),l.addMany(a(48,80),1,10,0),l.addMany(a(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(a(96,127),1,10,0),l.add(80,1,11,9),l.addMany(p,9,0,9),l.add(127,9,0,9),l.addMany(a(28,32),9,0,9),l.addMany(a(32,48),9,9,12),l.addMany(a(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(p,11,0,11),l.addMany(a(32,128),11,0,11),l.addMany(a(28,32),11,0,11),l.addMany(p,10,0,10),l.add(127,10,0,10),l.addMany(a(28,32),10,0,10),l.addMany(a(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(a(32,48),10,9,12),l.addMany(p,12,0,12),l.add(127,12,0,12),l.addMany(a(28,32),12,0,12),l.addMany(a(32,48),12,9,12),l.addMany(a(48,64),12,0,11),l.addMany(a(64,127),12,12,13),l.addMany(a(64,127),10,12,13),l.addMany(a(64,127),9,12,13),l.addMany(p,13,13,13),l.addMany(c,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(y,0,2,0),l.add(y,8,5,8),l.add(y,6,0,6),l.add(y,11,0,11),l.add(y,13,13,13),l}();class f extends s.Disposable{constructor(d=t.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new u.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(a,c,p)=>{},this._executeHandlerFb=a=>{},this._csiHandlerFb=(a,c)=>{},this._escHandlerFb=a=>{},this._errorHandlerFb=a=>a,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,s.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new m.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,a=[64,126]){let c=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(c=d.prefix.charCodeAt(0),c&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<d.intermediates.length;++b){let v=d.intermediates.charCodeAt(b);if(32>v||v>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=v}}if(d.final.length!==1)throw new Error("final must be a single byte");let p=d.final.charCodeAt(0);if(a[0]>p||p>a[1])throw new Error(`final must be in range ${a[0]} .. ${a[1]}`);return c<<=8,c|=p,c}identToString(d){let a=[];for(;d;)a.push(String.fromCharCode(255&d)),d>>=8;return a.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,a){let c=this._identifier(d,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);let p=this._escHandlers[c];return p.push(a),{dispose:()=>{let b=p.indexOf(a);b!==-1&&p.splice(b,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,a){this._executeHandlers[d.charCodeAt(0)]=a}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,a){let c=this._identifier(d);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);let p=this._csiHandlers[c];return p.push(a),{dispose:()=>{let b=p.indexOf(a);b!==-1&&p.splice(b,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,a){return this._dcsParser.registerHandler(this._identifier(d),a)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,a){return this._oscParser.registerHandler(d,a)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,a,c,p,b){this._parseStack.state=d,this._parseStack.handlers=a,this._parseStack.handlerPos=c,this._parseStack.transition=p,this._parseStack.chunkPos=b}parse(d,a,c){let p,b=0,v=0,w=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,w=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");let _=this._parseStack.handlers,S=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&S>-1){for(;S>=0&&(p=_[S](this._params),p!==!0);S--)if(p instanceof Promise)return this._parseStack.handlerPos=S,p}this._parseStack.handlers=[];break;case 4:if(c===!1&&S>-1){for(;S>=0&&(p=_[S](),p!==!0);S--)if(p instanceof Promise)return this._parseStack.handlerPos=S,p}this._parseStack.handlers=[];break;case 6:if(b=d[this._parseStack.chunkPos],p=this._dcsParser.unhook(b!==24&&b!==26,c),p)return p;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=d[this._parseStack.chunkPos],p=this._oscParser.end(b!==24&&b!==26,c),p)return p;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,w=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let _=w;_<a;++_){switch(b=d[_],v=this._transitions.table[this.currentState<<8|(b<160?b:y)],v>>4){case 2:for(let E=_+1;;++E){if(E>=a||(b=d[E])<32||b>126&&b<y){this._printHandler(d,_,E),_=E-1;break}if(++E>=a||(b=d[E])<32||b>126&&b<y){this._printHandler(d,_,E),_=E-1;break}if(++E>=a||(b=d[E])<32||b>126&&b<y){this._printHandler(d,_,E),_=E-1;break}if(++E>=a||(b=d[E])<32||b>126&&b<y){this._printHandler(d,_,E),_=E-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:let S=this._csiHandlers[this._collect<<8|b],M=S?S.length-1:-1;for(;M>=0&&(p=S[M](this._params),p!==!0);M--)if(p instanceof Promise)return this._preserveStack(3,S,M,v,_),p;M<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingJoinState=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++_<a&&(b=d[_])>47&&b<60);_--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:let I=this._escHandlers[this._collect<<8|b],L=I?I.length-1:-1;for(;L>=0&&(p=I[L](),p!==!0);L--)if(p instanceof Promise)return this._preserveStack(4,I,L,v,_),p;L<0&&this._escHandlerFb(this._collect<<8|b),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let E=_+1;;++E)if(E>=a||(b=d[E])===24||b===26||b===27||b>127&&b<y){this._dcsParser.put(d,_,E),_=E-1;break}break;case 14:if(p=this._dcsParser.unhook(b!==24&&b!==26),p)return this._preserveStack(6,[],0,v,_),p;b===27&&(v|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let E=_+1;;E++)if(E>=a||(b=d[E])<32||b>127&&b<y){this._oscParser.put(d,_,E),_=E-1;break}break;case 6:if(p=this._oscParser.end(b!==24&&b!==26),p)return this._preserveStack(5,[],0,v,_),p;b===27&&(v|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&v}}}t.EscapeSequenceParser=f},6242:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;let s=n(5770),u=n(482),h=[];t.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(m,g){this._handlers[m]===void 0&&(this._handlers[m]=[]);let y=this._handlers[m];return y.push(g),{dispose:()=>{let f=y.indexOf(g);f!==-1&&y.splice(f,1)}}}clearHandler(m){this._handlers[m]&&delete this._handlers[m]}setHandlerFallback(m){this._handlerFb=m}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].start();else this._handlerFb(this._id,"START")}_put(m,g,y){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(m,g,y);else this._handlerFb(this._id,"PUT",(0,u.utf32ToString)(m,g,y))}start(){this.reset(),this._state=1}put(m,g,y){if(this._state!==3){if(this._state===1)for(;g<y;){let f=m[g++];if(f===59){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+f-48}this._state===2&&y-g>0&&this._put(m,g,y)}}end(m,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let y=!1,f=this._active.length-1,l=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,y=g,l=this._stack.fallThrough,this._stack.paused=!1),!l&&y===!1){for(;f>=0&&(y=this._active[f].end(m),y!==!0);f--)if(y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,y;f--}for(;f>=0;f--)if(y=this._active[f].end(!1),y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,y}else this._handlerFb(this._id,"END",m);this._active=h,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(m){this._handler=m,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(m,g,y){this._hitLimit||(this._data+=(0,u.utf32ToString)(m,g,y),this._data.length>s.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(m){let g=!1;if(this._hitLimit)g=!1;else if(m&&(g=this._handler(this._data),g instanceof Promise))return g.then(y=>(this._data="",this._hitLimit=!1,y));return this._data="",this._hitLimit=!1,g}}},8742:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;let n=2147483647;class s{static fromArray(h){let m=new s;if(!h.length)return m;for(let g=Array.isArray(h[0])?1:0;g<h.length;++g){let y=h[g];if(Array.isArray(y))for(let f=0;f<y.length;++f)m.addSubParam(y[f]);else m.addParam(y)}return m}constructor(h=32,m=32){if(this.maxLength=h,this.maxSubParamsLength=m,m>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(m),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){let h=new s(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){let h=[];for(let m=0;m<this.length;++m){h.push(this.params[m]);let g=this._subParamsIdx[m]>>8,y=255&this._subParamsIdx[m];y-g>0&&h.push(Array.prototype.slice.call(this._subParams,g,y))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>n?n:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>n?n:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){let m=this._subParamsIdx[h]>>8,g=255&this._subParamsIdx[h];return g-m>0?this._subParams.subarray(m,g):null}getSubParamsAll(){let h={};for(let m=0;m<this.length;++m){let g=this._subParamsIdx[m]>>8,y=255&this._subParamsIdx[m];y-g>0&&(h[m]=this._subParams.slice(g,y))}return h}addDigit(h){let m;if(this._rejectDigits||!(m=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;let g=this._digitIsSub?this._subParams:this.params,y=g[m-1];g[m-1]=~y?Math.min(10*y+h,n):h}}t.Params=s},5741:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,s){let u={instance:s,dispose:s.dispose,isDisposed:!1};this._addons.push(u),s.dispose=()=>this._wrappedAddonDispose(u),s.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let s=-1;for(let u=0;u<this._addons.length;u++)if(this._addons[u]===n){s=u;break}if(s===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(s,1)}}},8771:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;let s=n(3785),u=n(511);t.BufferApiView=class{constructor(h,m){this._buffer=h,this.type=m}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){let m=this._buffer.lines.get(h);if(m)return new s.BufferLineApiView(m)}getNullCell(){return new u.CellData}}},3785:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;let s=n(511);t.BufferLineApiView=class{constructor(u){this._line=u}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(u,h){if(!(u<0||u>=this._line.length))return h?(this._line.loadCell(u,h),h):this._line.loadCell(u,new s.CellData)}translateToString(u,h,m){return this._line.translateToString(u,h,m)}}},8285:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;let s=n(8771),u=n(8460),h=n(844);class m extends h.Disposable{constructor(y){super(),this._core=y,this._onBufferChange=this.register(new u.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new s.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new s.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=m},7975:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,s){return this._core.registerCsiHandler(n,u=>s(u.toArray()))}addCsiHandler(n,s){return this.registerCsiHandler(n,s)}registerDcsHandler(n,s){return this._core.registerDcsHandler(n,(u,h)=>s(u,h.toArray()))}addDcsHandler(n,s){return this.registerDcsHandler(n,s)}registerEscHandler(n,s){return this._core.registerEscHandler(n,s)}addEscHandler(n,s){return this.registerEscHandler(n,s)}registerOscHandler(n,s){return this._core.registerOscHandler(n,s)}addOscHandler(n,s){return this.registerOscHandler(n,s)}}},7090:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(r,t,n){var s=this&&this.__decorate||function(l,d,a,c){var p,b=arguments.length,v=b<3?d:c===null?c=Object.getOwnPropertyDescriptor(d,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(l,d,a,c);else for(var w=l.length-1;w>=0;w--)(p=l[w])&&(v=(b<3?p(v):b>3?p(d,a,v):p(d,a))||v);return b>3&&v&&Object.defineProperty(d,a,v),v},u=this&&this.__param||function(l,d){return function(a,c){d(a,c,l)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;let h=n(8460),m=n(844),g=n(5295),y=n(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let f=t.BufferService=class extends m.Disposable{get buffer(){return this.buffers.active}constructor(l){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(l.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(l,this))}resize(l,d){this.cols=l,this.rows=d,this.buffers.resize(l,d),this._onResize.fire({cols:l,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,d=!1){let a=this.buffer,c;c=this._cachedBlankLine,c&&c.length===this.cols&&c.getFg(0)===l.fg&&c.getBg(0)===l.bg||(c=a.getBlankLine(l,d),this._cachedBlankLine=c),c.isWrapped=d;let p=a.ybase+a.scrollTop,b=a.ybase+a.scrollBottom;if(a.scrollTop===0){let v=a.lines.isFull;b===a.lines.length-1?v?a.lines.recycle().copyFrom(c):a.lines.push(c.clone()):a.lines.splice(b+1,0,c.clone()),v?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else{let v=b-p+1;a.lines.shiftElements(p+1,v-1,-1),a.lines.set(b,c.clone())}this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(l,d,a){let c=this.buffer;if(l<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else l+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);let p=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+l,c.ybase),0),p!==c.ydisp&&(d||this._onScroll.fire(c.ydisp))}};t.BufferService=f=s([u(0,y.IOptionsService)],f)},7994:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,s){this._charsets[n]=s,this.glevel===n&&(this.charset=s)}}},1753:function(r,t,n){var s=this&&this.__decorate||function(c,p,b,v){var w,_=arguments.length,S=_<3?p:v===null?v=Object.getOwnPropertyDescriptor(p,b):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(c,p,b,v);else for(var M=c.length-1;M>=0;M--)(w=c[M])&&(S=(_<3?w(S):_>3?w(p,b,S):w(p,b))||S);return _>3&&S&&Object.defineProperty(p,b,S),S},u=this&&this.__param||function(c,p){return function(b,v){p(b,v,c)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;let h=n(2585),m=n(8460),g=n(844),y={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>c.button!==4&&c.action===1&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>c.action!==32},DRAG:{events:23,restrict:c=>c.action!==32||c.button!==3},ANY:{events:31,restrict:c=>!0}};function f(c,p){let b=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return c.button===4?(b|=64,b|=c.action):(b|=3&c.button,4&c.button&&(b|=64),8&c.button&&(b|=128),c.action===32?b|=32:c.action!==0||p||(b|=3)),b}let l=String.fromCharCode,d={DEFAULT:c=>{let p=[f(c,!1)+32,c.col+32,c.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${l(p[0])}${l(p[1])}${l(p[2])}`},SGR:c=>{let p=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${f(c,!0)};${c.col};${c.row}${p}`},SGR_PIXELS:c=>{let p=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${f(c,!0)};${c.x};${c.y}${p}`}},a=t.CoreMouseService=class extends g.Disposable{constructor(c,p){super(),this._bufferService=c,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new m.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(let b of Object.keys(y))this.addProtocol(b,y[b]);for(let b of Object.keys(d))this.addEncoding(b,d[b]);this.reset()}addProtocol(c,p){this._protocols[c]=p}addEncoding(c,p){this._encodings[c]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||c.button===4&&c.action===32||c.button===3&&c.action!==32||c.button!==4&&(c.action===2||c.action===3)||(c.col++,c.row++,c.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,c,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(c))return!1;let p=this._encodings[this._activeEncoding](c);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,p,b){if(b){if(c.x!==p.x||c.y!==p.y)return!1}else if(c.col!==p.col||c.row!==p.row)return!1;return c.button===p.button&&c.action===p.action&&c.ctrl===p.ctrl&&c.alt===p.alt&&c.shift===p.shift}};t.CoreMouseService=a=s([u(0,h.IBufferService),u(1,h.ICoreService)],a)},6975:function(r,t,n){var s=this&&this.__decorate||function(a,c,p,b){var v,w=arguments.length,_=w<3?c:b===null?b=Object.getOwnPropertyDescriptor(c,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,c,p,b);else for(var S=a.length-1;S>=0;S--)(v=a[S])&&(_=(w<3?v(_):w>3?v(c,p,_):v(c,p))||_);return w>3&&_&&Object.defineProperty(c,p,_),_},u=this&&this.__param||function(a,c){return function(p,b){c(p,b,a)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;let h=n(1439),m=n(8460),g=n(844),y=n(2585),f=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0}),d=t.CoreService=class extends g.Disposable{constructor(a,c,p){super(),this._bufferService=a,this._logService=c,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new m.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new m.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(f),this.decPrivateModes=(0,h.clone)(l)}reset(){this.modes=(0,h.clone)(f),this.decPrivateModes=(0,h.clone)(l)}triggerDataEvent(a,c=!1){if(this._optionsService.rawOptions.disableStdin)return;let p=this._bufferService.buffer;c&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),c&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(b=>b.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(c=>c.charCodeAt(0))),this._onBinary.fire(a))}};t.CoreService=d=s([u(0,y.IBufferService),u(1,y.ILogService),u(2,y.IOptionsService)],d)},9074:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;let s=n(8055),u=n(8460),h=n(844),m=n(6106),g=0,y=0;class f extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new m.SortedList(a=>a?.marker.line),this._onDecorationRegistered=this.register(new u.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new u.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(a){if(a.marker.isDisposed)return;let c=new l(a);if(c){let p=c.marker.onDispose(()=>c.dispose());c.onDispose(()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),p.dispose())}),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(let a of this._decorations.values())a.dispose();this._decorations.clear()}*getDecorationsAtCell(a,c,p){let b=0,v=0;for(let w of this._decorations.getKeyIterator(c))b=w.options.x??0,v=b+(w.options.width??1),a>=b&&a<v&&(!p||(w.options.layer??"bottom")===p)&&(yield w)}forEachDecorationAtCell(a,c,p,b){this._decorations.forEachByKey(c,v=>{g=v.options.x??0,y=g+(v.options.width??1),a>=g&&a<y&&(!p||(v.options.layer??"bottom")===p)&&b(v)})}}t.DecorationService=f;class l extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=s.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=s.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(a){super(),this.options=a,this.onRenderEmitter=this.register(new u.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=a.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;let s=n(2585),u=n(8343);class h{constructor(...g){this._entries=new Map;for(let[y,f]of g)this.set(y,f)}set(g,y){let f=this._entries.get(g);return this._entries.set(g,y),f}forEach(g){for(let[y,f]of this._entries.entries())g(y,f)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}t.ServiceCollection=h,t.InstantiationService=class{constructor(){this._services=new h,this._services.set(s.IInstantiationService,this)}setService(m,g){this._services.set(m,g)}getService(m){return this._services.get(m)}createInstance(m,...g){let y=(0,u.getServiceDependencies)(m).sort((d,a)=>d.index-a.index),f=[];for(let d of y){let a=this._services.get(d.id);if(!a)throw new Error(`[createInstance] ${m.name} depends on UNKNOWN service ${d.id}.`);f.push(a)}let l=y.length>0?y[0].index:g.length;if(g.length!==l)throw new Error(`[createInstance] First service dependency of ${m.name} at position ${l+1} conflicts with ${g.length} static arguments`);return new m(...g,...f)}}},7866:function(r,t,n){var s=this&&this.__decorate||function(l,d,a,c){var p,b=arguments.length,v=b<3?d:c===null?c=Object.getOwnPropertyDescriptor(d,a):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(l,d,a,c);else for(var w=l.length-1;w>=0;w--)(p=l[w])&&(v=(b<3?p(v):b>3?p(d,a,v):p(d,a))||v);return b>3&&v&&Object.defineProperty(d,a,v),v},u=this&&this.__param||function(l,d){return function(a,c){d(a,c,l)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;let h=n(844),m=n(2585),g={trace:m.LogLevelEnum.TRACE,debug:m.LogLevelEnum.DEBUG,info:m.LogLevelEnum.INFO,warn:m.LogLevelEnum.WARN,error:m.LogLevelEnum.ERROR,off:m.LogLevelEnum.OFF},y,f=t.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=m.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),y=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let d=0;d<l.length;d++)typeof l[d]=="function"&&(l[d]=l[d]())}_log(l,d,a){this._evalLazyOptionalParams(a),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...a)}trace(l,...d){this._logLevel<=m.LogLevelEnum.TRACE&&this._log(this._optionsService.options.logger?.trace.bind(this._optionsService.options.logger)??console.log,l,d)}debug(l,...d){this._logLevel<=m.LogLevelEnum.DEBUG&&this._log(this._optionsService.options.logger?.debug.bind(this._optionsService.options.logger)??console.log,l,d)}info(l,...d){this._logLevel<=m.LogLevelEnum.INFO&&this._log(this._optionsService.options.logger?.info.bind(this._optionsService.options.logger)??console.info,l,d)}warn(l,...d){this._logLevel<=m.LogLevelEnum.WARN&&this._log(this._optionsService.options.logger?.warn.bind(this._optionsService.options.logger)??console.warn,l,d)}error(l,...d){this._logLevel<=m.LogLevelEnum.ERROR&&this._log(this._optionsService.options.logger?.error.bind(this._optionsService.options.logger)??console.error,l,d)}};t.LogService=f=s([u(0,m.IOptionsService)],f),t.setTraceLogger=function(l){y=l},t.traceCall=function(l,d,a){if(typeof a.value!="function")throw new Error("not supported");let c=a.value;a.value=function(...p){if(y.logLevel!==m.LogLevelEnum.TRACE)return c.apply(this,p);y.trace(`GlyphRenderer#${c.name}(${p.map(v=>JSON.stringify(v)).join(", ")})`);let b=c.apply(this,p);return y.trace(`GlyphRenderer#${c.name} return`,b),b}}},7302:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;let s=n(8460),u=n(844),h=n(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};let m=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends u.Disposable{constructor(f){super(),this._onOptionChange=this.register(new s.EventEmitter),this.onOptionChange=this._onOptionChange.event;let l=ve({},t.DEFAULT_OPTIONS);for(let d in f)if(d in l)try{let a=f[d];l[d]=this._sanitizeAndValidateOption(d,a)}catch(a){console.error(a)}this.rawOptions=l,this.options=ve({},l),this._setupOptions(),this.register((0,u.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(f,l){return this.onOptionChange(d=>{d===f&&l(this.rawOptions[f])})}onMultipleOptionChange(f,l){return this.onOptionChange(d=>{f.indexOf(d)!==-1&&l()})}_setupOptions(){let f=d=>{if(!(d in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},l=(d,a)=>{if(!(d in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);a=this._sanitizeAndValidateOption(d,a),this.rawOptions[d]!==a&&(this.rawOptions[d]=a,this._onOptionChange.fire(d))};for(let d in this.rawOptions){let a={get:f.bind(this,d),set:l.bind(this,d)};Object.defineProperty(this.options,d,a)}}_sanitizeAndValidateOption(f,l){switch(f){case"cursorStyle":if(l||(l=t.DEFAULT_OPTIONS[f]),!function(d){return d==="block"||d==="underline"||d==="bar"}(l))throw new Error(`"${l}" is not a valid value for ${f}`);break;case"wordSeparator":l||(l=t.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof l=="number"&&1<=l&&l<=1e3)break;l=m.includes(l)?l:t.DEFAULT_OPTIONS[f];break;case"cursorWidth":l=Math.floor(l);case"lineHeight":case"tabStopWidth":if(l<1)throw new Error(`${f} cannot be less than 1, value: ${l}`);break;case"minimumContrastRatio":l=Math.max(1,Math.min(21,Math.round(10*l)/10));break;case"scrollback":if((l=Math.min(l,4294967295))<0)throw new Error(`${f} cannot be less than 0, value: ${l}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(l<=0)throw new Error(`${f} cannot be less than or equal to 0, value: ${l}`);break;case"rows":case"cols":if(!l&&l!==0)throw new Error(`${f} must be numeric, value: ${l}`);break;case"windowsPty":l=l??{}}return l}}t.OptionsService=g},2660:function(r,t,n){var s=this&&this.__decorate||function(g,y,f,l){var d,a=arguments.length,c=a<3?y:l===null?l=Object.getOwnPropertyDescriptor(y,f):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(g,y,f,l);else for(var p=g.length-1;p>=0;p--)(d=g[p])&&(c=(a<3?d(c):a>3?d(y,f,c):d(y,f))||c);return a>3&&c&&Object.defineProperty(y,f,c),c},u=this&&this.__param||function(g,y){return function(f,l){y(f,l,g)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;let h=n(2585),m=t.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){let y=this._bufferService.buffer;if(g.id===void 0){let p=y.addMarker(y.ybase+y.y),b={data:g,id:this._nextId++,lines:[p]};return p.onDispose(()=>this._removeMarkerFromLink(b,p)),this._dataByLinkId.set(b.id,b),b.id}let f=g,l=this._getEntryIdKey(f),d=this._entriesWithId.get(l);if(d)return this.addLineToLink(d.id,y.ybase+y.y),d.id;let a=y.addMarker(y.ybase+y.y),c={id:this._nextId++,key:this._getEntryIdKey(f),data:f,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(c,a)),this._entriesWithId.set(c.key,c),this._dataByLinkId.set(c.id,c),c.id}addLineToLink(g,y){let f=this._dataByLinkId.get(g);if(f&&f.lines.every(l=>l.line!==y)){let l=this._bufferService.buffer.addMarker(y);f.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(f,l))}}getLinkData(g){return this._dataByLinkId.get(g)?.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,y){let f=g.lines.indexOf(y);f!==-1&&(g.lines.splice(f,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};t.OscLinkService=m=s([u(0,h.IBufferService)],m)},8343:(r,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;let n="di$target",s="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(u){return u[s]||[]},t.createDecorator=function(u){if(t.serviceRegistry.has(u))return t.serviceRegistry.get(u);let h=function(m,g,y){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,l,d){l[n]===l?l[s].push({id:f,index:d}):(l[s]=[{id:f,index:d}],l[n]=l)})(h,m,y)};return h.toString=()=>u,t.serviceRegistry.set(u,h),h}},2585:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;let s=n(8343);var u;t.IBufferService=(0,s.createDecorator)("BufferService"),t.ICoreMouseService=(0,s.createDecorator)("CoreMouseService"),t.ICoreService=(0,s.createDecorator)("CoreService"),t.ICharsetService=(0,s.createDecorator)("CharsetService"),t.IInstantiationService=(0,s.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(u||(t.LogLevelEnum=u={})),t.ILogService=(0,s.createDecorator)("LogService"),t.IOptionsService=(0,s.createDecorator)("OptionsService"),t.IOscLinkService=(0,s.createDecorator)("OscLinkService"),t.IUnicodeService=(0,s.createDecorator)("UnicodeService"),t.IDecorationService=(0,s.createDecorator)("DecorationService")},1480:(r,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;let s=n(8460),u=n(225);class h{static extractShouldJoin(g){return(1&g)!=0}static extractWidth(g){return g>>1&3}static extractCharKind(g){return g>>3}static createPropertyValue(g,y,f=!1){return(16777215&g)<<3|(3&y)<<1|(f?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new s.EventEmitter,this.onChange=this._onChange.event;let g=new u.UnicodeV6;this.register(g),this._active=g.version,this._activeProvider=g}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(g){if(!this._providers[g])throw new Error(`unknown Unicode version "${g}"`);this._active=g,this._activeProvider=this._providers[g],this._onChange.fire(g)}register(g){this._providers[g.version]=g}wcwidth(g){return this._activeProvider.wcwidth(g)}getStringCellWidth(g){let y=0,f=0,l=g.length;for(let d=0;d<l;++d){let a=g.charCodeAt(d);if(55296<=a&&a<=56319){if(++d>=l)return y+this.wcwidth(a);let b=g.charCodeAt(d);56320<=b&&b<=57343?a=1024*(a-55296)+b-56320+65536:y+=this.wcwidth(b)}let c=this.charProperties(a,f),p=h.extractWidth(c);h.extractShouldJoin(c)&&(p-=h.extractWidth(f)),y+=p,f=c}return y}charProperties(g,y){return this._activeProvider.charProperties(g,y)}}t.UnicodeService=h}},i={};function C(r){var t=i[r];if(t!==void 0)return t.exports;var n=i[r]={exports:{}};return o[r].call(n.exports,n,n.exports,C),n.exports}var e={};return(()=>{var r=e;Object.defineProperty(r,"__esModule",{value:!0}),r.Terminal=void 0;let t=C(9042),n=C(3236),s=C(844),u=C(5741),h=C(8285),m=C(7975),g=C(7090),y=["cols","rows"];class f extends s.Disposable{constructor(d){super(),this._core=this.register(new n.Terminal(d)),this._addonManager=this.register(new u.AddonManager),this._publicOptions=ve({},this._core.options);let a=p=>this._core.options[p],c=(p,b)=>{this._checkReadonlyOptions(p),this._core.options[p]=b};for(let p in this._core.options){let b={get:a.bind(this,p),set:c.bind(this,p)};Object.defineProperty(this._publicOptions,p,b)}}_checkReadonlyOptions(d){if(y.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new m.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){let d=this._core.coreService.decPrivateModes,a="none";switch(this._core.coreMouseService.activeProtocol){case"X10":a="x10";break;case"VT200":a="vt200";break;case"DRAG":a="drag";break;case"ANY":a="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:a,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(let a in d)this._publicOptions[a]=d[a]}blur(){this._core.blur()}focus(){this._core.focus()}input(d,a=!0){this._core.input(d,a)}resize(d,a){this._verifyIntegers(d,a),this._core.resize(d,a)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}attachCustomWheelEventHandler(d){this._core.attachCustomWheelEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){return this._checkProposedApi(),this._verifyPositiveIntegers(d.x??0,d.width??0,d.height??0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,a,c){this._verifyIntegers(d,a,c),this._core.select(d,a,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,a){this._verifyIntegers(d,a),this._core.selectLines(d,a)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,a){this._core.write(d,a)}writeln(d,a){this._core.write(d),this._core.write(`\r
`,a)}paste(d){this._core.paste(d)}refresh(d,a){this._verifyIntegers(d,a),this._core.refresh(d,a)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return t}_verifyIntegers(...d){for(let a of d)if(a===1/0||isNaN(a)||a%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(let a of d)if(a&&(a===1/0||isNaN(a)||a%1!=0||a<0))throw new Error("This API only accepts positive integers")}}r.Terminal=f})(),e})())});var Et=(()=>{let i=class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=St(e)}get inset(){return this._inset}set inset(e){this._inset=St(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,t){r&2&&(Ce("aria-orientation",t.vertical?"vertical":"horizontal"),ge("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[q],decls:0,vars:0,template:function(r,t){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let o=i;return o})(),ut=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,Pe]});let o=i;return o})();var Zi=class{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},Qt=class extends Zi{constructor(i,C,e,r,t){super(),this.component=i,this.viewContainerRef=C,this.injector=e,this.componentFactoryResolver=r,this.projectableNodes=t}},gt=class extends Zi{constructor(i,C,e,r){super(),this.templateRef=i,this.viewContainerRef=C,this.context=e,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,C=this.context){return this.context=C,super.attach(i)}detach(){return this.context=void 0,super.detach()}},Pn=class extends Zi{constructor(i){super(),this.element=i instanceof ae?i.nativeElement:i}},wi=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof Qt)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof gt)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof Pn)return this._attachedPortal=i,this.attachDomPortal(i)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ji=class extends wi{constructor(i,C,e,r,t){super(),this.outletElement=i,this._componentFactoryResolver=C,this._appRef=e,this._defaultInjector=r,this.attachDomPortal=n=>{this._document;let s=n.element;s.parentNode;let u=this._document.createComment("dom-portal");s.parentNode.insertBefore(u,s),this.outletElement.appendChild(s),this._attachedPortal=n,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(s,u)})},this._document=t}attachComponentPortal(i){let e=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(e,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=e.create(i.injector||this._defaultInjector||We.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let C=i.viewContainerRef,e=C.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return e.rootNodes.forEach(r=>this.outletElement.appendChild(r)),e.detectChanges(),this.setDisposeFn(()=>{let r=C.indexOf(e);r!==-1&&C.remove(r)}),this._attachedPortal=i,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var Ao=(()=>{let i=class i extends gt{constructor(e,r){super(e,r)}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ue))},i.\u0275dir=Z({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ke]});let o=i;return o})();var oi=(()=>{let i=class i extends wi{constructor(e,r,t){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=n=>{this._document;let s=n.element;s.parentNode;let u=this._document.createComment("dom-portal");n.setAttachedHost(this),s.parentNode.insertBefore(u,s),this._getRootNode().appendChild(s),this._attachedPortal=n,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(s,u)})},this._document=t}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=r.createComponent(n,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}};i.\u0275fac=function(r){return new(r||i)(T(ni),T(Ue),T(ze))},i.\u0275dir=Z({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ke]});let o=i;return o})();var Fn=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({});let o=i;return o})();function ki(o){return o&&typeof o.connect=="function"&&!(o instanceof Ns)}var Si=function(o){return o[o.REPLACED=0]="REPLACED",o[o.INSERTED=1]="INSERTED",o[o.MOVED=2]="MOVED",o[o.REMOVED=3]="REMOVED",o}(Si||{}),er=new de("_ViewRepeater"),xi=class{applyChanges(i,C,e,r,t){i.forEachOperation((n,s,u)=>{let h,m;if(n.previousIndex==null){let g=e(n,s,u);h=C.createEmbeddedView(g.templateRef,g.context,g.index),m=Si.INSERTED}else u==null?(C.remove(s),m=Si.REMOVED):(h=C.get(s),C.move(h,u),m=Si.MOVED);t&&t({context:h?.context,operation:m,record:n})})}detach(){}};var Hr=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(i=!1,C,e=!0,r){this._multiple=i,this._emitChanges=e,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new oe,C&&C.length&&(i?C.forEach(t=>this._markSelected(t)):this._markSelected(C[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(e=>this._markSelected(e));let C=this._hasQueuedChanges();return this._emitChangeEvent(),C}deselect(...i){this._verifyValueAssignment(i),i.forEach(e=>this._unmarkSelected(e));let C=this._hasQueuedChanges();return this._emitChangeEvent(),C}setSelection(...i){this._verifyValueAssignment(i);let C=this.selected,e=new Set(i);i.forEach(t=>this._markSelected(t)),C.filter(t=>!e.has(this._getConcreteValue(t,e))).forEach(t=>this._unmarkSelected(t));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let C=this._hasQueuedChanges();return i&&this._emitChangeEvent(),C}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,C){if(this.compareWith){C=C??this._selection;for(let e of C)if(this.compareWith(i,e))return e;return i}else return i}};var Bn=(()=>{let i=class i{constructor(){this._listeners=[]}notify(e,r){for(let t of this._listeners)t(e,r)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(r=>e!==r)}}ngOnDestroy(){this._listeners=[]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var gl=20,Di=(()=>{let i=class i{constructor(e,r,t){this._ngZone=e,this._platform=r,this._scrolled=new oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=t}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=gl){return this._platform.isBrowser?new ii(r=>{this._globalSubscription||this._addGlobalListener();let t=e>0?this._scrolled.pipe(Sn(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{t.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):De()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let t=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(tt(n=>!n||t.indexOf(n)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((t,n)=>{this._scrollableContainsElement(n,e)&&r.push(n)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let t=Yi(r),n=e.getElementRef().nativeElement;do if(t==n)return!0;while(t=t.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return ft(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};i.\u0275fac=function(r){return new(r||i)(he(fe),he(Be),he(ze,8))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Hn=(()=>{let i=class i{constructor(e,r,t,n){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=t,this.dir=n,this._destroyed=new oe,this._elementScrolled=new ii(s=>this.ngZone.runOutsideAngular(()=>ft(this.elementRef.nativeElement,"scroll").pipe(le(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let r=this.elementRef.nativeElement,t=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=t?e.end:e.start),e.right==null&&(e.right=t?e.start:e.end),e.bottom!=null&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),t&&vi()!=gi.NORMAL?(e.left!=null&&(e.right=r.scrollWidth-r.clientWidth-e.left),vi()==gi.INVERTED?e.left=e.right:vi()==gi.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let r=this.elementRef.nativeElement;Ar()?r.scrollTo(e):(e.top!=null&&(r.scrollTop=e.top),e.left!=null&&(r.scrollLeft=e.left))}measureScrollOffset(e){let r="left",t="right",n=this.elementRef.nativeElement;if(e=="top")return n.scrollTop;if(e=="bottom")return n.scrollHeight-n.clientHeight-n.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?t:r:e=="end"&&(e=s?r:t),s&&vi()==gi.INVERTED?e==r?n.scrollWidth-n.clientWidth-n.scrollLeft:n.scrollLeft:s&&vi()==gi.NEGATED?e==r?n.scrollLeft+n.scrollWidth-n.clientWidth:-n.scrollLeft:e==r?n.scrollLeft:n.scrollWidth-n.clientWidth-n.scrollLeft}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(Di),T(fe),T(He,8))},i.\u0275dir=Z({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let o=i;return o})(),vl=20,zt=(()=>{let i=class i{constructor(e,r,t){this._platform=e,this._change=new oe,this._changeListener=n=>{this._change.next(n)},this._document=t,r.runOutsideAngular(()=>{if(e.isBrowser){let n=this._getWindow();n.addEventListener("resize",this._changeListener),n.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:t}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+t,right:e.left+r,height:t,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),t=e.documentElement,n=t.getBoundingClientRect(),s=-n.top||e.body.scrollTop||r.scrollY||t.scrollTop||0,u=-n.left||e.body.scrollLeft||r.scrollX||t.scrollLeft||0;return{top:s,left:u}}change(e=vl){return e>0?this._change.pipe(Sn(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};i.\u0275fac=function(r){return new(r||i)(he(Be),he(fe),he(ze,8))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var Ei=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({});let o=i;return o})(),tr=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Gi,Ei,Gi,Ei]});let o=i;return o})();var jn=class{constructor(i){this._box=i,this._destroyed=new oe,this._resizeSubject=new oe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(C=>this._resizeSubject.next(C)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new ii(C=>{let e=this._resizeSubject.subscribe(C);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),e.unsubscribe(),this._elementObservables.delete(i)}}).pipe(tt(C=>C.some(e=>e.target===i)),zi({bufferSize:1,refCount:!0}),le(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Nr=(()=>{let i=class i{constructor(){this._observers=new Map,this._ngZone=j(fe),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,r){let t=r?.box||"content-box";return this._observers.has(t)||this._observers.set(t,new jn(t)),this._observers.get(t).observe(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var Un=["*"];function bl(o,i){o&1&&we(0)}var yl=["tabListContainer"],Cl=["tabList"],wl=["tabListInner"],Sl=["nextPaginator"],xl=["previousPaginator"],kl=o=>({animationDuration:o}),El=(o,i)=>({value:o,params:i});function Dl(o,i){}var Rl=["tabBodyWrapper"],Ml=["tabHeader"];function Il(o,i){}function Tl(o,i){if(o&1&&re(0,Il,0,0,"ng-template",12),o&2){let C=be().$implicit;te("cdkPortalOutlet",C.templateLabel)}}function Al(o,i){if(o&1&&V(0),o&2){let C=be().$implicit;st(C.textLabel)}}function Ol(o,i){if(o&1){let C=qe();O(0,"div",7,2),ie("click",function(){let r=Se(C),t=r.$implicit,n=r.$index,s=be(),u=at(1);return xe(s._handleClick(t,u,n))})("cdkFocusChange",function(r){let t=Se(C).$index,n=be();return xe(n._tabFocusChanged(r,t))}),G(2,"span",8)(3,"div",9),O(4,"span",10)(5,"span",11),re(6,Tl,1,1,null,12)(7,Al,1,1),P()()()}if(o&2){let C=i.$implicit,e=i.$index,r=at(1),t=be();It(C.labelClass),ge("mdc-tab--active",t.selectedIndex===e),te("id",t._getTabLabelId(e))("disabled",C.disabled)("fitInkBarToContent",t.fitInkBarToContent),Ce("tabIndex",t._getTabIndex(e))("aria-posinset",e+1)("aria-setsize",t._tabs.length)("aria-controls",t._getTabContentId(e))("aria-selected",t.selectedIndex===e)("aria-label",C.ariaLabel||null)("aria-labelledby",!C.ariaLabel&&C.ariaLabelledby?C.ariaLabelledby:null),H(3),te("matRippleTrigger",r)("matRippleDisabled",C.disabled||t.disableRipple),H(3),Ee(C.templateLabel?6:7)}}function Ll(o,i){o&1&&we(0)}function Pl(o,i){if(o&1){let C=qe();O(0,"mat-tab-body",13),ie("_onCentered",function(){Se(C);let r=be();return xe(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){Se(C);let t=be();return xe(t._setTabBodyWrapperHeight(r))}),P()}if(o&2){let C=i.$implicit,e=i.$index,r=be();It(C.bodyClass),ge("mat-mdc-tab-body-active",r.selectedIndex===e),te("id",r._getTabContentId(e))("content",C.content)("position",C.position)("origin",C.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Ce("tabindex",r.contentTabIndex!=null&&r.selectedIndex===e?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e))("aria-hidden",r.selectedIndex!==e)}}var Fl=new de("MatTabContent"),Bl=(()=>{let i=class i{constructor(e){this.template=e}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["","matTabContent",""]],standalone:!0,features:[Ie([{provide:Fl,useExisting:i}])]});let o=i;return o})(),Hl=new de("MatTabLabel"),Po=new de("MAT_TAB"),$n=(()=>{let i=class i extends Ao{constructor(e,r,t){super(e,r),this._closestTab=t}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ue),T(Po,8))},i.\u0275dir=Z({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Ie([{provide:Hl,useExisting:i}]),ke]});let o=i;return o})(),Fo=new de("MAT_TAB_GROUP"),Kn=(()=>{let i=class i{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,r){this._viewContainerRef=e,this._closestTabGroup=r,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new oe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new gt(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(Fo,8))},i.\u0275cmp=K({type:i,selectors:[["mat-tab"]],contentQueries:function(r,t,n){if(r&1&&(Fe(n,$n,5),Fe(n,Bl,7,Ne)),r&2){let s;ne(s=se())&&(t.templateLabel=s.first),ne(s=se())&&(t._explicitContent=s.first)}},viewQuery:function(r,t){if(r&1&&Ae(Ne,7),r&2){let n;ne(n=se())&&(t._implicitContent=n.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ye],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Ie([{provide:Po,useExisting:i}]),Oe,Ot,q],ngContentSelectors:Un,decls:1,vars:0,template:function(r,t){r&1&&(Ye(),re(0,bl,1,0,"ng-template"))},encapsulation:2});let o=i;return o})(),zn="mdc-tab-indicator--active",Oo="mdc-tab-indicator--no-transition",Wn=class{constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar())}alignToElement(i){let C=this._items.find(r=>r.elementRef.nativeElement===i),e=this._currentItem;if(C!==e&&(e?.deactivateInkBar(),C)){let r=e?.elementRef.nativeElement.getBoundingClientRect?.();C.activateInkBar(r),this._currentItem=C}}},Nl=(()=>{let i=class i{constructor(){this._elementRef=j(ae),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let r=this._elementRef.nativeElement;if(!e||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(zn);return}let t=r.getBoundingClientRect(),n=e.width/t.width,s=e.left-t.left;r.classList.add(Oo),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${n})`),r.getBoundingClientRect(),r.classList.remove(Oo),r.classList.add(zn),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(zn)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=e.createElement("span"),t=this._inkBarContentElement=e.createElement("span");r.className="mdc-tab-indicator",t.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ye]},features:[Oe]});let o=i;return o})();var Bo=(()=>{let i=class i extends Nl{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};i.\u0275fac=function(r){return new(r||i)(T(ae))},i.\u0275dir=Z({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,t){r&2&&(Ce("aria-disabled",!!t.disabled),ge("mat-mdc-tab-disabled",t.disabled))},inputs:{disabled:[2,"disabled","disabled",ye]},standalone:!0,features:[Oe,ke]});let o=i;return o})(),Lo=Xt({passive:!0}),jl=650,zl=100,Wl=(()=>{let i=class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let r=isNaN(e)?0:e;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(e,r,t,n,s,u,h){this._elementRef=e,this._changeDetectorRef=r,this._viewportRuler=t,this._dir=n,this._ngZone=s,this._platform=u,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new oe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new oe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new pe,this.indexFocused=new pe,this._sharedResizeObserver=j(Nr),this._injector=j(We),s.runOutsideAngular(()=>{ft(e.nativeElement,"mouseleave").pipe(le(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){ft(this._previousPaginator.nativeElement,"touchstart",Lo).pipe(le(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ft(this._nextPaginator.nativeElement,"touchstart",Lo).pipe(le(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:De("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(_r(32),le(this._destroyed)),t=this._viewportRuler.change(150).pipe(le(this._destroyed)),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new yi(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),bt(n,{injector:this._injector}),nt(e,t,r,this._items.changes,this._itemsResized()).pipe(le(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),n()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?ui:this._items.changes.pipe(Ze(this._items),pt(e=>new ii(r=>this._ngZone.runOutsideAngular(()=>{let t=new ResizeObserver(n=>r.next(n));return e.forEach(n=>t.observe(n.elementRef.nativeElement)),()=>{t.disconnect()}}))),vr(1),tt(e=>e.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Je(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let r=this._tabListContainer.nativeElement.offsetWidth,t=(e=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+t)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let r=this._items?this._items.toArray()[e]:null;if(!r)return;let t=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:s}=r.elementRef.nativeElement,u,h;this._getLayoutDirection()=="ltr"?(u=n,h=u+s):(h=this._tabListInner.nativeElement.offsetWidth-n,u=h-s);let m=this.scrollDistance,g=this.scrollDistance+t;u<m?this.scrollDistance-=m-u:h>g&&(this.scrollDistance+=Math.min(h-g,u-m))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,t=e-r>=5;t||(this.scrollDistance=0),t!==this._showPaginationControls&&(this._showPaginationControls=t,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return e-r||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=e?e.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),zs(jl,zl).pipe(le(nt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:t,distance:n}=this._scrollHeader(e);(n===0||n>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(je),T(zt),T(He,8),T(fe),T(Be),T(ot,8))},i.\u0275dir=Z({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",ye],selectedIndex:[2,"selectedIndex","selectedIndex",_t]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Oe]});let o=i;return o})(),Vl=(()=>{let i=class i extends Wl{constructor(e,r,t,n,s,u,h){super(e,r,t,n,s,u,h),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Wn(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(je),T(zt),T(He,8),T(fe),T(Be),T(ot,8))},i.\u0275cmp=K({type:i,selectors:[["mat-tab-header"]],contentQueries:function(r,t,n){if(r&1&&Fe(n,Bo,4),r&2){let s;ne(s=se())&&(t._items=s)}},viewQuery:function(r,t){if(r&1&&(Ae(yl,7),Ae(Cl,7),Ae(wl,7),Ae(Sl,5),Ae(xl,5)),r&2){let n;ne(n=se())&&(t._tabListContainer=n.first),ne(n=se())&&(t._tabList=n.first),ne(n=se())&&(t._tabListInner=n.first),ne(n=se())&&(t._nextPaginator=n.first),ne(n=se())&&(t._previousPaginator=n.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,t){r&2&&ge("mat-mdc-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-mdc-tab-header-rtl",t._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",ye]},standalone:!0,features:[Oe,ke,q],ngContentSelectors:Un,decls:13,vars:12,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(r,t){if(r&1){let n=qe();Ye(),O(0,"button",5,0),ie("click",function(){return Se(n),xe(t._handlePaginatorClick("before"))})("mousedown",function(u){return Se(n),xe(t._handlePaginatorPress("before",u))})("touchend",function(){return Se(n),xe(t._stopInterval())}),G(2,"div",6),P(),O(3,"div",7,1),ie("keydown",function(u){return Se(n),xe(t._handleKeydown(u))}),O(5,"div",8,2),ie("cdkObserveContent",function(){return Se(n),xe(t._onContentChanges())}),O(7,"div",9,3),we(9),P()()(),O(10,"button",10,4),ie("mousedown",function(u){return Se(n),xe(t._handlePaginatorPress("after",u))})("click",function(){return Se(n),xe(t._handlePaginatorClick("after"))})("touchend",function(){return Se(n),xe(t._stopInterval())}),G(12,"div",6),P()}r&2&&(ge("mat-mdc-tab-header-pagination-disabled",t._disableScrollBefore),te("matRippleDisabled",t._disableScrollBefore||t.disableRipple)("disabled",t._disableScrollBefore||null),H(3),ge("_mat-animation-noopable",t._animationMode==="NoopAnimations"),H(2),Ce("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null),H(5),ge("mat-mdc-tab-header-pagination-disabled",t._disableScrollAfter),te("matRippleDisabled",t._disableScrollAfter||t.disableRipple)("disabled",t._disableScrollAfter||null))},dependencies:[Xi,go],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let o=i;return o})(),Ul=new de("MAT_TABS_CONFIG"),$l={translateTab:si("translateTab",[Nt("center, void, left-origin-center, right-origin-center",lt({transform:"none",visibility:"visible"})),Nt("left",lt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Nt("right",lt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Pt("* => left, * => right, left => center, right => center",Lt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Pt("void => left-origin-center",[lt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Lt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Pt("void => right-origin-center",[lt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Lt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Kl=(()=>{let i=class i extends oi{constructor(e,r,t,n){super(e,r,n),this._host=t,this._centeringSub=it.EMPTY,this._leavingSub=it.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ze(this._host._isCenterPosition(this._host._position))).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)(T(ni),T(Ue),T(Us(()=>Ho)),T(ze))},i.\u0275dir=Z({type:i,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[ke]});let o=i;return o})(),Ho=(()=>{let i=class i{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,r,t){this._elementRef=e,this._dir=r,this._dirChangeSubscription=it.EMPTY,this._translateTabComplete=new oe,this._onCentering=new pe,this._beforeCentering=new pe,this._afterLeavingCenter=new pe,this._onCentered=new pe(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(n=>{this._computePositionAnimationState(n),t.markForCheck()})),this._translateTabComplete.pipe(ri((n,s)=>n.fromState===s.fromState&&n.toState===s.toState)).subscribe(n=>{this._isCenterPosition(n.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(n.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let r=this._isCenterPosition(e.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let r=this._getLayoutDirection();return r=="ltr"&&e<=0||r=="rtl"&&e>0?"left-origin-center":"right-origin-center"}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(He,8),T(je))},i.\u0275cmp=K({type:i,selectors:[["mat-tab-body"]],viewQuery:function(r,t){if(r&1&&Ae(oi,5),r&2){let n;ne(n=se())&&(t._portalHost=n.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[q],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,t){if(r&1){let n=qe();O(0,"div",1,0),ie("@translateTab.start",function(u){return Se(n),xe(t._onTranslateTabStarted(u))})("@translateTab.done",function(u){return Se(n),xe(t._translateTabComplete.next(u))}),re(2,Dl,0,0,"ng-template",2),P()}r&2&&te("@translateTab",ro(3,El,t._position,io(1,kl,t.animationDuration)))},dependencies:[Kl,Hn],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[$l.translateTab]}});let o=i;return o})(),ql=0,Yl=!0,No=(()=>{let i=class i{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let r=e+"";this._animationDuration=/^\d+$/.test(r)?e+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Yl)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&r.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,r,t,n){this._elementRef=e,this._changeDetectorRef=r,this._animationMode=n,this._tabs=new yr,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=it.EMPTY,this._tabLabelSubscription=it.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new pe,this.focusChange=new pe,this.animationDone=new pe,this.selectedTabChange=new pe(!0),this._isServer=!j(Be).isBrowser,this._groupId=ql++,this.animationDuration=t&&t.animationDuration?t.animationDuration:"500ms",this.disablePagination=t&&t.disablePagination!=null?t.disablePagination:!1,this.dynamicHeight=t&&t.dynamicHeight!=null?t.dynamicHeight:!1,t?.contentTabIndex!=null&&(this.contentTabIndex=t.contentTabIndex),this.preserveContent=!!t?.preserveContent,this.fitInkBarToContent=t&&t.fitInkBarToContent!=null?t.fitInkBarToContent:!1,this.stretchTabs=t&&t.stretchTabs!=null?t.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(e));let t=this._tabBodyWrapper.nativeElement;t.style.minHeight=t.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((t,n)=>t.isActive=n===e),r||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,t)=>{r.position=t-e,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let r=this._tabs.toArray(),t;for(let n=0;n<r.length;n++)if(r[n].isActive){this._indexToSelect=this._selectedIndex=n,this._lastFocusedTabIndex=null,t=r[n];break}!t&&r[e]&&Promise.resolve().then(()=>{r[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ze(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let r=this._tabHeader;r&&(r.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let r=new Vn;return r.index=e,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[e]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=nt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,r,t){r.focusIndex=t,e.disabled||(this.selectedIndex=t)}_getTabIndex(e){let r=this._lastFocusedTabIndex??this.selectedIndex;return e===r?0:-1}_tabFocusChanged(e,r){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=r)}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(je),T(Ul,8),T(ot,8))},i.\u0275cmp=K({type:i,selectors:[["mat-tab-group"]],contentQueries:function(r,t,n){if(r&1&&Fe(n,Kn,5),r&2){let s;ne(s=se())&&(t._allTabs=s)}},viewQuery:function(r,t){if(r&1&&(Ae(Rl,5),Ae(Ml,5)),r&2){let n;ne(n=se())&&(t._tabBodyWrapper=n.first),ne(n=se())&&(t._tabHeader=n.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(r,t){r&2&&(It("mat-"+(t.color||"primary")),Mt("--mat-tab-animation-duration",t.animationDuration),ge("mat-mdc-tab-group-dynamic-height",t.dynamicHeight)("mat-mdc-tab-group-inverted-header",t.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",t.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ye],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ye],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ye],selectedIndex:[2,"selectedIndex","selectedIndex",_t],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",_t],disablePagination:[2,"disablePagination","disablePagination",ye],disableRipple:[2,"disableRipple","disableRipple",ye],preserveContent:[2,"preserveContent","preserveContent",ye],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Ie([{provide:Fo,useExisting:i}]),Oe,q],ngContentSelectors:Un,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,t){if(r&1){let n=qe();Ye(),O(0,"mat-tab-header",3,0),ie("indexFocused",function(u){return Se(n),xe(t._focusChanged(u))})("selectFocusedIndex",function(u){return Se(n),xe(t.selectedIndex=u)}),Ui(2,Ol,8,17,"div",4,Mn),P(),re(4,Ll,1,0),O(5,"div",5,1),Ui(7,Pl,1,13,"mat-tab-body",6,Mn),P()}r&2&&(te("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),H(2),$i(t._tabs),H(2),Ee(t._isServer?4:-1),H(),ge("_mat-animation-noopable",t._animationMode==="NoopAnimations"),H(2),$i(t._tabs))},dependencies:[Vl,Bo,ko,Xi,oi,Ho],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let o=i;return o})(),Vn=class{};var jo=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,Pe]});let o=i;return o})();var zo=(()=>{let i=class i{constructor(){this.styleFlag=!1,this.appitems=[{label:"Item 1",icon:"keyboard_arrow_right",items:[{label:"Item 1.1",link:"/item-1-1",icon:"pan_tool"},{label:"Item 1.2",icon:"keyboard_arrow_right",items:[{label:"Item 1.2.1",link:"/item-1-2-1",icon:"perm_scan_wifi"},{label:"Item 1.2.2",icon:"keyboard_arrow_right",items:[{label:"Item 1.2.2.1",link:"item-1-2-2-1",icon:"room"}]}]}]},{label:"Item 2",icon:"keyboard_arrow_right",items:[{label:"Item 2.1",link:"/item-2-1",icon:"favorite"},{label:"Item 2.2",link:"/item-2-2",icon:"favorite_border"}]},{label:"Item 3",link:"/item-3",icon:"offline_pin"},{label:"Item 4",link:"/item-4",icon:"star_rate",hidden:!0}],this.menuHeader=[]}ngOnInit(){setInterval(()=>this.styleFlag=!this.styleFlag,2e3)}breadCrumbMain(){this.appitemsTravel=this.appitems,this.menuHeader=[]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-breadcomb"]],standalone:!0,features:[q],decls:4,vars:1,consts:[[3,"ngClass"]],template:function(r,t){r&1&&(G(0,"mat-divider"),O(1,"div",0),V(2," \u958B\u767A\u4E2D\u30D7\u30ED\u30C8\u30BF\u30A4\u30D7 CHIRIMEN Lite Dashboard \u30C7\u30E2\u4E2D "),P(),G(3,"mat-divider")),r&2&&(H(),te("ngClass",t.styleFlag?"onStyle":"offStyle"))},dependencies:[ut,Et,xr],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:32px;height:40px;margin-top:28px;margin-bottom:8px}.onStyle[_ngcontent-%COMP%]{color:red}.offStyle[_ngcontent-%COMP%]{color:green}"]});let o=i;return o})();var Xl=["mat-button",""],Ql=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Zl=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Jl=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var ec=["mat-icon-button",""],tc=["*"];var ic=new de("MAT_BUTTON_CONFIG");var rc=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Wo=(()=>{let i=class i{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,t,n){this._elementRef=e,this._platform=r,this._ngZone=t,this._animationMode=n,this._focusMonitor=j(jt),this._rippleLoader=j(Mo),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=j(ic,{optional:!0}),u=e.nativeElement,h=u.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(u,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:g}of rc)u.hasAttribute(m)&&h.add(...g)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};i.\u0275fac=function(r){Ys()},i.\u0275dir=Z({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ye],disabled:[2,"disabled","disabled",ye],ariaDisabled:[2,"aria-disabled","ariaDisabled",ye],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ye]},features:[Oe]});let o=i;return o})();var Vo=(()=>{let i=class i extends Wo{constructor(e,r,t,n){super(e,r,t,n)}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(Be),T(fe),T(ot,8))},i.\u0275cmp=K({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,t){r&2&&(Ce("disabled",t._getDisabledAttribute())("aria-disabled",t._getAriaDisabled()),It(t.color?"mat-"+t.color:""),ge("mat-mdc-button-disabled",t.disabled)("mat-mdc-button-disabled-interactive",t.disabledInteractive)("_mat-animation-noopable",t._animationMode==="NoopAnimations")("mat-unthemed",!t.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ke,q],attrs:Xl,ngContentSelectors:Zl,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,t){r&1&&(Ye(Ql),G(0,"span",0),we(1),O(2,"span",1),we(3,1),P(),we(4,2),G(5,"span",2)(6,"span",3)),r&2&&ge("mdc-button__ripple",!t._isFab)("mdc-fab__ripple",t._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let o=i;return o})();var Uo=(()=>{let i=class i extends Wo{constructor(e,r,t,n){super(e,r,t,n),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(Be),T(fe),T(ot,8))},i.\u0275cmp=K({type:i,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,t){r&2&&(Ce("disabled",t._getDisabledAttribute())("aria-disabled",t._getAriaDisabled()),It(t.color?"mat-"+t.color:""),ge("mat-mdc-button-disabled",t.disabled)("mat-mdc-button-disabled-interactive",t.disabledInteractive)("_mat-animation-noopable",t._animationMode==="NoopAnimations")("mat-unthemed",!t.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ke,q],attrs:ec,ngContentSelectors:tc,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,t){r&1&&(Ye(),G(0,"span",0),we(1),G(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Jl],encapsulation:2,changeDetection:0});let o=i;return o})();var jr=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,Pr,Pe]});let o=i;return o})();var Dt=(()=>{let i=class i{constructor(){this.color="",this.clickEvent=new pe}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-button"]],inputs:{label:"label",color:"color"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[q],decls:2,vars:2,consts:[["mat-raised-button","",3,"click","color"]],template:function(r,t){r&1&&(O(0,"button",0),ie("click",function(){return t.clickEvent.emit()}),V(1),P()),r&2&&(wr("color",t.color),H(),et(" ",t.label,`
`))},dependencies:[jr,Vo],encapsulation:2});let o=i;return o})();var Ko=Ar(),qn=class{constructor(i,C){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=C}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Ge(-this._previousScrollPosition.left),i.style.top=Ge(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,C=this._document.body,e=i.style,r=C.style,t=e.scrollBehavior||"",n=r.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),Ko&&(e.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ko&&(e.scrollBehavior=t,r.scrollBehavior=n)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let C=this._document.body,e=this._viewportRuler.getViewportSize();return C.scrollHeight>e.height||C.scrollWidth>e.width}};var Yn=class{constructor(i,C,e,r){this._scrollDispatcher=i,this._ngZone=C,this._viewportRuler=e,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(tt(C=>!C||!this._overlayRef.overlayElement.contains(C.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let C=this._viewportRuler.getViewportScrollPosition().top;Math.abs(C-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},zr=class{enable(){}disable(){}attach(){}};function Gn(o,i){return i.some(C=>{let e=o.bottom<C.top,r=o.top>C.bottom,t=o.right<C.left,n=o.left>C.right;return e||r||t||n})}function qo(o,i){return i.some(C=>{let e=o.top<C.top,r=o.bottom>C.bottom,t=o.left<C.left,n=o.right>C.right;return e||r||t||n})}var Xn=class{constructor(i,C,e,r){this._scrollDispatcher=i,this._viewportRuler=C,this._ngZone=e,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let C=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:r}=this._viewportRuler.getViewportSize();Gn(C,[{width:e,height:r,bottom:r,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},sc=(()=>{let i=class i{constructor(e,r,t,n){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=t,this.noop=()=>new zr,this.close=s=>new Yn(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new qn(this._viewportRuler,this._document),this.reposition=s=>new Xn(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=n}};i.\u0275fac=function(r){return new(r||i)(he(Di),he(zt),he(fe),he(ze))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Ft=class{constructor(i){if(this.scrollStrategy=new zr,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){let C=Object.keys(i);for(let e of C)i[e]!==void 0&&(this[e]=i[e])}}};var Qn=class{constructor(i,C){this.connectionPair=i,this.scrollableViewProperties=C}};var Jo=(()=>{let i=class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};i.\u0275fac=function(r){return new(r||i)(he(ze))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),oc=(()=>{let i=class i extends Jo{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=t=>{let n=this._attachedOverlays;for(let s=n.length-1;s>-1;s--)if(n[s]._keydownEvents.observers.length>0){let u=n[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};i.\u0275fac=function(r){return new(r||i)(he(ze),he(fe,8))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),ac=(()=>{let i=class i extends Jo{constructor(e,r,t){super(e),this._platform=r,this._ngZone=t,this._cursorStyleIsSet=!1,this._pointerDownListener=n=>{this._pointerDownEventTarget=bi(n)},this._clickListener=n=>{let s=bi(n),u=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let h=this._attachedOverlays.slice();for(let m=h.length-1;m>-1;m--){let g=h[m];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(Yo(g.overlayElement,s)||Yo(g.overlayElement,u))break;let y=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(n)):y.next(n)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}};i.\u0275fac=function(r){return new(r||i)(he(ze),he(Be),he(fe,8))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function Yo(o,i){let C=typeof ShadowRoot<"u"&&ShadowRoot,e=i;for(;e;){if(e===o)return!0;e=C&&e instanceof ShadowRoot?e.host:e.parentNode}return!1}var Wr=(()=>{let i=class i{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||On()){let t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let n=0;n<t.length;n++)t[n].remove()}let r=this._document.createElement("div");r.classList.add(e),On()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};i.\u0275fac=function(r){return new(r||i)(he(ze),he(Be))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),ci=class{constructor(i,C,e,r,t,n,s,u,h,m=!1,g){this._portalOutlet=i,this._host=C,this._pane=e,this._config=r,this._ngZone=t,this._keyboardDispatcher=n,this._document=s,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=m,this._injector=g,this._backdropElement=null,this._backdropClick=new oe,this._attachments=new oe,this._detachments=new oe,this._locationChanges=it.EMPTY,this._backdropClickHandler=y=>this._backdropClick.next(y),this._backdropTransitionendHandler=y=>{this._disposeBackdrop(y.target)},this._keydownEvents=new oe,this._outsidePointerEvents=new oe,this._renders=new oe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=no(()=>Cr(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let C=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),bt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof C?.onDestroy=="function"&&C.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),C}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=ve(ve({},this._config),i),this._updateElementSize()}setDirection(i){this._config=dt(ve({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=Ge(this._config.width),i.height=Ge(this._config.height),i.minWidth=Ge(this._config.minWidth),i.minHeight=Ge(this._config.minHeight),i.maxWidth=Ge(this._config.maxWidth),i.maxHeight=Ge(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(i){if(this._animationsDisabled){this._disposeBackdrop(i);return}i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,C,e){let r=Tn(C||[]).filter(t=>!!t);r.length&&(e?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(le(nt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Go="cdk-overlay-connected-position-bounding-box",lc=/([A-Za-z%]+)$/,Zn=class{get positions(){return this._preferredPositions}constructor(i,C,e,r,t){this._viewportRuler=C,this._document=e,this._platform=r,this._overlayContainer=t,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new oe,this._resizeSubscription=it.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(Go),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,C=this._overlayRect,e=this._viewportRect,r=this._containerRect,t=[],n;for(let s of this._preferredPositions){let u=this._getOriginPoint(i,r,s),h=this._getOverlayPoint(u,C,s),m=this._getOverlayFit(h,C,e,s);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,u);return}if(this._canFitWithFlexibleDimensions(m,h,e)){t.push({position:s,origin:u,overlayRect:C,boundingBoxRect:this._calculateBoundingBoxRect(u,s)});continue}(!n||n.overlayFit.visibleArea<m.visibleArea)&&(n={overlayFit:m,overlayPoint:h,originPoint:u,position:s,overlayRect:C})}if(t.length){let s=null,u=-1;for(let h of t){let m=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);m>u&&(u=m,s=h)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(n.position,n.originPoint);return}this._applyPosition(n.position,n.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&li(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Go),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let C=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,C)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,C,e){let r;if(e.originX=="center")r=i.left+i.width/2;else{let n=this._isRtl()?i.right:i.left,s=this._isRtl()?i.left:i.right;r=e.originX=="start"?n:s}C.left<0&&(r-=C.left);let t;return e.originY=="center"?t=i.top+i.height/2:t=e.originY=="top"?i.top:i.bottom,C.top<0&&(t-=C.top),{x:r,y:t}}_getOverlayPoint(i,C,e){let r;e.overlayX=="center"?r=-C.width/2:e.overlayX==="start"?r=this._isRtl()?-C.width:0:r=this._isRtl()?0:-C.width;let t;return e.overlayY=="center"?t=-C.height/2:t=e.overlayY=="top"?0:-C.height,{x:i.x+r,y:i.y+t}}_getOverlayFit(i,C,e,r){let t=Qo(C),{x:n,y:s}=i,u=this._getOffset(r,"x"),h=this._getOffset(r,"y");u&&(n+=u),h&&(s+=h);let m=0-n,g=n+t.width-e.width,y=0-s,f=s+t.height-e.height,l=this._subtractOverflows(t.width,m,g),d=this._subtractOverflows(t.height,y,f),a=l*d;return{visibleArea:a,isCompletelyWithinViewport:t.width*t.height===a,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:l==t.width}}_canFitWithFlexibleDimensions(i,C,e){if(this._hasFlexibleDimensions){let r=e.bottom-C.y,t=e.right-C.x,n=Xo(this._overlayRef.getConfig().minHeight),s=Xo(this._overlayRef.getConfig().minWidth),u=i.fitsInViewportVertically||n!=null&&n<=r,h=i.fitsInViewportHorizontally||s!=null&&s<=t;return u&&h}return!1}_pushOverlayOnScreen(i,C,e){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let r=Qo(C),t=this._viewportRect,n=Math.max(i.x+r.width-t.width,0),s=Math.max(i.y+r.height-t.height,0),u=Math.max(t.top-e.top-i.y,0),h=Math.max(t.left-e.left-i.x,0),m=0,g=0;return r.width<=t.width?m=h||-n:m=i.x<this._viewportMargin?t.left-e.left-i.x:0,r.height<=t.height?g=u||-s:g=i.y<this._viewportMargin?t.top-e.top-i.y:0,this._previousPushAmount={x:m,y:g},{x:i.x+m,y:i.y+g}}_applyPosition(i,C){if(this._setTransformOrigin(i),this._setOverlayElementStyles(C,i),this._setBoundingBoxStyles(C,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!cc(this._lastScrollVisibility,e)){let r=new Qn(i,e);this._positionChanges.next(r)}this._lastScrollVisibility=e}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let C=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,r=i.overlayY;i.overlayX==="center"?e="center":this._isRtl()?e=i.overlayX==="start"?"right":"left":e=i.overlayX==="start"?"left":"right";for(let t=0;t<C.length;t++)C[t].style.transformOrigin=`${e} ${r}`}_calculateBoundingBoxRect(i,C){let e=this._viewportRect,r=this._isRtl(),t,n,s;if(C.overlayY==="top")n=i.y,t=e.height-n+this._viewportMargin;else if(C.overlayY==="bottom")s=e.height-i.y+this._viewportMargin*2,t=e.height-s+this._viewportMargin;else{let f=Math.min(e.bottom-i.y+e.top,i.y),l=this._lastBoundingBoxSize.height;t=f*2,n=i.y-f,t>l&&!this._isInitialRender&&!this._growAfterOpen&&(n=i.y-l/2)}let u=C.overlayX==="start"&&!r||C.overlayX==="end"&&r,h=C.overlayX==="end"&&!r||C.overlayX==="start"&&r,m,g,y;if(h)y=e.width-i.x+this._viewportMargin*2,m=i.x-this._viewportMargin;else if(u)g=i.x,m=e.right-i.x;else{let f=Math.min(e.right-i.x+e.left,i.x),l=this._lastBoundingBoxSize.width;m=f*2,g=i.x-f,m>l&&!this._isInitialRender&&!this._growAfterOpen&&(g=i.x-l/2)}return{top:n,left:g,bottom:s,right:y,width:m,height:t}}_setBoundingBoxStyles(i,C){let e=this._calculateBoundingBoxRect(i,C);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let t=this._overlayRef.getConfig().maxHeight,n=this._overlayRef.getConfig().maxWidth;r.height=Ge(e.height),r.top=Ge(e.top),r.bottom=Ge(e.bottom),r.width=Ge(e.width),r.left=Ge(e.left),r.right=Ge(e.right),C.overlayX==="center"?r.alignItems="center":r.alignItems=C.overlayX==="end"?"flex-end":"flex-start",C.overlayY==="center"?r.justifyContent="center":r.justifyContent=C.overlayY==="bottom"?"flex-end":"flex-start",t&&(r.maxHeight=Ge(t)),n&&(r.maxWidth=Ge(n))}this._lastBoundingBoxSize=e,li(this._boundingBox.style,r)}_resetBoundingBoxStyles(){li(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){li(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,C){let e={},r=this._hasExactPosition(),t=this._hasFlexibleDimensions,n=this._overlayRef.getConfig();if(r){let m=this._viewportRuler.getViewportScrollPosition();li(e,this._getExactOverlayY(C,i,m)),li(e,this._getExactOverlayX(C,i,m))}else e.position="static";let s="",u=this._getOffset(C,"x"),h=this._getOffset(C,"y");u&&(s+=`translateX(${u}px) `),h&&(s+=`translateY(${h}px)`),e.transform=s.trim(),n.maxHeight&&(r?e.maxHeight=Ge(n.maxHeight):t&&(e.maxHeight="")),n.maxWidth&&(r?e.maxWidth=Ge(n.maxWidth):t&&(e.maxWidth="")),li(this._pane.style,e)}_getExactOverlayY(i,C,e){let r={top:"",bottom:""},t=this._getOverlayPoint(C,this._overlayRect,i);if(this._isPushed&&(t=this._pushOverlayOnScreen(t,this._overlayRect,e)),i.overlayY==="bottom"){let n=this._document.documentElement.clientHeight;r.bottom=`${n-(t.y+this._overlayRect.height)}px`}else r.top=Ge(t.y);return r}_getExactOverlayX(i,C,e){let r={left:"",right:""},t=this._getOverlayPoint(C,this._overlayRect,i);this._isPushed&&(t=this._pushOverlayOnScreen(t,this._overlayRect,e));let n;if(this._isRtl()?n=i.overlayX==="end"?"left":"right":n=i.overlayX==="end"?"right":"left",n==="right"){let s=this._document.documentElement.clientWidth;r.right=`${s-(t.x+this._overlayRect.width)}px`}else r.left=Ge(t.x);return r}_getScrollVisibility(){let i=this._getOriginRect(),C=this._pane.getBoundingClientRect(),e=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qo(i,e),isOriginOutsideView:Gn(i,e),isOverlayClipped:qo(C,e),isOverlayOutsideView:Gn(C,e)}}_subtractOverflows(i,...C){return C.reduce((e,r)=>e-Math.max(r,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,C=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+i-this._viewportMargin,bottom:e.top+C-this._viewportMargin,width:i-2*this._viewportMargin,height:C-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,C){return C==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Tn(i).forEach(C=>{C!==""&&this._appliedPanelClasses.indexOf(C)===-1&&(this._appliedPanelClasses.push(C),this._pane.classList.add(C))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof ae)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let C=i.width||0,e=i.height||0;return{top:i.y,bottom:i.y+e,left:i.x,right:i.x+C,height:e,width:C}}};function li(o,i){for(let C in i)i.hasOwnProperty(C)&&(o[C]=i[C]);return o}function Xo(o){if(typeof o!="number"&&o!=null){let[i,C]=o.split(lc);return!C||C==="px"?parseFloat(i):null}return o||null}function Qo(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}function cc(o,i){return o===i?!0:o.isOriginClipped===i.isOriginClipped&&o.isOriginOutsideView===i.isOriginOutsideView&&o.isOverlayClipped===i.isOverlayClipped&&o.isOverlayOutsideView===i.isOverlayOutsideView}var es=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],ea=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Zo="cdk-global-overlay-wrapper",Jn=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){let C=i.getConfig();this._overlayRef=i,this._width&&!C.width&&i.updateSize({width:this._width}),this._height&&!C.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(Zo),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,C=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:r,height:t,maxWidth:n,maxHeight:s}=e,u=(r==="100%"||r==="100vw")&&(!n||n==="100%"||n==="100vw"),h=(t==="100%"||t==="100vh")&&(!s||s==="100%"||s==="100vh"),m=this._xPosition,g=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",f="",l="",d="";u?d="flex-start":m==="center"?(d="center",y?l=g:f=g):y?m==="left"||m==="end"?(d="flex-end",f=g):(m==="right"||m==="start")&&(d="flex-start",l=g):m==="left"||m==="start"?(d="flex-start",f=g):(m==="right"||m==="end")&&(d="flex-end",l=g),i.position=this._cssPosition,i.marginLeft=u?"0":f,i.marginTop=h?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=u?"0":l,C.justifyContent=d,C.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,C=this._overlayRef.hostElement,e=C.style;C.classList.remove(Zo),e.justifyContent=e.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},dc=(()=>{let i=class i{constructor(e,r,t,n){this._viewportRuler=e,this._document=r,this._platform=t,this._overlayContainer=n}global(){return new Jn}flexibleConnectedTo(e){return new Zn(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};i.\u0275fac=function(r){return new(r||i)(he(zt),he(ze),he(Be),he(Wr))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),hc=0,Xe=(()=>{let i=class i{constructor(e,r,t,n,s,u,h,m,g,y,f,l){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=t,this._positionBuilder=n,this._keyboardDispatcher=s,this._injector=u,this._ngZone=h,this._document=m,this._directionality=g,this._location=y,this._outsideClickDispatcher=f,this._animationsModuleType=l}create(e){let r=this._createHostElement(),t=this._createPaneElement(r),n=this._createPortalOutlet(t),s=new Ft(e);return s.direction=s.direction||this._directionality.value,new ci(n,r,t,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get($s))}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${hc++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(In)),new Ji(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};i.\u0275fac=function(r){return new(r||i)(he(sc),he(Wr),he(ni),he(dc),he(oc),he(We),he(fe),he(ze),he(He),he(so),he(ac),he(ot,8))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var uc=new de("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let o=j(Xe);return()=>o.scrollStrategies.reposition()}});function mc(o){return()=>o.scrollStrategies.reposition()}var fc={provide:uc,deps:[Xe],useFactory:mc},Ri=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({providers:[Xe,fc],imports:[Gi,Fn,tr,tr]});let o=i;return o})();var pc=["mat-menu-item",""],_c=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],gc=["mat-icon, [matMenuItemIcon]","*"];function vc(o,i){o&1&&(Vi(),O(0,"svg",2),G(1,"polygon",3),P())}var bc=["*"];function yc(o,i){if(o&1){let C=qe();O(0,"div",0),ie("keydown",function(r){Se(C);let t=be();return xe(t._handleKeydown(r))})("click",function(){Se(C);let r=be();return xe(r.closed.emit("click"))})("@transformMenu.start",function(r){Se(C);let t=be();return xe(t._onAnimationStart(r))})("@transformMenu.done",function(r){Se(C);let t=be();return xe(t._onAnimationDone(r))}),O(1,"div",1),we(2),P()()}if(o&2){let C=be();It(C._classList),te("id",C.panelId)("@transformMenu",C._panelAnimationState),Ce("aria-label",C.ariaLabel||null)("aria-labelledby",C.ariaLabelledby||null)("aria-describedby",C.ariaDescribedby||null)}}var rs=new de("MAT_MENU_PANEL"),Wt=(()=>{let i=class i{constructor(e,r,t,n,s){this._elementRef=e,this._document=r,this._focusMonitor=t,this._parentMenu=n,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new oe,this._focused=new oe,this._highlighted=!1,this._triggersSubmenu=!1,n?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let t=0;t<r.length;t++)r[t].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(ze),T(jt),T(rs,8),T(je))},i.\u0275cmp=K({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,t){r&1&&ie("click",function(s){return t._checkDisabled(s)})("mouseenter",function(){return t._handleMouseEnter()}),r&2&&(Ce("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled)("disabled",t.disabled||null),ge("mat-mdc-menu-item-highlighted",t._highlighted)("mat-mdc-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ye],disableRipple:[2,"disableRipple","disableRipple",ye]},exportAs:["matMenuItem"],standalone:!0,features:[Oe,q],attrs:pc,ngContentSelectors:gc,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,t){r&1&&(Ye(_c),we(0),O(1,"span",0),we(2,1),P(),G(3,"div",1),re(4,vc,2,0,":svg:svg",2)),r&2&&(H(3),te("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()),H(),Ee(t._triggersSubmenu?4:-1))},dependencies:[Xi],encapsulation:2,changeDetection:0});let o=i;return o})();var Cc=new de("MatMenuContent");var Vr={transformMenu:si("transformMenu",[Nt("void",lt({opacity:0,transform:"scale(0.8)"})),Pt("void => enter",Lt("120ms cubic-bezier(0, 0, 0.2, 1)",lt({opacity:1,transform:"scale(1)"}))),Pt("* => void",Lt("100ms 25ms linear",lt({opacity:0})))]),fadeInItems:si("fadeInItems",[Nt("showing",lt({opacity:1})),Pt("void => *",[lt({opacity:0}),Lt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},df=Vr.fadeInItems,hf=Vr.transformMenu,wc=0,Sc=new de("mat-menu-default-options",{providedIn:"root",factory:xc});function xc(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var Mi=(()=>{let i=class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let r=this._previousPanelClass,t=ve({},this._classList);r&&r.length&&r.split(" ").forEach(n=>{t[n]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(n=>{t[n]=!0}),this._elementRef.nativeElement.className=""),this._classList=t}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,t,n){this._elementRef=e,this._changeDetectorRef=n,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new yr,this._classList={},this._panelAnimationState="void",this._animationDone=new oe,this.closed=new pe,this.close=this.closed,this.panelId=`mat-menu-panel-${wc++}`,this._injector=j(We),this.overlayPanelClass=t.overlayPanelClass||"",this._xPosition=t.xPosition,this._yPosition=t.yPosition,this.backdropClass=t.backdropClass,this.overlapTrigger=t.overlapTrigger,this.hasBackdrop=t.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yi(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ze(this._directDescendantItems),pt(e=>nt(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let t=e.toArray(),n=Math.max(0,Math.min(t.length-1,r.activeItemIndex||0));t[n]&&!t[n].disabled?r.setActiveItem(n):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Ze(this._directDescendantItems),pt(r=>nt(...r.map(t=>t._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let r=e.keyCode,t=this._keyManager;switch(r){case 27:Je(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&t.setFocusOrigin("keyboard"),t.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=bt(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let t=this._keyManager;t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let u=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(u)}let r=Math.min(this._baseElevation+e,24),t=`${this._elevationPrefix}${r}`,n=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!n||n===this._previousElevation){let s=ve({},this._classList);this._previousElevation&&(s[this._previousElevation]=!1),s[t]=!0,this._previousElevation=t,this._classList=s}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList=dt(ve({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ze(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(fe),T(Sc),T(je))},i.\u0275cmp=K({type:i,selectors:[["mat-menu"]],contentQueries:function(r,t,n){if(r&1&&(Fe(n,Cc,5),Fe(n,Wt,5),Fe(n,Wt,4)),r&2){let s;ne(s=se())&&(t.lazyContent=s.first),ne(s=se())&&(t._allItems=s),ne(s=se())&&(t.items=s)}},viewQuery:function(r,t){if(r&1&&Ae(Ne,5),r&2){let n;ne(n=se())&&(t.templateRef=n.first)}},hostVars:3,hostBindings:function(r,t){r&2&&Ce("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ye],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:ye(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[Ie([{provide:rs,useExisting:i}]),Oe,q],ngContentSelectors:bc,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,t){r&1&&(Ye(),re(0,yc,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Vr.transformMenu,Vr.fadeInItems]},changeDetection:0});let o=i;return o})(),ra=new de("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=j(Xe);return()=>o.scrollStrategies.reposition()}});function kc(o){return()=>o.scrollStrategies.reposition()}var Ec={provide:ra,deps:[Xe],useFactory:kc},ta=Xt({passive:!0});var na=(()=>{let i=class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,t,n,s,u,h,m,g){this._overlay=e,this._element=r,this._viewContainerRef=t,this._menuItemInstance=u,this._dir=h,this._focusMonitor=m,this._ngZone=g,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=it.EMPTY,this._hoverSubscription=it.EMPTY,this._menuCloseSubscription=it.EMPTY,this._changeDetectorRef=j(je),this._handleTouchStart=y=>{xo(y)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=n,this._parentMaterialMenu=s instanceof Mi?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,ta)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ta),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let r=this._createOverlay(e),t=r.getConfig(),n=t.positionStrategy;this._setPosition(e,n),t.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Mi&&(e._startAnimation(),e._directDescendantItems.changes.pipe(le(e.close)).subscribe(()=>{n.withLockedPosition(!1).reapplyLastPosition(),n.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Mi?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(tt(t=>t.toState==="void"),Kt(1),le(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,t=e.parentMenu;for(;t;)r++,t=t.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Ft({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(t=>{let n=t.connectionPair.overlayX==="start"?"after":"before",s=t.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(n,s)):e.setPositionClasses(n,s)})}_setPosition(e,r){let[t,n]=e.xPosition==="before"?["end","start"]:["start","end"],[s,u]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[h,m]=[s,u],[g,y]=[t,n],f=0;if(this.triggersSubmenu()){if(y=t=e.xPosition==="before"?"start":"end",n=g=t==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let l=this._parentMaterialMenu.items.first;this._parentInnerPadding=l?l._getHostElement().offsetTop:0}f=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(h=s==="top"?"bottom":"top",m=u==="top"?"bottom":"top");r.withPositions([{originX:t,originY:h,overlayX:g,overlayY:s,offsetY:f},{originX:n,originY:h,overlayX:y,overlayY:s,offsetY:f},{originX:t,originY:m,overlayX:g,overlayY:u,offsetY:-f},{originX:n,originY:m,overlayX:y,overlayY:u,offsetY:-f}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),t=this._parentMaterialMenu?this._parentMaterialMenu.closed:De(),n=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tt(s=>s!==this._menuItemInstance),tt(()=>this._menuOpen)):De();return nt(e,t,n,r)}_handleMousedown(e){So(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let r=e.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(tt(e=>e===this._menuItemInstance&&!e.disabled),pi(0,ur)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Mi&&this.menu._isAnimating?this.menu._animationDone.pipe(Kt(1),pi(0,ur),le(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new gt(e.templateRef,this._viewContainerRef)),this._portal}};i.\u0275fac=function(r){return new(r||i)(T(Xe),T(ae),T(Ue),T(ra),T(rs,8),T(Wt,10),T(He,8),T(jt),T(fe))},i.\u0275dir=Z({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,t){r&1&&ie("click",function(s){return t._handleClick(s)})("mousedown",function(s){return t._handleMousedown(s)})("keydown",function(s){return t._handleKeydown(s)}),r&2&&Ce("aria-haspopup",t.menu?"menu":null)("aria-expanded",t.menuOpen)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let o=i;return o})(),Ai=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({providers:[Ec],imports:[wt,Pr,Pe,Ri,Ei,Pe]});let o=i;return o})();var sa=(()=>{let i=class i{constructor(){this.eventWiFiSetting=new pe,this.eventCreateFile=new pe,this.eventGetExample=new pe,this.eventSetupChirimen=new pe,this.eventI2CDetect=new pe,this.eventFileUpload=new pe}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-console-tool-bar"]],outputs:{eventWiFiSetting:"eventWiFiSetting",eventCreateFile:"eventCreateFile",eventGetExample:"eventGetExample",eventSetupChirimen:"eventSetupChirimen",eventI2CDetect:"eventI2CDetect",eventFileUpload:"eventFileUpload"},standalone:!0,features:[q],decls:32,vars:0,consts:[[1,"tool-bar"],["mat-menu-item","",3,"click"]],template:function(r,t){r&1&&(O(0,"div",0)(1,"button",1),ie("click",function(){return t.eventWiFiSetting.emit()}),O(2,"mat-icon"),V(3,"signal_wifi_off"),P(),O(4,"span"),V(5,"wifi-setting"),P()(),O(6,"button",1),ie("click",function(){return t.eventGetExample.emit()}),O(7,"mat-icon"),V(8,"javascript"),P(),O(9,"span"),V(10,"Get Example"),P()(),O(11,"button",1),ie("click",function(){return t.eventSetupChirimen.emit()}),O(12,"mat-icon"),V(13,"settings"),P(),O(14,"span"),V(15,"Setup CHIRIMEN"),P()(),O(16,"button",1),ie("click",function(){return t.eventI2CDetect.emit()}),O(17,"mat-icon"),V(18,"lan"),P(),O(19,"span"),V(20,"I2C Detect"),P()(),O(21,"button",1),ie("click",function(){return t.eventCreateFile.emit()}),O(22,"mat-icon"),V(23,"create"),P(),O(24,"span"),V(25,"create new file"),P()(),O(26,"button",1),ie("click",function(){return t.eventFileUpload.emit()}),O(27,"mat-icon"),V(28,"upload"),P(),O(29,"span"),V(30,"File Upload"),P()()(),G(31,"mat-divider"))},dependencies:[ut,Et,kt,xt,Ai,Wt],styles:[".tool-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;align-items:center}"]});let o=i;return o})();var oa=(()=>{let i=class i{constructor(){this.eventSaveFile=new pe,this.eventFormatFile=new pe}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-editor-tool-bar"]],outputs:{eventSaveFile:"eventSaveFile",eventFormatFile:"eventFormatFile"},standalone:!0,features:[q],decls:12,vars:0,consts:[[1,"editor-bar"],["mat-menu-item","",3,"click"]],template:function(r,t){r&1&&(O(0,"div",0)(1,"button",1),ie("click",function(){return t.eventSaveFile.emit()}),O(2,"mat-icon"),V(3,"save_alt"),P(),O(4,"span"),V(5,"save file"),P()(),O(6,"button",1),ie("click",function(){return t.eventFormatFile.emit()}),O(7,"mat-icon"),V(8,"segment"),P(),O(9,"span"),V(10,"JavaScript Format"),P()()(),G(11,"mat-divider"))},dependencies:[ut,Et,kt,xt,Ai,Wt],styles:[".editor-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;align-items:center}"]});let o=i;return o})();var Rc=[[["caption"]],[["colgroup"],["col"]],"*"],Mc=["caption","colgroup, col","*"];function Ic(o,i){o&1&&we(0,2)}function Tc(o,i){o&1&&(O(0,"thead",0),Qe(1,1),P(),O(2,"tbody",0),Qe(3,2)(4,3),P(),O(5,"tfoot",0),Qe(6,4),P())}function Ac(o,i){o&1&&Qe(0,1)(1,2)(2,3)(3,4)}var Tt=new de("CDK_TABLE");var Xr=(()=>{let i=class i{constructor(e){this.template=e}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["","cdkCellDef",""]],standalone:!0});let o=i;return o})(),Qr=(()=>{let i=class i{constructor(e){this.template=e}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let o=i;return o})(),ca=(()=>{let i=class i{constructor(e){this.template=e}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let o=i;return o})(),Oi=(()=>{let i=class i{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};i.\u0275fac=function(r){return new(r||i)(T(Tt,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,t,n){if(r&1&&(Fe(n,Xr,5),Fe(n,Qr,5),Fe(n,ca,5)),r&2){let s;ne(s=se())&&(t.cell=s.first),ne(s=se())&&(t.headerCell=s.first),ne(s=se())&&(t.footerCell=s.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ye],stickyEnd:[2,"stickyEnd","stickyEnd",ye]},standalone:!0,features:[Ie([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Oe]});let o=i;return o})(),Kr=class{constructor(i,C){C.nativeElement.classList.add(...i._columnCssClassName)}},da=(()=>{let i=class i extends Kr{constructor(e,r){super(e,r)}};i.\u0275fac=function(r){return new(r||i)(T(Oi),T(ae))},i.\u0275dir=Z({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[ke]});let o=i;return o})();var ha=(()=>{let i=class i extends Kr{constructor(e,r){super(e,r);let t=e._table?._getCellRole();t&&r.nativeElement.setAttribute("role",t)}};i.\u0275fac=function(r){return new(r||i)(T(Oi),T(ae))},i.\u0275dir=Z({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[ke]});let o=i;return o})(),qr=class{constructor(){this.tasks=[],this.endTasks=[]}},Yr=new de("_COALESCED_STYLE_SCHEDULER"),os=(()=>{let i=class i{constructor(e){this._currentSchedule=null,this._ngZone=j(fe)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new qr,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new qr;for(let r of e.tasks)r();for(let r of e.endTasks)r()}this._currentSchedule=null})))}};i.\u0275fac=function(r){return new(r||i)(he(fe))},i.\u0275prov=Le({token:i,factory:i.\u0275fac});let o=i;return o})();var as=(()=>{let i=class i{constructor(e,r){this.template=e,this._differs=r}ngOnChanges(e){if(!this._columnsDiffer){let r=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof rr?e.headerCell.template:this instanceof ls?e.footerCell.template:e.cell.template}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ht))},i.\u0275dir=Z({type:i,features:[Ot]});let o=i;return o})(),rr=(()=>{let i=class i extends as{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,r,t){super(e,r),this._table=t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ht),T(Tt,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ye]},standalone:!0,features:[Oe,ke,Ot]});let o=i;return o})(),ls=(()=>{let i=class i extends as{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,r,t){super(e,r),this._table=t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ht),T(Tt,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ye]},standalone:!0,features:[Oe,ke,Ot]});let o=i;return o})(),Zr=(()=>{let i=class i extends as{constructor(e,r,t){super(e,r),this._table=t}};i.\u0275fac=function(r){return new(r||i)(T(Ne),T(Ht),T(Tt,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[ke]});let o=i;return o})(),hi=(()=>{let i=class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}};i.mostRecentCellOutlet=null,i.\u0275fac=function(r){return new(r||i)(T(Ue))},i.\u0275dir=Z({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0});let o=i;return o})(),cs=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,t){r&1&&Qe(0,0)},dependencies:[hi],encapsulation:2});let o=i;return o})();var ds=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,t){r&1&&Qe(0,0)},dependencies:[hi],encapsulation:2});let o=i;return o})(),ua=(()=>{let i=class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let o=i;return o})(),aa=["top","bottom","left","right"],ss=class{constructor(i,C,e,r,t=!0,n=!0,s){this._isNativeHtmlTable=i,this._stickCellCss=C,this.direction=e,this._coalescedStyleScheduler=r,this._isBrowser=t,this._needsPositionStickyOnElement=n,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:`${C}-border-elem-top`,bottom:`${C}-border-elem-bottom`,left:`${C}-border-elem-left`,right:`${C}-border-elem-right`}}clearStickyPositioning(i,C){let e=[];for(let r of i)if(r.nodeType===r.ELEMENT_NODE){e.push(r);for(let t=0;t<r.children.length;t++)e.push(r.children[t])}this._coalescedStyleScheduler.schedule(()=>{for(let r of e)this._removeStickyStyle(r,C)})}updateStickyColumns(i,C,e,r=!0){if(!i.length||!this._isBrowser||!(C.some(t=>t)||e.some(t=>t))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let t=i[0],n=t.children.length,s=this._getCellWidths(t,r),u=this._getStickyStartColumnPositions(s,C),h=this._getStickyEndColumnPositions(s,e),m=C.lastIndexOf(!0),g=e.indexOf(!0),y=this.direction==="rtl",f=y?"right":"left",l=y?"left":"right";for(let d of i)for(let a=0;a<n;a++){let c=d.children[a];C[a]&&this._addStickyStyle(c,f,u[a],a===m),e[a]&&this._addStickyStyle(c,l,h[a],a===g)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:m===-1?[]:s.slice(0,m+1).map((d,a)=>C[a]?d:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:g===-1?[]:s.slice(g).map((d,a)=>e[a+g]?d:null).reverse()}))})}stickRows(i,C,e){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=e==="bottom"?i.slice().reverse():i,t=e==="bottom"?C.slice().reverse():C,n=[],s=[],u=[];for(let m=0,g=0;m<r.length;m++){if(!t[m])continue;n[m]=g;let y=r[m];u[m]=this._isNativeHtmlTable?Array.from(y.children):[y];let f=y.getBoundingClientRect().height;g+=f,s[m]=f}let h=t.lastIndexOf(!0);for(let m=0;m<r.length;m++){if(!t[m])continue;let g=n[m],y=m===h;for(let f of u[m])this._addStickyStyle(f,e,g,y)}e==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:n,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:n,elements:u})})}updateStickyFooterContainer(i,C){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let e=i.querySelector("tfoot");e&&(C.some(r=>!r)?this._removeStickyStyle(e,["bottom"]):this._addStickyStyle(e,"bottom",0,!1))})}_removeStickyStyle(i,C){for(let r of C)i.style[r]="",i.classList.remove(this._borderCellCss[r]);aa.some(r=>C.indexOf(r)===-1&&i.style[r])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,C,e,r){i.classList.add(this._stickCellCss),r&&i.classList.add(this._borderCellCss[C]),i.style[C]=`${e}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let C={top:100,bottom:10,left:1,right:1},e=0;for(let r of aa)i.style[r]&&(e+=C[r]);return e?`${e}`:""}_getCellWidths(i,C=!0){if(!C&&this._cachedCellWidths.length)return this._cachedCellWidths;let e=[],r=i.children;for(let t=0;t<r.length;t++){let n=r[t];e.push(n.getBoundingClientRect().width)}return this._cachedCellWidths=e,e}_getStickyStartColumnPositions(i,C){let e=[],r=0;for(let t=0;t<i.length;t++)C[t]&&(e[t]=r,r+=i[t]);return e}_getStickyEndColumnPositions(i,C){let e=[],r=0;for(let t=i.length;t>0;t--)C[t]&&(e[t]=r,r+=i[t]);return e}};var Gr=new de("CDK_SPL");var hs=(()=>{let i=class i{constructor(e,r){this.viewContainer=e,this.elementRef=r;let t=j(Tt);t._rowOutlet=this,t._outletAssigned()}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(ae))},i.\u0275dir=Z({type:i,selectors:[["","rowOutlet",""]],standalone:!0});let o=i;return o})(),us=(()=>{let i=class i{constructor(e,r){this.viewContainer=e,this.elementRef=r;let t=j(Tt);t._headerRowOutlet=this,t._outletAssigned()}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(ae))},i.\u0275dir=Z({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0});let o=i;return o})(),ms=(()=>{let i=class i{constructor(e,r){this.viewContainer=e,this.elementRef=r;let t=j(Tt);t._footerRowOutlet=this,t._outletAssigned()}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(ae))},i.\u0275dir=Z({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0});let o=i;return o})(),fs=(()=>{let i=class i{constructor(e,r){this.viewContainer=e,this.elementRef=r;let t=j(Tt);t._noDataRowOutlet=this,t._outletAssigned()}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(ae))},i.\u0275dir=Z({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0});let o=i;return o})();var ps=(()=>{let i=class i{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role"),r=e==="grid"||e==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&r==="cell"?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,r,t,n,s,u,h,m,g,y,f,l){this._differs=e,this._changeDetectorRef=r,this._elementRef=t,this._dir=s,this._platform=h,this._viewRepeater=m,this._coalescedStyleScheduler=g,this._viewportRuler=y,this._stickyPositioningListener=f,this._onDestroy=new oe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new pe,this.viewChange=new mt({start:0,end:Number.MAX_VALUE}),this._injector=j(We),n||t.nativeElement.setAttribute("role","table"),this._document=u,this._isServer=!h.isBrowser,this._isNativeHtmlTable=t.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(le(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ki(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,r,(t,n,s)=>this._getEmbeddedViewArgs(t.item,s),t=>t.item.data,t=>{t.operation===Si.INSERTED&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(t=>{let n=r.get(t.currentIndex);n.context.$implicit=t.item.data}),this._updateNoDataRow(),bt(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let t=la(this._headerRowOutlet,"thead");t&&(t.style.display=e.length?"":"none")}let r=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let t=la(this._footerRowOutlet,"tfoot");t&&(t.style.display=e.length?"":"none")}let r=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),t=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...r,...t],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((n,s)=>{this._addStickyColumnStyles([n],this._headerRowDefs[s])}),this._rowDefs.forEach(n=>{let s=[];for(let u=0;u<r.length;u++)this._renderRows[u].rowDef===n&&s.push(r[u]);this._addStickyColumnStyles(s,n)}),t.forEach((n,s)=>{this._addStickyColumnStyles([n],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(n=>n.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let t=0;t<this._data.length;t++){let n=this._data[t],s=this._getRenderRowsForData(n,t,r.get(n));this._cachedRenderRowsMap.has(n)||this._cachedRenderRowsMap.set(n,new WeakMap);for(let u=0;u<s.length;u++){let h=s[u],m=this._cachedRenderRowsMap.get(h.data);m.has(h.rowDef)?m.get(h.rowDef).push(h):m.set(h.rowDef,[h]),e.push(h)}}return e}_getRenderRowsForData(e,r,t){return this._getRowDefs(e,r).map(s=>{let u=t&&t.has(s)?t.get(s):[];if(u.length){let h=u.shift();return h.dataIndex=r,h}else return{data:e,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),$r(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=$r(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=$r(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=$r(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,u)=>s||!!u.getColumnsDiff(),r=this._rowDefs.reduce(e,!1);r&&this._forceRenderDataRows();let t=this._headerRowDefs.reduce(e,!1);t&&this._forceRenderHeaderRows();let n=this._footerRowDefs.reduce(e,!1);return n&&this._forceRenderFooterRows(),r||t||n}_switchDataSource(e){this._data=[],ki(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ki(this.dataSource)?e=this.dataSource.connect(this):mi(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=De(this.dataSource)),this._renderChangeSubscription=e.pipe(le(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,r)=>this._renderRow(this._headerRowOutlet,e,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,r)=>this._renderRow(this._footerRowOutlet,e,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,r){let t=Array.from(r.columns||[]).map(u=>{let h=this._columnDefsByName.get(u);return h}),n=t.map(u=>u.sticky),s=t.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,n,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let r=[];for(let t=0;t<e.viewContainer.length;t++){let n=e.viewContainer.get(t);r.push(n.rootNodes[0])}return r}_getRowDefs(e,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let t=[];if(this.multiTemplateDataRows)t=this._rowDefs.filter(n=>!n.when||n.when(r,e));else{let n=this._rowDefs.find(s=>s.when&&s.when(r,e))||this._defaultRowDef;n&&t.push(n)}return t.length,t}_getEmbeddedViewArgs(e,r){let t=e.rowDef,n={$implicit:e.data};return{templateRef:t.template,context:n,index:r}}_renderRow(e,r,t,n={}){let s=e.viewContainer.createEmbeddedView(r.template,n,t);return this._renderCellTemplateForItem(r,n),s}_renderCellTemplateForItem(e,r){for(let t of this._getCellTemplates(e))hi.mostRecentCellOutlet&&hi.mostRecentCellOutlet._viewContainer.createEmbeddedView(t,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let r=0,t=e.length;r<t;r++){let s=e.get(r).context;s.count=t,s.first=r===0,s.last=r===t-1,s.even=r%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,r=>{let t=this._columnDefsByName.get(r);return e.extractCellTemplate(t)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(r,t)=>r||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new ss(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:De()).pipe(le(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let t=this._noDataRowOutlet.viewContainer;if(r){let n=t.createEmbeddedView(e.templateRef),s=n.rootNodes[0];n.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else t.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}};i.\u0275fac=function(r){return new(r||i)(T(Ht),T(je),T(ae),br("role"),T(He,8),T(ze),T(Be),T(er),T(Yr),T(zt),T(Gr,12),T(fe,8))},i.\u0275cmp=K({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,t,n){if(r&1&&(Fe(n,ua,5),Fe(n,Oi,5),Fe(n,Zr,5),Fe(n,rr,5),Fe(n,ls,5)),r&2){let s;ne(s=se())&&(t._noDataRow=s.first),ne(s=se())&&(t._contentColumnDefs=s),ne(s=se())&&(t._contentRowDefs=s),ne(s=se())&&(t._contentHeaderRowDefs=s),ne(s=se())&&(t._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,t){r&2&&ge("cdk-table-fixed-layout",t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ye],fixedLayout:[2,"fixedLayout","fixedLayout",ye]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Ie([{provide:Tt,useExisting:i},{provide:er,useClass:xi},{provide:Yr,useClass:os},{provide:Gr,useValue:null}]),Oe,q],ngContentSelectors:Mc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,t){r&1&&(Ye(Rc),we(0),we(1,1),re(2,Ic,1,0)(3,Tc,7,0)(4,Ac,4,0)),r&2&&(H(2),Ee(t._isServer?2:-1),H(),Ee(t._isNativeHtmlTable?3:4))},dependencies:[us,hs,fs,ms],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let o=i;return o})();function $r(o,i){return o.concat(Array.from(i))}function la(o,i){let C=i.toUpperCase(),e=o.viewContainer.element.nativeElement;for(;e;){let r=e.nodeType===1?e.nodeName:null;if(r===C)return e;if(r==="TABLE")break;e=e.parentNode}return null}var ma=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[tr]});let o=i;return o})();var Oc=[[["caption"]],[["colgroup"],["col"]],"*"],Lc=["caption","colgroup, col","*"];function Pc(o,i){o&1&&we(0,2)}function Fc(o,i){o&1&&(O(0,"thead",0),Qe(1,1),P(),O(2,"tbody",2),Qe(3,3)(4,4),P(),O(5,"tfoot",0),Qe(6,5),P())}function Bc(o,i){o&1&&Qe(0,1)(1,3)(2,4)(3,5)}var nr=(()=>{let i=class i extends ps{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275cmp=K({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,t){r&2&&ge("mdc-table-fixed-layout",t.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Ie([{provide:ps,useExisting:i},{provide:Tt,useExisting:i},{provide:Yr,useClass:os},{provide:er,useClass:xi},{provide:Gr,useValue:null}]),ke,q],ngContentSelectors:Lc,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,t){r&1&&(Ye(Oc),we(0),we(1,1),re(2,Pc,1,0)(3,Fc,7,0)(4,Bc,4,0)),r&2&&(H(2),Ee(t._isServer?2:-1),H(),Ee(t._isNativeHtmlTable?3:4))},dependencies:[us,hs,fs,ms],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let o=i;return o})(),Jr=(()=>{let i=class i extends Xr{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["","matCellDef",""]],standalone:!0,features:[Ie([{provide:Xr,useExisting:i}]),ke]});let o=i;return o})(),en=(()=>{let i=class i extends Qr{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Ie([{provide:Qr,useExisting:i}]),ke]});let o=i;return o})();var tn=(()=>{let i=class i extends Oi{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Ie([{provide:Oi,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),ke]});let o=i;return o})(),rn=(()=>{let i=class i extends da{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[ke]});let o=i;return o})();var nn=(()=>{let i=class i extends ha{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[ke]});let o=i;return o})();var sn=(()=>{let i=class i extends rr{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ye]},standalone:!0,features:[Ie([{provide:rr,useExisting:i}]),Oe,ke]});let o=i;return o})();var on=(()=>{let i=class i extends Zr{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Ie([{provide:Zr,useExisting:i}]),ke]});let o=i;return o})(),an=(()=>{let i=class i extends cs{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275cmp=K({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Ie([{provide:cs,useExisting:i}]),ke,q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,t){r&1&&Qe(0,0)},dependencies:[hi],encapsulation:2});let o=i;return o})();var ln=(()=>{let i=class i extends ds{};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275cmp=K({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Ie([{provide:ds,useExisting:i}]),ke,q],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,t){r&1&&Qe(0,0)},dependencies:[hi],encapsulation:2});let o=i;return o})();var cn=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,ma,Pe]});let o=i;return o})();var Hc=["tooltip"],ga=20;var va=new de("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let o=j(Xe);return()=>o.scrollStrategies.reposition({scrollThrottle:ga})}});function Nc(o){return()=>o.scrollStrategies.reposition({scrollThrottle:ga})}var jc={provide:va,deps:[Xe],useFactory:Nc};function zc(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Wc=new de("mat-tooltip-default-options",{providedIn:"root",factory:zc});var pa="tooltip-panel",_a=Xt({passive:!0}),Vc=8,Uc=8,$c=24,Kc=200,ba=(()=>{let i=class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=St(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let r=St(e);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=qi(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=qi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let r=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,t,n,s,u,h,m,g,y,f,l){this._overlay=e,this._elementRef=r,this._scrollDispatcher=t,this._viewContainerRef=n,this._ngZone=s,this._platform=u,this._ariaDescriber=h,this._focusMonitor=m,this._dir=y,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=qc,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new oe,this._injector=j(We),this._scrollStrategy=g,this._document=l,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures),f.tooltipClass&&(this.tooltipClass=f.tooltipClass)),y.change.pipe(le(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Vc}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(le(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,t])=>{e.removeEventListener(r,t,_a)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let t=this._createOverlay(r);this._detach(),this._portal=this._portal||new Qt(this._tooltipComponent,this._viewContainerRef);let n=this._tooltipInstance=t.attach(this._portal).instance;n._triggerElement=this._elementRef.nativeElement,n._mouseLeaveHideDelay=this._hideDelay,n.afterHidden().pipe(le(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),n.show(e)}hide(e=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let n=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&n._origin instanceof ae)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return t.positionChanges.pipe(le(this._destroyed)).subscribe(n=>{this._updateCurrentPositionClass(n.connectionPair),this._tooltipInstance&&n.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:`${this._cssClassPrefix}-${pa}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(le(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(le(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(le(this._destroyed)).subscribe(n=>{this._isTooltipVisible()&&n.keyCode===27&&!Je(n)&&(n.preventDefault(),n.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let r=e.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();r.withPositions([this._addOffset(ve(ve({},t.main),n.main)),this._addOffset(ve(ve({},t.fallback),n.fallback))])}_addOffset(e){let r=Uc,t=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-r:e.originY==="bottom"?e.offsetY=r:e.originX==="start"?e.offsetX=t?-r:r:e.originX==="end"&&(e.offsetX=t?r:-r),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",r=this.position,t;r=="above"||r=="below"?t={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&e||r=="right"&&!e?t={originX:"start",originY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(t={originX:"end",originY:"center"});let{x:n,y:s}=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:n,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",r=this.position,t;r=="above"?t={overlayX:"center",overlayY:"bottom"}:r=="below"?t={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&e||r=="right"&&!e?t={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&e||r=="left"&&!e)&&(t={overlayX:"start",overlayY:"center"});let{x:n,y:s}=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:n,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),bt(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){let{overlayY:r,originX:t,originY:n}=e,s;if(r==="center"?this._dir&&this._dir.value==="rtl"?s=t==="end"?"left":"right":s=t==="start"?"left":"right":s=r==="bottom"&&n==="top"?"above":"below",s!==this._currentPosition){let u=this._overlayRef;if(u){let h=`${this._cssClassPrefix}-${pa}-`;u.removePanelClass(h+this._currentPosition),u.addPanelClass(h+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let r;e.x!==void 0&&e.y!==void 0&&(r=e),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let r=e.targetTouches?.[0],t=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let n=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,t),this._defaultOptions.touchLongPressShowDelay??n)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{let t=r.relatedTarget;(!t||!this._overlayRef?.overlayElement.contains(t))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,t])=>{this._elementRef.nativeElement.addEventListener(r,t,_a)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(e.clientX,e.clientY),t=this._elementRef.nativeElement;r!==t&&!t.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let r=this._elementRef.nativeElement,t=r.style;(e==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(t.userSelect=t.msUserSelect=t.webkitUserSelect=t.MozUserSelect="none"),(e==="on"||!r.draggable)&&(t.webkitUserDrag="none"),t.touchAction="none",t.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};i.\u0275fac=function(r){return new(r||i)(T(Xe),T(ae),T(Di),T(Ue),T(fe),T(Be),T(bo),T(jt),T(va),T(He),T(Wc,8),T(ze))},i.\u0275dir=Z({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,t){r&2&&ge("mat-mdc-tooltip-disabled",t.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let o=i;return o})(),qc=(()=>{let i=class i{constructor(e,r,t){this._changeDetectorRef=e,this._elementRef=r,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new oe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=t==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>$c&&e.width>=Kc}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let r=this._tooltip.nativeElement,t=this._showAnimation,n=this._hideAnimation;if(r.classList.remove(e?n:t),r.classList.add(e?t:n),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(r);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}};i.\u0275fac=function(r){return new(r||i)(T(je),T(ae),T(ot,8))},i.\u0275cmp=K({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(r,t){if(r&1&&Ae(Hc,7),r&2){let n;ne(n=se())&&(t._tooltip=n.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(r,t){r&1&&ie("mouseleave",function(s){return t._handleMouseLeave(s)}),r&2&&Mt("zoom",t.isVisible()?1:null)},standalone:!0,features:[q],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,t){if(r&1){let n=qe();O(0,"div",1,0),ie("animationend",function(u){return Se(n),xe(t._handleAnimationEnd(u))}),O(2,"div",2),V(3),P()()}r&2&&(ge("mdc-tooltip--multiline",t._isMultiline),te("ngClass",t.tooltipClass),H(3),st(t.message))},dependencies:[xr],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let o=i;return o})();var ya=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({providers:[jc],imports:[Eo,wt,Ri,Pe,Pe,Ei]});let o=i;return o})();function Gc(o,i){o&1&&(O(0,"th",11),V(1,"\u30BB\u30F3\u30B5\u30FC"),P())}function Xc(o,i){if(o&1&&(O(0,"td",12),V(1),P()),o&2){let C=i.$implicit;H(),st(C.id)}}function Qc(o,i){o&1&&(O(0,"th",11),V(1,"\u30BF\u30A4\u30C8\u30EB"),P())}function Zc(o,i){if(o&1&&(O(0,"td",12),V(1),P()),o&2){let C=i.$implicit;H(),st(C.title)}}function Jc(o,i){o&1&&(O(0,"th",11),V(1,"\u6982\u8981"),P())}function ed(o,i){if(o&1&&(O(0,"td",12),V(1),P()),o&2){let C=i.$implicit;H(),st(C.overview)}}function td(o,i){o&1&&(O(0,"th",13),V(1,"\u56DE\u8DEF\u56F3"),P())}function id(o,i){if(o&1&&(O(0,"td",12),V(1),O(2,"a",14)(3,"mat-icon",15),V(4,"schema"),P()()()),o&2){let C=i.$implicit;H(),et(" ",C.circuit," "),H(),Sr("href","https://github.com/chirimen-oh/chirimen.org/tree/master/pizero/src/esm-examples/",C.id,"#readme",qs),H(),Sr("matTooltip","",C.id," \u56DE\u8DEF\u56F3\u8868\u793A")}}function rd(o,i){o&1&&(O(0,"th",11),V(1,"JS"),P())}function nd(o,i){if(o&1&&(O(0,"td",12),V(1),O(2,"mat-icon",15),V(3," download "),P()()),o&2){let C=i.$implicit;H(),et(" ",C.js," "),H(),Sr("matTooltip","",C.id," example Javascript Download")}}function sd(o,i){o&1&&G(0,"tr",16)}function od(o,i){o&1&&G(0,"tr",17)}var Ca=(()=>{let i=class i{constructor(){this.displayedColumns=["id","title","overview","js","circuit"]}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-example-item"]],inputs:{label:"label",exampleItem:"exampleItem"},standalone:!0,features:[q],decls:22,vars:4,consts:[["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","overview"],["matColumnDef","circuit"],["mat-header-cell","","class","circuit",4,"matHeaderCellDef"],["matColumnDef","js"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"circuit"],["target","_schematics",3,"href"],[3,"matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(r,t){r&1&&(O(0,"div")(1,"h2"),V(2),P(),O(3,"table",0),yt(4,1),re(5,Gc,2,0,"th",2)(6,Xc,2,1,"td",3),Ct(),yt(7,4),re(8,Qc,2,0,"th",2)(9,Zc,2,1,"td",3),Ct(),yt(10,5),re(11,Jc,2,0,"th",2)(12,ed,2,1,"td",3),Ct(),yt(13,6),re(14,td,2,0,"th",7)(15,id,5,5,"td",3),Ct(),yt(16,8),re(17,rd,2,0,"th",2)(18,nd,4,3,"td",3),Ct(),re(19,sd,1,0,"tr",9)(20,od,1,0,"tr",10),P()(),G(21,"br")),r&2&&(H(2),st(t.label),H(),te("dataSource",t.exampleItem),H(16),te("matHeaderRowDef",t.displayedColumns),H(),te("matRowDefColumns",t.displayedColumns))},dependencies:[kt,xt,cn,nr,en,sn,tn,Jr,on,rn,nn,an,ln,ya,ba],styles:[".link[_ngcontent-%COMP%], .circuit[_ngcontent-%COMP%]{width:80px}"]});let o=i;return o})();var wa=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-example-list"]],inputs:{gpioExample:"gpioExample",i2cExample:"i2cExample",remoteExample:"remoteExample"},standalone:!0,features:[q],decls:4,vars:6,consts:[[1,"example-wrapper"],[3,"label","exampleItem"]],template:function(r,t){r&1&&(O(0,"div",0),G(1,"app-example-item",1)(2,"app-example-item",1)(3,"app-example-item",1),P()),r&2&&(H(),te("label","GPIO")("exampleItem",t.gpioExample),H(),te("label","I2C")("exampleItem",t.i2cExample),H(),te("label","Remote")("exampleItem",t.remoteExample))},dependencies:[Ca]});let o=i;return o})();function ad(o,i){if(o&1){let C=qe();O(0,"button",7),ie("click",function(){Se(C);let r=be();return xe(r.eventDisConnect.emit())}),O(1,"mat-icon"),V(2,"sync_disabled"),P(),O(3,"span"),V(4,"Web Serial DisConnect"),P()()}}function ld(o,i){if(o&1){let C=qe();O(0,"button",7),ie("click",function(){Se(C);let r=be();return xe(r.eventConnect.emit())}),O(1,"mat-icon"),V(2,"sync"),P(),O(3,"span"),V(4,"Web Serial Connect"),P()()}}var Sa=(()=>{let i=class i{constructor(){this.connected$=De(!1),this.eventConnect=new pe,this.eventDisConnect=new pe}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-header"]],inputs:{connected$:"connected$"},outputs:{eventConnect:"eventConnect",eventDisConnect:"eventDisConnect"},standalone:!0,features:[q],decls:12,vars:4,consts:[["menu","matMenu"],[1,"header-container"],["routerLink","/",1,"logo-container"],["src","CHIRIMEN-banner.png","alt","Web Serial Console"],[1,"menu-container"],[3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"]],template:function(r,t){if(r&1&&(O(0,"header")(1,"div",1)(2,"div",2),G(3,"img",3),P(),O(4,"div",4)(5,"mat-icon",5),V(6,"menu"),P(),O(7,"mat-menu",null,0),re(9,ad,5,0,"button",6),qt(10,"async"),re(11,ld,5,0,"button",6),P()()()()),r&2){let n,s=at(8);H(5),te("matMenuTriggerFor",s),H(4),Ee((n=Yt(10,2,t.connected$))?9:11,n)}},dependencies:[Gt,kt,xt,Ai,Mi,Wt,na,oo],styles:[".header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px}.logo-container[_ngcontent-%COMP%], .menu-container[_ngcontent-%COMP%]{display:flex;align-items:center}img[_ngcontent-%COMP%]{width:256px;height:67px;margin:1rem 1em 1em 0}"]});let o=i;return o})();var dn=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-pin-assign"]],standalone:!0,features:[q],decls:1,vars:0,consts:[["ngSrc","wallpaperS.png","width","546","height","654","priority","","alt","Pin Assign"]],template:function(r,t){r&1&&G(0,"img",0)},dependencies:[Er],styles:["img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}"]});let o=i;return o})();var xa=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],standalone:!0,features:[Ie([{provide:Bn,useClass:Bn}])]});let o=i;return o})(),gs=new de("cdk-menu"),ti=function(o){return o[o.nextItem=0]="nextItem",o[o.previousItem=1]="previousItem",o[o.currentItem=2]="currentItem",o}(ti||{}),Vt=new de("cdk-menu-stack"),dd={provide:Vt,deps:[[new Dn,new Rn,new En(Vt)]],useFactory:o=>o||new vs},hd=o=>({provide:Vt,deps:[[new Dn,new Rn,new En(Vt)]],useFactory:i=>i||vs.inline(o)}),ud=0,vs=(()=>{let i=class i{constructor(){this.id=`${ud++}`,this._elements=[],this._close=new oe,this._empty=new oe,this._hasFocus=new oe,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(Ze(!1),_r(0),ri()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(e){let r=new i;return r._inlineMenuOrientation=e,r}push(e){this._elements.push(e)}close(e,r){let{focusNextOnEmpty:t,focusParentTrigger:n}=ve({},r);if(this._elements.indexOf(e)>=0){let s;do s=this._elements.pop(),this._close.next({item:s,focusParentTrigger:n});while(s!==e);this.isEmpty()&&this._empty.next(t)}}closeSubMenuOf(e){let r=!1;if(this._elements.indexOf(e)>=0)for(r=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return r}closeAll(e){let{focusNextOnEmpty:r,focusParentTrigger:t}=ve({},e);if(!this.isEmpty()){for(;!this.isEmpty();){let n=this._elements.pop();n&&this._close.next({item:n,focusParentTrigger:t})}this._empty.next(r)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac});let o=i;return o})(),hn=new de("cdk-menu-trigger"),md=new de("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=j(Xe);return()=>o.scrollStrategies.reposition()}}),ka=(()=>{let i=class i{constructor(){this.injector=j(We),this.viewContainerRef=j(Ue),this.menuStack=j(Vt),this.menuScrollStrategy=j(md),this.opened=new pe,this.closed=new pe,this.overlayRef=null,this.destroyed=new oe,this.stopOutsideClicksListener=nt(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){let e=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||e)&&(this._menuPortal=new gt(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let r=e;r;r=r?.parentElement??null)if(r.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||We.create({providers:[{provide:hn,useValue:this},{provide:Vt,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,hostVars:2,hostBindings:function(r,t){r&2&&Ce("aria-controls",t.childMenu==null?null:t.childMenu.id)("data-cdk-menu-stack-id",t.menuStack.id)},standalone:!0});let o=i;return o})();var bs=new de("cdk-menu-aim");function Ea(o,i){if(!i.isTrusted)return!1;let C=o.nativeElement,e=i.keyCode;return C.nodeName==="BUTTON"&&!C.disabled?e===13||e===32:C.nodeName==="A"?e===13:!1}var fd=(()=>{let i=class i extends ka{constructor(){super(),this._elementRef=j(ae),this._overlay=j(Xe),this._ngZone=j(fe),this._changeDetectorRef=j(je),this._inputModalityDetector=j(Ln),this._directionality=j(He,{optional:!0}),this._parentMenu=j(gs,{optional:!0}),this._menuAim=j(bs,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(e){let r=this._parentMenu?.orientation==="vertical";switch(e.keyCode){case 32:case 13:!Je(e)&&!Ea(this._elementRef,e)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:Je(e)||this._parentMenu&&r&&this._directionality?.value!=="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:Je(e)||this._parentMenu&&r&&this._directionality?.value==="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:Je(e)||r||(e.preventDefault(),this.open(),e.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular(()=>{ft(this._elementRef.nativeElement,"mouseenter").pipe(tt(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()),le(this.destroyed)).subscribe(()=>{let e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(e):e()})})}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new Ft({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?es:ea)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(le(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(le(this.stopOutsideClicksListener)).subscribe(e=>{let r=bi(e),t=this._elementRef.nativeElement;r!==t&&!t.contains(r)&&(this.isElementInsideMenuStack(r)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(le(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(r,t){r&1&&ie("focusin",function(){return t._setHasFocus(!0)})("focusout",function(){return t._setHasFocus(!1)})("keydown",function(s){return t._toggleOnKeydown(s)})("click",function(){return t._handleClick()}),r&2&&Ce("aria-haspopup",t.menuTemplateRef?"menu":null)("aria-expanded",t.menuTemplateRef==null?null:t.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],standalone:!0,features:[Ie([{provide:hn,useExisting:i},dd]),ke]});let o=i;return o})(),ys=(()=>{let i=class i{get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}constructor(){this._dir=j(He,{optional:!0}),this._elementRef=j(ae),this._ngZone=j(fe),this._inputModalityDetector=j(Ln),this._menuAim=j(bs,{optional:!0}),this._menuStack=j(Vt),this._parentMenu=j(gs,{optional:!0}),this._menuTrigger=j(fd,{optional:!0,self:!0}),this.disabled=!1,this.triggered=new pe,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new oe,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){let{keepOpen:r}=ve({},e);!this.disabled&&!this.hasMenu&&(this.triggered.next(),r||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case 32:case 13:!Je(e)&&!Ea(this._elementRef,e)&&this.trigger({keepOpen:e.keyCode===32&&!this.closeOnSpacebarTrigger});break;case 39:Je(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case 37:Je(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(e):this._forwardArrowPressed(e));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){let r=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(r,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?ti.previousItem:ti.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:ti.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._ngZone.runOutsideAngular(()=>ft(this._elementRef.nativeElement,"mouseenter").pipe(tt(()=>this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu),le(this.destroyed)).subscribe(()=>{this._menuAim?this._menuAim.toggle(e):e()}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(r,t){r&1&&ie("blur",function(){return t._resetTabIndex()})("focus",function(){return t._setTabIndex()})("click",function(){return t.trigger()})("keydown",function(s){return t._onKeydown(s)}),r&2&&(Bt("tabindex",t._tabindex),Ce("aria-disabled",t.disabled||null))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",ye],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"],standalone:!0,features:[Oe]});let o=i;return o})(),_s=class{constructor(i){this._items=i,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new oe,this.entered.subscribe(C=>this.activeElement=C),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return ji(()=>this._items.changes.pipe(Ze(this._items),mr(i=>i.map(C=>ft(C._elementRef.nativeElement,"mouseenter").pipe(gr(C),le(this._items.changes)))),fr()))}_getItemPointerExits(){return ji(()=>this._items.changes.pipe(Ze(this._items),mr(i=>i.map(C=>ft(C._elementRef.nativeElement,"mouseout").pipe(gr(C),le(this._items.changes)))),fr()))}},pd=0,_d=(()=>{let i=class i extends xa{constructor(){super(...arguments),this.nativeElement=j(ae).nativeElement,this.ngZone=j(fe),this.menuStack=j(Vt),this.menuAim=j(bs,{optional:!0,self:!0}),this.dir=j(He,{optional:!0}),this.id=`cdk-menu-${pd++}`,this.orientation="vertical",this.isInline=!1,this.destroyed=new oe,this._menuStackHasFocus=Gs(!1),this._tabIndexSignal=Ki(()=>{let e=this._menuStackHasFocus()?-1:0;return this.isInline?e:null})}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(e,r){let{focusParentTrigger:t}=ve({},r),n=this.keyManager,s=this.triggerItem;e===s?.getMenuTrigger()?.getMenu()&&(s?.getMenuTrigger()?.close(),t&&(s?n.setActiveItem(s):n.setFirstItemActive()))}_setKeyManager(){this.keyManager=new yi(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let e=nt(this.items.changes,this.destroyed);this.items.changes.pipe(Ze(this.items),mr(r=>r.filter(t=>t.hasMenu).map(t=>t.getMenuTrigger().opened.pipe(gr(t),le(e)))),fr(),pt(r=>(this.triggerItem=r,r.getMenuTrigger().closed)),le(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(le(this.destroyed)).subscribe(({item:e,focusParentTrigger:r})=>this.closeOpenMenu(e,{focusParentTrigger:r}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(le(this.destroyed)).subscribe(e=>{this._menuStackHasFocus.set(e)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new _s(this.items)}),this.menuAim.initialize(this,this.pointerTracker))}};i.\u0275fac=(()=>{let e;return function(t){return(e||(e=ht(i)))(t||i)}})(),i.\u0275dir=Z({type:i,contentQueries:function(r,t,n){if(r&1&&Fe(n,ys,5),r&2){let s;ne(s=se())&&(t.items=s)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(r,t){r&1&&ie("focus",function(){return t.focusFirstItem()})("focusin",function(){return t.menuStack.setHasFocus(!0)})("focusout",function(){return t.menuStack.setHasFocus(!1)}),r&2&&(Bt("tabindex",t._getTabIndex())("id",t.id),Ce("aria-orientation",t.orientation)("data-cdk-menu-stack-id",t.menuStack.id))},inputs:{id:"id"},standalone:!0,features:[ke]});let o=i;return o})(),Da=(()=>{let i=class i extends _d{constructor(){super(),this._parentTrigger=j(hn,{optional:!0}),this.closed=new pe,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){let r=this.keyManager;switch(e.keyCode){case 37:case 39:Je(e)||(e.preventDefault(),r.setFocusOrigin("keyboard"),r.onKeydown(e));break;case 27:Je(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:ti.currentItem,focusParentTrigger:!0}));break;case 9:Je(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:r.onKeydown(e)}}_toggleMenuFocus(e){let r=this.keyManager;switch(e){case ti.nextItem:r.setFocusOrigin("keyboard"),r.setNextItemActive();break;case ti.previousItem:r.setFocusOrigin("keyboard"),r.setPreviousItemActive();break;case ti.currentItem:r.activeItem&&(r.setFocusOrigin("keyboard"),r.setActiveItem(r.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(le(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(r,t){r&1&&ie("keydown",function(s){return t._handleKeyEvent(s)}),r&2&&ge("cdk-menu-inline",t.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],standalone:!0,features:[Ie([{provide:xa,useExisting:i},{provide:gs,useExisting:i},hd("vertical")]),ke]});let o=i;return o})();var gd=es.map(o=>{let i=o.overlayX==="start"?2:-2,C=o.overlayY==="top"?2:-2;return dt(ve({},o),{offsetX:i,offsetY:C})}),vd=(()=>{let i=class i{update(e){i._openContextMenuTrigger!==e&&(i._openContextMenuTrigger?.close(),i._openContextMenuTrigger=e)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})(),Ra=(()=>{let i=class i extends ka{constructor(){super(),this._overlay=j(Xe),this._directionality=j(He,{optional:!0}),this._contextMenuTracker=j(vd),this._changeDetectorRef=j(je),this.disabled=!1,this._setMenuStackCloseListener()}open(e){this._open(null,e),this._changeDetectorRef.markForCheck()}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._contextMenuTracker.update(this),this._open(e,{x:e.clientX,y:e.clientY}),e.button===2?this.childMenu?.focusFirstItem("mouse"):e.button===0?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(e){return new Ft({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return this._overlay.position().flexibleConnectedTo(e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??gd)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(le(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())})}_subscribeToOutsideClicks(e){if(this.overlayRef){let r=this.overlayRef.outsidePointerEvents();if(e){let[t,n]=Ws(r,({type:s})=>s==="auxclick");r=nt(n.pipe(Vs((s,u)=>e.ctrlKey&&u===0&&s.ctrlKey)),t.pipe(vr(1)))}r.pipe(le(this.stopOutsideClicksListener)).subscribe(t=>{this.isElementInsideMenuStack(bi(t))||this.menuStack.closeAll()})}}_open(e,r){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(r),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(r),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(r)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(e)))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(r,t){r&1&&ie("contextmenu",function(s){return t._openOnContextMenu(s)}),r&2&&Ce("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:[0,"cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkContextMenuPosition","menuPosition"],menuData:[0,"cdkContextMenuTriggerData","menuData"],disabled:[2,"cdkContextMenuDisabled","disabled",ye]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],standalone:!0,features:[Ie([{provide:hn,useExisting:i},{provide:Vt,useClass:vs}]),Oe,ke]});let o=i;return o})();var bd=new de("CDK_TREE_NODE_OUTLET_NODE"),Ma=(()=>{let i=class i{constructor(e,r){this.viewContainer=e,this._node=r}};i.\u0275fac=function(r){return new(r||i)(T(Ue),T(bd,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0});let o=i;return o})(),Cs=class{constructor(i){this.$implicit=i}},ws=(()=>{let i=class i{constructor(e){this.template=e}};i.\u0275fac=function(r){return new(r||i)(T(Ne))},i.\u0275dir=Z({type:i,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0});let o=i;return o})();function Ia(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var sr=(()=>{let i=class i{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,r,t){this._differs=e,this._changeDetectorRef=r,this._dir=t,this._onDestroy=new oe,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new mt({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new mt([]),this._nodeType=new mt(null),this._nodes=new mt(new Map),this._keyManagerNodes=new mt([]),this._keyManagerFactory=j(yo),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(r=>!r.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Hr(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;ki(this._dataSource)?e=this._dataSource.connect(this):mi(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=De(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(le(this._onDestroy)).subscribe(r=>{this._renderDataChanges(r)}))}_getRenderData(e){let r=this._getExpansionModel();return fi([e,this._nodeType,r.changed.pipe(Ze(null),Wi(t=>{this._emitExpansionChanges(t)}))]).pipe(pt(([t,n])=>n===null?De({renderNodes:t,flattenedNodes:null,nodeType:n}):this._computeRenderingData(t,n).pipe(rt(s=>dt(ve({},s),{nodeType:n})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let r=this._nodes.value;for(let t of e.added)r.get(t)?._emitExpansionState(!0);for(let t of e.removed)r.get(t)?._emitExpansionState(!1)}_initializeKeyManager(){let e=fi([this._keyManagerNodes,this._nodes]).pipe(rt(([t,n])=>t.reduce((s,u)=>{let h=n.get(this._getExpansionKey(u));return h&&s.push(h),s},[]))),r={trackBy:t=>this._getExpansionKey(t.data),skipPredicate:t=>!!t.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,r)}_initializeDataDiffer(){let e=this.trackBy??((r,t)=>this._getExpansionKey(t));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,r=this._dataDiffer,t=this._nodeOutlet.viewContainer,n){let s=r.diff(e);!s&&!this._viewInit||(s?.forEachOperation((u,h,m)=>{if(u.previousIndex==null)this.insertNode(e[m],m,t,n);else if(m==null)t.remove(h);else{let g=t.get(h);t.move(g,m)}}),s?.forEachIdentityChange(u=>{let h=u.item;if(u.currentIndex!=null){let m=t.get(u.currentIndex);m.context.$implicit=h}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,r){if(this._nodeDefs.length===1)return this._nodeDefs.first;let t=this._nodeDefs.find(n=>n.when&&n.when(r,e))||this._defaultNodeDef;return t}insertNode(e,r,t,n){let s=this._getLevelAccessor(),u=this._getNodeDef(e,r),h=this._getExpansionKey(e),m=new Cs(e);n??=this._parents.get(h)??void 0,s?m.level=s(e):n!==void 0&&this._levels.has(this._getExpansionKey(n))?m.level=this._levels.get(this._getExpansionKey(n))+1:m.level=0,this._levels.set(h,m.level),(t||this._nodeOutlet.viewContainer).createEmbeddedView(u.template,m,r),Li.mostRecentTreeNode&&(Li.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let r=this._expansionModel;r.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(Kt(1),le(this._onDestroy)).subscribe(t=>{r.select(...t.map(n=>this._getExpansionKey(n)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let r=this._expansionModel;r.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(Kt(1),le(this._onDestroy)).subscribe(t=>{r.deselect(...t.map(n=>this._getExpansionKey(n)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(r=>this._getExpansionKey(r)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(r=>this._getExpansionKey(r)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let r=this._getLevelAccessor(),t=this._expansionModel??this.treeControl?.expansionModel;if(!t)return De([]);let n=this._getExpansionKey(e),s=t.changed.pipe(pt(h=>h.added.includes(n)?De(!0):h.removed.includes(n)?De(!1):ui),Ze(this.isExpanded(e)));if(r)return fi([s,this._flattenedNodes]).pipe(rt(([h,m])=>h?this._findChildrenByLevel(r,m,e,1):[]));let u=this._getChildrenAccessor();if(u)return Lr(u(e)??[]);throw Ia()}_findChildrenByLevel(e,r,t,n){let s=this._getExpansionKey(t),u=r.findIndex(y=>this._getExpansionKey(y)===s),h=e(t),m=h+n,g=[];for(let y=u+1;y<r.length;y++){let f=e(r[y]);if(f<=h)break;f<=m&&g.push(r[y])}return g}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let r=this._getAriaSet(e),t=this._getExpansionKey(e);return r.findIndex(n=>this._getExpansionKey(n)===t)+1}_getNodeParent(e){let r=this._parents.get(this._getExpansionKey(e.data));return r&&this._nodes.value.get(this._getExpansionKey(r))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(rt(r=>r.reduce((t,n)=>{let s=this._nodes.value.get(this._getExpansionKey(n));return s&&t.push(s),t},[])))}_sendKeydownToKeyManager(e){this._keyManager.onKeydown(e)}_getDescendants(e){if(this.treeControl)return De(this.treeControl.getDescendants(e));if(this.levelAccessor){let r=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return De(r)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(xn((r,t)=>(r.push(...t),r),[]));throw Ia()}_getAllChildrenRecursively(e){return this.childrenAccessor?Lr(this.childrenAccessor(e)).pipe(Kt(1),pt(r=>{for(let t of r)this._parents.set(this._getExpansionKey(t),e);return De(...r).pipe(kn(t=>wn(De([t]),this._getAllChildrenRecursively(t))))})):De([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let r=this._getExpansionKey(e),t=this._parents.get(r),n=t?this._getExpansionKey(t):null;return this._ariaSets.get(n)??[e]}_findParentForNode(e,r,t){if(!t.length)return null;let n=this._levels.get(this._getExpansionKey(e))??0;for(let s=r-1;s>=0;s--){let u=t[s];if((this._levels.get(this._getExpansionKey(u))??0)<n)return u}return null}_flattenNestedNodesWithExpansion(e,r=0){let t=this._getChildrenAccessor();return t?De(...e).pipe(kn(n=>{let s=this._getExpansionKey(n);this._parents.has(s)||this._parents.set(s,null),this._levels.set(s,r);let u=Lr(t(n));return wn(De([n]),u.pipe(Kt(1),Wi(h=>{this._ariaSets.set(s,[...h??[]]);for(let m of h??[]){let g=this._getExpansionKey(m);this._parents.set(g,n),this._levels.set(g,r+1)}}),pt(h=>h?this._flattenNestedNodesWithExpansion(h,r+1).pipe(rt(m=>this.isExpanded(n)?m:[])):De([]))))}),xn((n,s)=>(n.push(...s),n),[])):De([...e])}_computeRenderingData(e,r){if(this.childrenAccessor&&r==="flat")return this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(rt(t=>({renderNodes:t,flattenedNodes:t})));if(this.levelAccessor&&r==="nested"){let t=this.levelAccessor;return De(e.filter(n=>t(n)===0)).pipe(rt(n=>({renderNodes:n,flattenedNodes:e})),Wi(({flattenedNodes:n})=>{this._calculateParents(n)}))}else return r==="flat"?De({renderNodes:e,flattenedNodes:e}).pipe(Wi(({flattenedNodes:t})=>{this._calculateParents(t)})):(this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(rt(t=>({renderNodes:e,flattenedNodes:t}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let r=this._getLevelAccessor();if(r){this._parents.clear(),this._ariaSets.clear();for(let t=0;t<e.length;t++){let n=e[t],s=this._getExpansionKey(n);this._levels.set(s,r(n));let u=this._findParentForNode(n,t,e);this._parents.set(s,u);let h=u?this._getExpansionKey(u):null,m=this._ariaSets.get(h)??[];m.splice(t,0,n),this._ariaSets.set(h,m)}}}};i.\u0275fac=function(r){return new(r||i)(T(Ht),T(je),T(He))},i.\u0275cmp=K({type:i,selectors:[["cdk-tree"]],contentQueries:function(r,t,n){if(r&1&&Fe(n,ws,5),r&2){let s;ne(s=se())&&(t._nodeDefs=s)}},viewQuery:function(r,t){if(r&1&&Ae(Ma,7),r&2){let n;ne(n=se())&&(t._nodeOutlet=n.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(r,t){r&1&&ie("keydown",function(s){return t._sendKeydownToKeyManager(s)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[q],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(r,t){r&1&&Qe(0,0)},dependencies:[Ma],encapsulation:2});let o=i;return o})(),Li=(()=>{let i=class i{get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){e?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(e,r){this._elementRef=e,this._tree=r,this._tabindex=-1,this.activation=new pe,this.expandedChange=new pe,this._destroyed=new oe,this._dataChanges=new oe,this._inputIsExpandable=!1,this._shouldFocus=!0,this._changeDetectorRef=j(je),i.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=yd(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(rt(()=>this.isExpanded),ri()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){i.mostRecentTreeNode===this&&(i.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}};i.mostRecentTreeNode=null,i.\u0275fac=function(r){return new(r||i)(T(ae),T(sr))},i.\u0275dir=Z({type:i,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(r,t){r&1&&ie("click",function(){return t._setActiveItem()})("focus",function(){return t._focusItem()}),r&2&&(Bt("tabindex",t._tabindex),Ce("aria-expanded",t._getAriaExpanded())("aria-level",t.level+1)("aria-posinset",t._getPositionInSet())("aria-setsize",t._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",ye],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",ye],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[Oe]});let o=i;return o})();function yd(o){let i=o.parentElement;for(;i&&!Cd(i);)i=i.parentElement;return i?i.classList.contains("cdk-nested-tree-node")?_t(i.getAttribute("aria-level")):0:-1}function Cd(o){let i=o.classList;return!!(i?.contains("cdk-nested-tree-node")||i?.contains("cdk-tree"))}var wd=/([A-Za-z%]+)$/,Ta=(()=>{let i=class i{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}constructor(e,r,t,n){this._treeNode=e,this._tree=r,this._element=t,this._dir=n,this._destroyed=new oe,this.indentUnits="px",this._indent=40,this._setPadding(),n&&n.change.pipe(le(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,r=this._level==null?e:this._level;return typeof r=="number"?`${r*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let r=this._paddingIndent();if(r!==this._currentPadding||e){let t=this._element.nativeElement,n=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",s=n==="paddingLeft"?"paddingRight":"paddingLeft";t.style[n]=r||"",t.style[s]="",this._currentPadding=r}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let r=e,t="px";if(typeof e=="string"){let n=e.split(wd);r=n[0],t=n[1]||t}this.indentUnits=t,this._indent=_t(r),this._setPadding()}};i.\u0275fac=function(r){return new(r||i)(T(Li),T(sr),T(ae),T(He,8))},i.\u0275dir=Z({type:i,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",_t],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[Oe]});let o=i;return o})(),Aa=(()=>{let i=class i{constructor(e,r){this._tree=e,this._treeNode=r,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}};i.\u0275fac=function(r){return new(r||i)(T(sr),T(Li))},i.\u0275dir=Z({type:i,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(r,t){r&1&&ie("click",function(s){return t._toggle(),s.stopPropagation()})("keydown.Enter",function(s){return t._toggle(),s.preventDefault()})("keydown.Space",function(s){return t._toggle(),s.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",ye]},standalone:!0,features:[Oe]});let o=i;return o})();var Oa=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({});let o=i;return o})();var xd=["determinateSpinner"];function kd(o,i){if(o&1&&(Vi(),O(0,"svg",11),G(1,"circle",12),P()),o&2){let C=be();Ce("viewBox",C._viewBox()),H(),Mt("stroke-dasharray",C._strokeCircumference(),"px")("stroke-dashoffset",C._strokeCircumference()/2,"px")("stroke-width",C._circleStrokeWidth(),"%"),Ce("r",C._circleRadius())}}var Ed=new de("mat-progress-spinner-default-options",{providedIn:"root",factory:Dd});function Dd(){return{diameter:La}}var La=100,Rd=10,Pa=(()=>{let i=class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,r,t){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=La,this._noopAnimations=r==="NoopAnimations"&&!!t&&!t._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-Rd)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(ot,8),T(Ed))},i.\u0275cmp=K({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,t){if(r&1&&Ae(xd,5),r&2){let n;ne(n=se())&&(t._determinateCircle=n.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,t){r&2&&(Ce("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",t.mode==="determinate"?t.value:null)("mode",t.mode),It("mat-"+t.color),Mt("width",t.diameter,"px")("height",t.diameter,"px")("--mdc-circular-progress-size",t.diameter+"px")("--mdc-circular-progress-active-indicator-width",t.diameter+"px"),ge("_mat-animation-noopable",t._noopAnimations)("mdc-circular-progress--indeterminate",t.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",_t],diameter:[2,"diameter","diameter",_t],strokeWidth:[2,"strokeWidth","strokeWidth",_t]},exportAs:["matProgressSpinner"],standalone:!0,features:[Oe,q],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,t){if(r&1&&(re(0,kd,2,8,"ng-template",null,0,_i),O(2,"div",2,1),Vi(),O(4,"svg",3),G(5,"circle",4),P()(),Ks(),O(6,"div",5)(7,"div",6)(8,"div",7),Qe(9,8),P(),O(10,"div",9),Qe(11,8),P(),O(12,"div",10),Qe(13,8),P()()()),r&2){let n=at(1);H(4),Ce("viewBox",t._viewBox()),H(),Mt("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeDashOffset(),"px")("stroke-width",t._circleStrokeWidth(),"%"),Ce("r",t._circleRadius()),H(4),te("ngTemplateOutlet",n),H(2),te("ngTemplateOutlet",n),H(2),te("ngTemplateOutlet",n)}},dependencies:[kr],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0});let o=i;return o})();var Fa=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[wt,Pe]});let o=i;return o})();var un=class{constructor(i){this.raw=i}areChildrenLoading(){return this.raw.childrenLoading==="LOADING"}isExpandable(){return(this.raw.childrenLoading==="INIT"||this.raw.childrenLoading==="LOADED")&&!!this.raw.childrenIds?.length}isLeaf(){return!this.isExpandable()&&!this.areChildrenLoading()}};function Id(o,i){o&1&&G(0,"mat-spinner")}function Td(o,i){o&1&&G(0,"mat-spinner",5)}function Ad(o,i){if(o&1&&(O(0,"button",6)(1,"mat-icon",9),V(2),P()()),o&2){let C=be().$implicit;be();let e=at(4);Ce("aria-label","Toggle "+C.raw.name),H(2),et(" ",e.isExpanded(C)?"expand_more":"chevron_right"," ")}}function Od(o,i){o&1&&G(0,"div",7)}function Ld(o,i){if(o&1){let C=qe();O(0,"cdk-tree-node",4),ie("expandedChange",function(r){let t=Se(C).$implicit,n=be(2);return xe(n.onExpand(t,r))}),re(1,Td,1,0,"mat-spinner",5)(2,Ad,3,2,"button",6)(3,Od,1,0,"div",7),O(4,"span",8),V(5),P()()}if(o&2){let C=i.$implicit;be(2);let e=at(4);te("cdkTreeNodeTypeaheadLabel",C.raw.name)("isExpandable",C.isExpandable())("cdkContextMenuTriggerFor",e),H(),Ee(C.areChildrenLoading()?1:-1),H(),Ee(!C.areChildrenLoading()&&C.isExpandable()?2:-1),H(),Ee(C.isLeaf()?3:-1),H(2),st(C.raw.name)}}function Pd(o,i){if(o&1&&(O(0,"h3"),V(1,"Pi Zero Directory"),P(),G(2,"mat-divider"),O(3,"cdk-tree",2,1),re(5,Ld,6,7,"cdk-tree-node",3),P()),o&2){let C=be();H(3),te("dataSource",C.roots)("childrenAccessor",C.getChildren)("trackBy",C.trackBy)("expansionKey",C.expansionKey)}}function Fd(o,i){o&1&&(O(0,"div",10)(1,"button",11)(2,"mat-icon"),V(3,"open_in_browser"),P(),V(4," Show "),P(),O(5,"button",11)(6,"mat-icon"),V(7,"edit"),P(),V(8," Edit "),P(),O(9,"button",11)(10,"mat-icon"),V(11,"delete_sweep"),P(),V(12," delete "),P()())}var Ss=new Map([{id:"1",name:".bash_history",children:[]},{id:"2",name:".bashrc",children:[]},{id:"3",name:".cache",children:[]},{id:"4",name:".forever",children:[]},{id:"5",name:".npm",children:[]},{id:"6",name:".profile",children:[]},{id:"7",name:".sudo_as_admin_successful",children:[]},{id:"8",name:"myApp",children:["8-1","8-2","8-3","8-4","8-5"]},{id:"8-1",name:"RelayServer.js",parent:"8",children:[]},{id:"8-2",name:"main-hello-real-world.js",parent:"8",children:[]},{id:"8-3",name:"node_modules",parent:"8",children:["8-3-1","8-3-2"]},{id:"8-3-1",name:".bin",parent:"8-3",children:[]},{id:"8-3-2",name:"package-lock.json",parent:"8-3",children:[]},{id:"8-4",name:"package-lock.json",parent:"8",children:[]},{id:"8-5",name:"package.json",parent:"8",children:[]},{id:"9",name:"wifi_setup.sh",children:[]}].map(o=>[o.id,o])),xs=class{_getRandomDelayTime(){return Math.floor(Math.random()*400)+100}getChildren(i){let e=Ss.get(i)?.children??[];return De(e.map(r=>Ss.get(r))).pipe(pi(this._getRandomDelayTime()))}getRoots(){return De([...Ss.values()].filter(i=>!i.parent)).pipe(pi(this._getRandomDelayTime()))}},ks=class{constructor(){this._backend=new xs,this._state=new mt({rootIds:[],rootsLoading:"INIT",allData:new Map,dataLoading:new Map}),this._rootIds=this.select(i=>i.rootIds),this._allData=this.select(i=>i.allData),this._loadingData=this.select(i=>i.dataLoading),this._rootsLoadingState=this.select(i=>i.rootsLoading),this.areRootsLoading=this.select(this._rootIds,this._loadingData,this._rootsLoadingState,(i,C,e)=>e!=="LOADED"||i.some(r=>C.get(r)!=="LOADED")),this.roots=this.select(this.areRootsLoading,this._rootIds,this._allData,(i,C,e)=>i?[]:this._getDataByIds(C,e))}getChildren(i){return this.select(this._allData,this._loadingData,(C,e)=>{let r=C.get(i);if(r?.childrenLoading!=="LOADED")return[];let t=r.childrenIds??[];return t.some(n=>e.get(n)!=="LOADED")?[]:this._getDataByIds(t,C)})}loadRoots(){this._setRootsLoading(),this._backend.getRoots().subscribe(i=>{this._setRoots(i)})}loadChildren(i){this._setChildrenLoading(i),this._backend.getChildren(i).subscribe(C=>{this._addLoadedData(i,C)})}_setRootsLoading(){this._state.next(dt(ve({},this._state.value),{rootsLoading:"LOADING"}))}_setRoots(i){let C=this._state.value;this._state.next(ve(dt(ve({},C),{rootIds:i.map(e=>e.id),rootsLoading:"LOADED"}),this._addData(C,i)))}_setChildrenLoading(i){let C=this._state.value,e=C.allData.get(i);this._state.next(dt(ve({},C),{allData:new Map([...C.allData,...e?[[i,dt(ve({},e),{childrenLoading:"LOADING"})]]:[]]),dataLoading:new Map([...C.dataLoading,...e?.childrenIds?.map(r=>[r,"LOADING"])??[]])}))}_addLoadedData(i,C){let e=this._state.value;this._state.next(ve(ve({},e),this._addData(e,C,i)))}_addData({allData:i,dataLoading:C},e,r){let t=r&&i.get(r),n=e.flatMap(s=>s.children??[]);return{allData:new Map([...i,...e.map(s=>[s.id,{id:s.id,name:s.name,parentId:r,childrenIds:s.children,childrenLoading:"INIT"}]),...t?[[r,dt(ve({},t),{childrenLoading:"LOADED"})]]:[]]),dataLoading:new Map([...C,...e.map(s=>[s.id,"LOADED"]),...n.map(s=>[s,"INIT"])])}}_getDataByIds(i,C){return i.map(e=>C.get(e)).filter(e=>!!e).map(e=>new un(e))}select(...i){let C=i.slice(0,-1),e=i[i.length-1];return fi([...C,this._state]).pipe(rt(r=>e(...r)),zi({refCount:!0,bufferSize:1}))}},Ba=(()=>{let i=class i{constructor(){this._dataStore=new ks,this.areRootsLoading=this._dataStore.areRootsLoading,this.roots=this._dataStore.roots,this.getChildren=e=>this._dataStore.getChildren(e.raw.id),this.trackBy=(e,r)=>this.expansionKey(r),this.expansionKey=e=>e.raw.id}ngOnInit(){this._dataStore.loadRoots()}onExpand(e,r){r&&this._dataStore.loadChildren(e.raw.id)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-tree"]],standalone:!0,features:[q],decls:5,vars:3,consts:[["context_menu",""],["tree",""],[3,"dataSource","childrenAccessor","trackBy","expansionKey"],["cdkTreeNodePadding","",3,"cdkTreeNodeTypeaheadLabel","isExpandable","cdkContextMenuTriggerFor","expandedChange",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","",3,"expandedChange","cdkTreeNodeTypeaheadLabel","isExpandable","cdkContextMenuTriggerFor"],["diameter","48","mode","indeterminate"],["mat-icon-button","","cdkTreeNodeToggle",""],[1,"toggle-spacer"],[1,"parent-only"],[1,"mat-icon-rtl-mirror"],["cdkMenu","",1,"example-menu"],["cdkMenuItem","",1,"example-menu-item"]],template:function(r,t){r&1&&(re(0,Id,1,0,"mat-spinner"),qt(1,"async"),re(2,Pd,6,4)(3,Fd,13,0,"ng-template",null,0,_i)),r&2&&Ee(Yt(1,1,t.areRootsLoading)?0:2)},dependencies:[Ra,Da,ys,Oa,ws,Ta,Aa,sr,Li,wt,Gt,jr,Uo,ut,Et,kt,xt,Fa,Pa],styles:["h3[_ngcontent-%COMP%]{margin:4px 0 8px 16px}cdk-tree-node[_ngcontent-%COMP%]{display:flex;align-items:center}.example-menu[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;min-width:180px;max-width:280px;background-color:#fff;padding:6px 0}.example-menu-item[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer;border:none;-webkit-user-select:none;user-select:none;min-width:64px;line-height:36px;padding:0 16px;display:flex;align-items:center;flex-direction:row;flex:1}.example-menu-item[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.example-menu-item[_ngcontent-%COMP%]:active{background-color:#aaa}.parent-only[_ngcontent-%COMP%]{padding-left:16px}.parent-only[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let o=i;return o})();var Bd=["*"];var Hd=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Nd=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],jd=new de("MAT_CARD_CONFIG"),Ha=(()=>{let i=class i{constructor(e){this.appearance=e?.appearance||"raised"}};i.\u0275fac=function(r){return new(r||i)(T(jd,8))},i.\u0275cmp=K({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,t){r&2&&ge("mat-mdc-card-outlined",t.appearance==="outlined")("mdc-card--outlined",t.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[q],ngContentSelectors:Bd,decls:1,vars:0,template:function(r,t){r&1&&(Ye(),we(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let o=i;return o})(),Na=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let o=i;return o})();var ja=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let o=i;return o})();var za=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[q],ngContentSelectors:Nd,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,t){r&1&&(Ye(Hd),we(0),O(1,"div",0),we(2,1),P(),we(3,2))},encapsulation:2,changeDetection:0});let o=i;return o})();var Wa=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,wt,Pe]});let o=i;return o})();var Va=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-wifi-info"]],inputs:{wifiInfo:"wifiInfo"},standalone:!0,features:[q],decls:16,vars:6,consts:[["appearance","outlined"]],template:function(r,t){r&1&&(O(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),V(3),P()(),O(4,"mat-card-content")(5,"ul")(6,"li"),V(7),P(),O(8,"li"),V(9),P(),O(10,"li"),V(11),P(),O(12,"li"),V(13),P(),O(14,"li"),V(15),P()()()()),r&2&&(H(3),et("SSID: ",t.wifiInfo.SSID,""),H(4),et("address: ",t.wifiInfo.address,""),H(2),et("channel: ",t.wifiInfo.channel,""),H(2),et("frequency: ",t.wifiInfo.frequency,""),H(2),et("quality: ",t.wifiInfo.quality,""),H(2),et("spec: ",t.wifiInfo.spec,""))},dependencies:[Wa,Ha,ja,za,Na],styles:['@charset "UTF-8";mat-card[_ngcontent-%COMP%]{width:500px;max-height:300px;overflow-y:auto}']});let o=i;return o})();function Wd(o,i){}var ar=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Vd=(()=>{let i=class i extends wi{constructor(e,r,t,n,s,u,h,m){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=n,this._interactivityChecker=s,this._ngZone=u,this._overlayRef=h,this._focusMonitor=m,this._platform=j(Be),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=j(je),this._injector=j(We),this._isDestroyed=!1,this.attachDomPortal=g=>{this._portalOutlet.hasAttached();let y=this._portalOutlet.attachDomPortal(g);return this._contentAttached(),y},this._document=t,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let t=()=>{e.removeEventListener("blur",t),e.removeEventListener("mousedown",t),e.removeAttribute("tabindex")};e.addEventListener("blur",t),e.addEventListener("mousedown",t)})),e.focus(r)}_focusByCssSelector(e,r){let t=this._elementRef.nativeElement.querySelector(e);t&&this._forceFocus(t,r)}_trapFocus(){this._isDestroyed||bt(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,r=null;if(typeof e=="string"?r=this._document.querySelector(e):typeof e=="boolean"?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&typeof r.focus=="function"){let t=Or(),n=this._elementRef.nativeElement;(!t||t===this._document.body||t===n||n.contains(t))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,r=Or();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Or()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(wo),T(ze,8),T(ar),T(Co),T(fe),T(ci),T(jt))},i.\u0275cmp=K({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(r,t){if(r&1&&Ae(oi,7),r&2){let n;ne(n=se())&&(t._portalOutlet=n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,t){r&2&&Ce("id",t._config.id||null)("role",t._config.role)("aria-modal",t._config.ariaModal)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledByQueue[0])("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null)},standalone:!0,features:[ke,q],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,t){r&1&&re(0,Wd,0,0,"ng-template",0)},dependencies:[oi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let o=i;return o})(),or=class{constructor(i,C){this.overlayRef=i,this.config=C,this.closed=new oe,this.disableClose=C.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=C.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Je(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{C.closeOnOverlayDetachments!==!1&&this.close()})}close(i,C){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=C?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(i),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",C=""){return this.overlayRef.updateSize({width:i,height:C}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},Ud=new de("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=j(Xe);return()=>o.scrollStrategies.block()}}),$d=new de("DialogData"),Kd=new de("DefaultDialogConfig");var qd=0,mn=(()=>{let i=class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,t,n,s,u){this._overlay=e,this._injector=r,this._defaultOptions=t,this._parentDialog=n,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new oe,this._afterOpenedAtThisLevel=new oe,this._ariaHiddenElements=new Map,this.afterAllClosed=ji(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ze(void 0))),this._scrollStrategy=u}open(e,r){let t=this._defaultOptions||new ar;r=ve(ve({},t),r),r.id=r.id||`cdk-dialog-${qd++}`,r.id&&this.getDialogById(r.id);let n=this._getOverlayConfig(r),s=this._overlay.create(n),u=new or(s,r),h=this._attachContainer(s,u,r);return u.containerInstance=h,this._attachDialogContent(e,u,h,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){Es(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){Es(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Es(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let r=new Ft({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,t){let n=t.injector||t.viewContainerRef?.injector,s=[{provide:ar,useValue:t},{provide:or,useValue:r},{provide:ci,useValue:e}],u;t.container?typeof t.container=="function"?u=t.container:(u=t.container.type,s.push(...t.container.providers(t))):u=Vd;let h=new Qt(u,t.viewContainerRef,We.create({parent:n||this._injector,providers:s}),t.componentFactoryResolver);return e.attach(h).instance}_attachDialogContent(e,r,t,n){if(e instanceof Ne){let s=this._createInjector(n,r,t,void 0),u={$implicit:n.data,dialogRef:r};n.templateContext&&(u=ve(ve({},u),typeof n.templateContext=="function"?n.templateContext():n.templateContext)),t.attachTemplatePortal(new gt(e,null,u,s))}else{let s=this._createInjector(n,r,t,this._injector),u=t.attachComponentPortal(new Qt(e,n.viewContainerRef,s,n.componentFactoryResolver));r.componentRef=u,r.componentInstance=u.instance}}_createInjector(e,r,t,n){let s=e.injector||e.viewContainerRef?.injector,u=[{provide:$d,useValue:e.data},{provide:or,useValue:r}];return e.providers&&(typeof e.providers=="function"?u.push(...e.providers(r,e,t)):u.push(...e.providers)),e.direction&&(!s||!s.get(He,null,{optional:!0}))&&u.push({provide:He,useValue:{value:e.direction,change:De()}}),We.create({parent:s||n,providers:u})}_removeOpenDialog(e,r){let t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let r=e.parentElement.children;for(let t=r.length-1;t>-1;t--){let n=r[t];n!==e&&n.nodeName!=="SCRIPT"&&n.nodeName!=="STYLE"&&!n.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};i.\u0275fac=function(r){return new(r||i)(he(Xe),he(We),he(Kd,8),he(i,12),he(Wr),he(Ud))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function Es(o,i){let C=o.length;for(;C--;)i(o[C])}var hl=_l($a());var lr="linux-armv6l",Pi="v22.9.0",Ka="chirimenSetup",pn="chirimenCronSetting.txt",Yd="chirimenCronSetting.log";var zv={distro:`DISTRO=${lr}`,get:`wget https://unofficial-builds.nodejs.org/download/release/${Pi}/node-${Pi}-${lr}.tar.xz`,showVersion:"node -v",setVersion:`VERSION=${Pi}`,mkDir:"sudo mkdir -p /usr/local/lib/nodejs",xJvf:`sudo tar -xJvf node-${Pi}-${lr}.tar.xz -C /usr/local/lib/nodejs`,pathSet:`echo -n -e "# Nodejs
VERSION${Pi}=
DISTRO=${lr}

export PATH=/usr/local/lib/nodejs/node-${Pi}-${lr}/bin:$PATH
" | tee -a ~/.profile'`,golobalInstall:"sudo npm install -g forever"};var Wv={mkDir:`mkdir ${Ka}`,cd:`cd ${Ka}`,getPackage:"wget -O package.json https://tutorial.chirimen.org/pizero/package.json",getRelayServer:"wget -O RelayServer.js https://chirimen.org/remote-connection/js/beta/RelayServer.js"};var Vv={remove:`rm ${pn}`,touch:`touch ${pn}`,regist:`crontab ./${pn}`,which:"which forever",list:"forever list --plain",start:"forever start -w ",echo:`echo -e "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
@reboot /usr/local/bin/forever start `,redirection:` >> /tmp/${Yd} 2>&1" > ${pn}`};var qa=[{SSID:"imajin-coffee",address:"F2:9E:28:74:E6:1F",channel:1,frequency:"2.412 GHz (Channel 1)",quality:"Quality=53/70  Signal level=-57 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK unknown (8)"},{SSID:"pr400k-4fc052-1",address:"A4:12:42:84:FB:45",channel:5,frequency:"2.432 GHz (Channel 5)",quality:"Quality=32/70  Signal level=-78 dBm",spec:"IEEE 802.11i/WPA2 Version 1,TKIP,CCMP TKIPPSK,TKIP,CCMP TKIPPSK"},{SSID:"pr400k-4fc052-2",address:"A6:12:42:84:FB:45",channel:5,frequency:"2.432 GHz (Channel 5)",quality:"Quality=27/70  Signal level=-83 dBm",spec:"IEEE 802.11i/WPA2 Version 1,TKIP,CCMP TKIPPSK,TKIP,CCMP TKIPPSK"},{SSID:"imagineohta-pos",address:"DC:A4:CA:BC:4C:8C",channel:11,frequency:"2.462 GHz (Channel 11)",quality:"Quality=34/70  Signal level=-76 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"Gmansyu.ootamooru",address:"CA:E9:0A:20:44:93",channel:11,frequency:"2.462 GHz (Channel 11)",quality:"Quality=18/70  Signal level=-92 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"",address:"F2:9E:28:74:E6:1F",channel:1,frequency:"2.412 GHz (Channel 1)",quality:"Quality=51/70  Signal level=-59 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK unknown (8)"},{SSID:"",address:"C6:9E:28:74:E6:1F",channel:1,frequency:"2.412 GHz (Channel 1)",quality:"Quality=60/70  Signal level=-50 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,"},{SSID:"ALPINE-439436",address:"58:16:D7:8C:97:6A",channel:1,frequency:"2.412 GHz (Channel 1)",quality:"Quality=31/70  Signal level=-79 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"Panasonic PMX900-6f50.d204,",address:"FA:8F:CA:55:7A:DF",channel:2,frequency:"2.417 GHz (Channel 2)",quality:"Quality=26/70  Signal level=-84 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"DIRECT-9C-EPSON-267A27",address:"52:57:9C:26:FA:27",channel:5,frequency:"2.432 GHz (Channel 5)",quality:"Quality=33/70  Signal level=-77 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"DIRECT-DR_6930_KQC01217",address:"BE:82:5D:7D:1C:5C",channel:6,frequency:"2.437 GHz (Channel 6)",quality:"Quality=23/70  Signal level=-87 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"},{SSID:"tsunami",address:"BC:9F:E4:8A:A9:E0",channel:6,frequency:"2.437 GHz (Channel 6)",quality:"Quality=30/70  Signal level=-80 dBm",spec:"IEEE 802.11i/WPA2 Version 1,CCMP,CCMPPSK"}];var Ya={cols:80,rows:56,cursorBlink:!0,cursorStyle:"underline",cursorWidth:2,theme:{background:"bkack"}};function Gd(o,i){o&1&&(O(0,"th",11),V(1,"Now Running"),P())}function Xd(o,i){if(o&1&&(O(0,"td",12),V(1),P()),o&2){let C=i.$implicit;H(),st(C.runing)}}function Qd(o,i){o&1&&(O(0,"th",11),V(1,"App Name"),P())}function Zd(o,i){if(o&1&&(O(0,"td",12),V(1),P()),o&2){let C=i.$implicit;H(),st(C.appName)}}function Jd(o,i){o&1&&(O(0,"th",11),V(1,"Select"),P())}function eh(o,i){if(o&1&&(O(0,"td",12),G(1,"input",13),P()),o&2){let C=i.$implicit;H(),wr("value",C.select)}}function th(o,i){o&1&&G(0,"tr",14)}function ih(o,i){o&1&&G(0,"tr",15)}var rh=[{runing:"-",appName:"STOP ALL APPS",select:!0},{runing:"",appName:"RelayServer.js",select:!1},{runing:"",appName:"main-gpio-polling.js",select:!1},{runing:"",appName:"main-hello-real-world.js",select:!1}],Rs=(()=>{let i=class i{constructor(){this.displayedColumns=["Now Running","App Name","Select"],this.dataSource=[...rh],this.service=j(Rt),this.table={},this.table.dataSource=this.dataSource}closeModal(){this.service.closeDialog()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-chirimen-setup"]],viewQuery:function(r,t){if(r&1&&Ae(nr,5),r&2){let n;ne(n=se())&&(t.table=n.first)}},standalone:!0,features:[q],decls:15,vars:4,consts:[[1,"wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","Now Running"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","App Name"],["matColumnDef","Select"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"button-area"],["type","button",3,"clickEvent","label"],["mat-header-cell",""],["mat-cell",""],["type","radio",3,"value"],["mat-header-row",""],["mat-row",""]],template:function(r,t){r&1&&(O(0,"div",0)(1,"table",1),yt(2,2),re(3,Gd,2,0,"th",3)(4,Xd,2,1,"td",4),Ct(),yt(5,5),re(6,Qd,2,0,"th",3)(7,Zd,2,1,"td",4),Ct(),yt(8,6),re(9,Jd,2,0,"th",3)(10,eh,2,1,"td",4),Ct(),re(11,th,1,0,"tr",7)(12,ih,1,0,"tr",8),P(),O(13,"div",9)(14,"app-button",10),ie("clickEvent",function(){return t.closeModal()}),P()()()),r&2&&(H(),te("dataSource",t.dataSource),H(10),te("matHeaderRowDef",t.displayedColumns),H(),te("matRowDefColumns",t.displayedColumns),H(2),te("label","\u9589\u3058\u308B"))},dependencies:[Dt,nr,cn,en,sn,tn,Jr,on,rn,nn,an,ln],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;box-shadow:0 4px 8px #0003;width:600px}button[_ngcontent-%COMP%]:last-child{margin-right:0}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]});let o=i;return o})();var Ga=(()=>{let i=class i{constructor(){this.jsonService=j(Io)}getGPIOExampleList(){return this.jsonService.getJsonArray("./assets/json/gpio.json").pipe(rt(e=>Fr(e)),pr(e=>[]))}getI2CExampleList(){return this.jsonService.getJsonArray("./assets/json/i2c.json").pipe(rt(e=>Fr(e)),pr(e=>[]))}getRemoteExampleList(){return this.jsonService.getJsonArray("./assets/json/remote.json").pipe(rt(e=>Fr(e)),pr(e=>[]))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function nh(o,i){if(o&1&&G(0,"app-example-list",1),o&2){let C=i;te("gpioExample",C[0])("i2cExample",C[1])("remoteExample",C[2])}}var Ms=(()=>{let i=class i{constructor(){this.service=j(Rt),this.exampleDialogService=j(Ga),this.exampleSubject=new mt([[],[],[]]),this.example$=this.exampleSubject.asObservable()}ngOnInit(){this.example$=js([this.exampleDialogService.getGPIOExampleList(),this.exampleDialogService.getI2CExampleList(),this.exampleDialogService.getRemoteExampleList()])}closeModal(){this.service.closeDialog()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-example"]],standalone:!0,features:[q],decls:5,vars:4,consts:[[1,"wrapper"],[3,"gpioExample","i2cExample","remoteExample"],[1,"button-area"],["type","button",3,"clickEvent","label"]],template:function(r,t){if(r&1&&(O(0,"div",0),re(1,nh,1,3,"app-example-list",1),qt(2,"async"),O(3,"div",2)(4,"app-button",3),ie("clickEvent",function(){return t.closeModal()}),P()()()),r&2){let n;H(),Ee((n=Yt(2,2,t.example$))?1:-1,n),H(3),te("label","\u9589\u3058\u308B")}},dependencies:[Dt,wa,Gt],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;box-shadow:0 4px 8px #0003;height:600px;overflow:auto}button[_ngcontent-%COMP%]:last-child{margin-right:0}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]});let o=i;return o})();var Ts=(()=>{let i=class i{constructor(){this.service=j(Rt),this.fb=j(mo),this.uploadForm=this.fb.group({file:[null]})}onFileSelected(e){let r=e.target.files[0];r&&this.uploadForm.patchValue({file:r}),this.closeModal()}onSubmit(){if(this.uploadForm.valid){let e=this.uploadForm.get("file")?.value;console.log("Uploading file:",e)}}closeModal(){this.service.closeDialog()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-file-upload"]],standalone:!0,features:[q],decls:9,vars:3,consts:[["fileInput",""],[1,"wrapper"],[3,"ngSubmit","formGroup"],[1,"button-area"],["type","button",3,"label"],["type","button",3,"clickEvent","label"],["type","file",3,"change"]],template:function(r,t){if(r&1){let n=qe();O(0,"div",1)(1,"h2"),V(2,"\u30D5\u30A1\u30A4\u30EB\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9"),P(),O(3,"form",2),ie("ngSubmit",function(){Se(n);let u=at(8);return xe(u.click())}),O(4,"div",3),G(5,"app-button",4),O(6,"app-button",5),ie("clickEvent",function(){return Se(n),xe(t.closeModal())}),P()()()(),O(7,"input",6,0),ie("change",function(u){return Se(n),xe(t.onFileSelected(u))}),P()}r&2&&(H(3),te("formGroup",t.uploadForm),H(2),te("label","\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9"),H(),te("label","\u9589\u3058\u308B"))},dependencies:[Dt,Tr,Mr,Rr,Ir],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;box-shadow:0 4px 8px #0003;width:400px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}input[type=file][_ngcontent-%COMP%]{margin-bottom:20px;display:none}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;gap:100px}"]});let o=i;return o})();var As=(()=>{let i=class i{constructor(){this.service=j(Rt),this.i2cDevices=`
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:                         -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
70: -- -- -- -- -- -- -- --
  `}closeModal(){this.service.closeDialog()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-i2cdetect"]],standalone:!0,features:[q],decls:10,vars:2,consts:[[1,"wrapper"],[1,"button-area"],["type","button",3,"clickEvent","label"]],template:function(r,t){r&1&&(O(0,"div",0)(1,"h3"),V(2,"I2C Devices"),P(),O(3,"pre"),V(4,"    "),O(5,"code"),V(6),P(),V(7,`
  `),P(),O(8,"div",1)(9,"app-button",2),ie("clickEvent",function(){return t.closeModal()}),P()()()),r&2&&(H(6),et(`
      `,t.i2cDevices,`
    `),H(3),te("label","\u9589\u3058\u308B"))},dependencies:[Dt],styles:[".wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;box-shadow:0 4px 8px #0003;width:500px}h3[_ngcontent-%COMP%]{color:#000}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%]{background-color:#fff;width:100%;height:100%}app-button[_ngcontent-%COMP%]:last-child{margin-right:0}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}"]});let o=i;return o})();var sh=["notch"],oh=["matFormFieldNotchedOutline",""],ah=["*"],lh=["textField"],ch=["iconPrefixContainer"],dh=["textPrefixContainer"],hh=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uh=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function mh(o,i){o&1&&G(0,"span",19)}function fh(o,i){if(o&1&&(O(0,"label",18),we(1,1),re(2,mh,1,0,"span",19),P()),o&2){let C=be(2);te("floating",C._shouldLabelFloat())("monitorResize",C._hasOutline())("id",C._labelId),Ce("for",C._control.disableAutomaticLabeling?null:C._control.id),H(2),Ee(!C.hideRequiredMarker&&C._control.required?2:-1)}}function ph(o,i){if(o&1&&re(0,fh,3,5,"label",18),o&2){let C=be();Ee(C._hasFloatingLabel()?0:-1)}}function _h(o,i){o&1&&G(0,"div",5)}function gh(o,i){}function vh(o,i){if(o&1&&re(0,gh,0,0,"ng-template",11),o&2){be(2);let C=at(1);te("ngTemplateOutlet",C)}}function bh(o,i){if(o&1&&(O(0,"div",7),re(1,vh,1,1,null,11),P()),o&2){let C=be();te("matFormFieldNotchedOutlineOpen",C._shouldLabelFloat()),H(),Ee(C._forceDisplayInfixLabel()?-1:1)}}function yh(o,i){o&1&&(O(0,"div",8,2),we(2,2),P())}function Ch(o,i){o&1&&(O(0,"div",9,3),we(2,3),P())}function wh(o,i){}function Sh(o,i){if(o&1&&re(0,wh,0,0,"ng-template",11),o&2){be();let C=at(1);te("ngTemplateOutlet",C)}}function xh(o,i){o&1&&(O(0,"div",12),we(1,4),P())}function kh(o,i){o&1&&(O(0,"div",13),we(1,5),P())}function Eh(o,i){o&1&&G(0,"div",14)}function Dh(o,i){if(o&1&&(O(0,"div",16),we(1,6),P()),o&2){let C=be();te("@transitionMessages",C._subscriptAnimationState)}}function Rh(o,i){if(o&1&&(O(0,"mat-hint",20),V(1),P()),o&2){let C=be(2);te("id",C._hintLabelId),H(),st(C.hintLabel)}}function Mh(o,i){if(o&1&&(O(0,"div",17),re(1,Rh,2,2,"mat-hint",20),we(2,7),G(3,"div",21),we(4,8),P()),o&2){let C=be();te("@transitionMessages",C._subscriptAnimationState),H(),Ee(C.hintLabel?1:-1)}}var gn=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["mat-label"]],standalone:!0});let o=i;return o})();var Ih=new de("MatError");var Th=0,Xa=(()=>{let i=class i{constructor(){this.align="start",this.id=`mat-mdc-hint-${Th++}`}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,t){r&2&&(Bt("id",t.id),Ce("align",null),ge("mat-mdc-form-field-hint-end",t.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let o=i;return o})(),Ah=new de("MatPrefix");var Oh=new de("MatSuffix");var nl=new de("FloatingLabelParent"),Qa=(()=>{let i=class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=j(Nr),this._ngZone=j(fe),this._parent=j(nl),this._resizeSubscription=new it}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Lh(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};i.\u0275fac=function(r){return new(r||i)(T(ae))},i.\u0275dir=Z({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,t){r&2&&ge("mdc-floating-label--float-above",t.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let o=i;return o})();function Lh(o){let i=o;if(i.offsetParent!==null)return i.scrollWidth;let C=i.cloneNode(!0);C.style.setProperty("position","absolute"),C.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(C);let e=C.scrollWidth;return C.remove(),e}var Za="mdc-line-ripple--active",_n="mdc-line-ripple--deactivating",Ja=(()=>{let i=class i{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=t=>{let n=this._elementRef.nativeElement.classList,s=n.contains(_n);t.propertyName==="opacity"&&s&&n.remove(Za,_n)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(_n),e.add(Za)}deactivate(){this._elementRef.nativeElement.classList.add(_n)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(fe))},i.\u0275dir=Z({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let o=i;return o})(),el=(()=>{let i=class i{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(fe))},i.\u0275cmp=K({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,t){if(r&1&&Ae(sh,5),r&2){let n;ne(n=se())&&(t._notch=n.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,t){r&2&&ge("mdc-notched-outline--notched",t.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[q],attrs:oh,ngContentSelectors:ah,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,t){r&1&&(Ye(),G(0,"div",1),O(1,"div",2,0),we(3),P(),G(4,"div",3))},encapsulation:2,changeDetection:0});let o=i;return o})(),Ph={transitionMessages:si("transitionMessages",[Nt("enter",lt({opacity:1,transform:"translateY(0%)"})),Pt("void => enter",[lt({opacity:0,transform:"translateY(-5px)"}),Lt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Os=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=Z({type:i});let o=i;return o})();var Ls=new de("MatFormField"),Fh=new de("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tl=0,il="fill",Bh="auto",rl="fixed",Hh="translateY(-50%)",sl=(()=>{let i=class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=St(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Bh}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let r=this._appearance,t=e||this._defaults?.appearance||il;this._appearance=t,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||rl}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||rl}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,t,n,s,u,h,m){this._elementRef=e,this._changeDetectorRef=r,this._dir=n,this._platform=s,this._defaults=u,this._animationMode=h,this._labelChild=Xs(gn),this._hideRequiredMarker=!1,this.color="primary",this._appearance=il,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${tl++}`,this._hintLabelId=`mat-mdc-hint-${tl++}`,this._subscriptAnimationState="",this._destroyed=new oe,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=j(We),this.getLabelId=Ki(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Ki(()=>!!this._labelChild()),u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=!!u?.hideRequiredMarker,u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let r=this._control,t="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(t+e.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(t+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(le(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),nt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Cr(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(le(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(n=>n.align==="start"):null,t=this._hintChildren?this._hintChildren.find(n=>n.align==="end"):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),t&&e.push(t.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,t=this._textPrefixContainer?.nativeElement,n=r?.getBoundingClientRect().width??0,s=t?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${n+s}px`,g=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Hh} translateX(${g})
    )`}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(je),T(fe),T(He),T(Be),T(Fh,8),T(ot,8),T(ze))},i.\u0275cmp=K({type:i,selectors:[["mat-form-field"]],contentQueries:function(r,t,n){if(r&1&&(Qs(n,t._labelChild,gn,5),Fe(n,Os,5),Fe(n,Ah,5),Fe(n,Oh,5),Fe(n,Ih,5),Fe(n,Xa,5)),r&2){Zs();let s;ne(s=se())&&(t._formFieldControl=s.first),ne(s=se())&&(t._prefixChildren=s),ne(s=se())&&(t._suffixChildren=s),ne(s=se())&&(t._errorChildren=s),ne(s=se())&&(t._hintChildren=s)}},viewQuery:function(r,t){if(r&1&&(Ae(lh,5),Ae(ch,5),Ae(dh,5),Ae(Qa,5),Ae(el,5),Ae(Ja,5)),r&2){let n;ne(n=se())&&(t._textField=n.first),ne(n=se())&&(t._iconPrefixContainer=n.first),ne(n=se())&&(t._textPrefixContainer=n.first),ne(n=se())&&(t._floatingLabel=n.first),ne(n=se())&&(t._notchedOutline=n.first),ne(n=se())&&(t._lineRipple=n.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,t){r&2&&ge("mat-mdc-form-field-label-always-float",t._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",t._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",t._hasIconSuffix)("mat-form-field-invalid",t._control.errorState)("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-form-field-no-animations",t._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",t.appearance=="fill")("mat-form-field-appearance-outline",t.appearance=="outline")("mat-form-field-hide-placeholder",t._hasFloatingLabel()&&!t._shouldLabelFloat())("mat-focused",t._control.focused)("mat-primary",t.color!=="accent"&&t.color!=="warn")("mat-accent",t.color==="accent")("mat-warn",t.color==="warn")("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ie([{provide:Ls,useExisting:i},{provide:nl,useExisting:i}]),q],ngContentSelectors:uh,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,t){if(r&1){let n=qe();Ye(hh),re(0,ph,1,1,"ng-template",null,0,_i),O(2,"div",4,1),ie("click",function(u){return Se(n),xe(t._control.onContainerClick(u))}),re(4,_h,1,0,"div",5),O(5,"div",6),re(6,bh,2,2,"div",7)(7,yh,3,0,"div",8)(8,Ch,3,0,"div",9),O(9,"div",10),re(10,Sh,1,1,null,11),we(11),P(),re(12,xh,2,0,"div",12)(13,kh,2,0,"div",13),P(),re(14,Eh,1,0,"div",14),P(),O(15,"div",15),re(16,Dh,2,1,"div",16)(17,Mh,5,2,"div",17),P()}if(r&2){let n;H(2),ge("mdc-text-field--filled",!t._hasOutline())("mdc-text-field--outlined",t._hasOutline())("mdc-text-field--no-label",!t._hasFloatingLabel())("mdc-text-field--disabled",t._control.disabled)("mdc-text-field--invalid",t._control.errorState),H(2),Ee(!t._hasOutline()&&!t._control.disabled?4:-1),H(2),Ee(t._hasOutline()?6:-1),H(),Ee(t._hasIconPrefix?7:-1),H(),Ee(t._hasTextPrefix?8:-1),H(2),Ee(!t._hasOutline()||t._forceDisplayInfixLabel()?10:-1),H(2),Ee(t._hasTextSuffix?12:-1),H(),Ee(t._hasIconSuffix?13:-1),H(),Ee(t._hasOutline()?-1:14),H(),ge("mat-mdc-form-field-subscript-dynamic-size",t.subscriptSizing==="dynamic"),H(),Ee((n=t._getDisplayedMessages())==="error"?16:n==="hint"?17:-1)}},dependencies:[Qa,el,kr,Ja,Xa],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ph.transitionMessages]},changeDetection:0});let o=i;return o})(),cr=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,wt,vo,Pe]});let o=i;return o})();var ol=Xt({passive:!0}),al=(()=>{let i=class i{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ui;let r=Yi(e),t=this._monitoredElements.get(r);if(t)return t.subject;let n=new oe,s="cdk-text-field-autofilled",u=h=>{h.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(s)?(r.classList.add(s),this._ngZone.run(()=>n.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>n.next({target:h.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",u,ol),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:n,unlisten:()=>{r.removeEventListener("animationstart",u,ol)}}),n}stopMonitoring(e){let r=Yi(e),t=this._monitoredElements.get(r);t&&(t.unlisten(),t.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}};i.\u0275fac=function(r){return new(r||i)(he(Be),he(fe))},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var ll=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({});let o=i;return o})();var zh=new de("MAT_INPUT_VALUE_ACCESSOR"),Wh=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Vh=0,cl=(()=>{let i=class i{get disabled(){return this._disabled}set disabled(e){this._disabled=St(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ao.required)??!1}set required(e){this._required=St(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&An().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=St(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,t,n,s,u,h,m,g,y){this._elementRef=e,this._platform=r,this.ngControl=t,this._autofillMonitor=m,this._ngZone=g,this._formField=y,this._uid=`mat-input-${Vh++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new oe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(d=>An().has(d)),this._iOSKeyupListener=d=>{let a=d.target;!a.value&&a.selectionStart===0&&a.selectionEnd===0&&(a.setSelectionRange(1,1),a.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,l=f.nodeName.toLowerCase();this._inputValueAccessor=h||f,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&g.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Do(u,t,s,n,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!y,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Wh.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};i.\u0275fac=function(r){return new(r||i)(T(ae),T(Be),T(lo,10),T(ho,8),T(Ir,8),T(Ro),T(zh,10),T(al),T(fe),T(Ls,8))},i.\u0275dir=Z({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,t){r&1&&ie("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),r&2&&(Bt("id",t.id)("disabled",t.disabled)("required",t.required),Ce("name",t.name||null)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required)("id",t.id),ge("mat-input-server",t._isServer)("mat-mdc-form-field-textarea-control",t._isInFormField&&t._isTextarea)("mat-mdc-form-field-input-control",t._isInFormField)("mdc-text-field__input",t._isInFormField)("mat-mdc-native-select-inline",t._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ie([{provide:Os,useExisting:i}]),Ot]});let o=i;return o})(),dl=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Me({type:i}),i.\u0275inj=Re({imports:[Pe,cr,cr,ll,Pe]});let o=i;return o})();var $h=(o,i)=>i.SSID;function Kh(o,i){if(o&1&&G(0,"app-wifi-info",2),o&2){let C=i.$implicit;te("wifiInfo",C)}}function qh(o,i){o&1&&(O(0,"span"),V(1," There are no Wi-Fi Information "),P())}var Ps=(()=>{let i=class i{constructor(){this.wifiInfoList=qa,this.service=j(Rt)}closeModal(){this.service.closeDialog()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-wifi-setting"]],standalone:!0,features:[q],decls:26,vars:7,consts:[[1,"wrapper"],[1,"wifi-list"],[3,"wifiInfo"],["matInput","","type","text"],["matInput","",3,"type"],[1,"button-area"],["type","button",3,"label"],["type","button",3,"clickEvent","label"]],template:function(r,t){r&1&&(O(0,"div",0)(1,"div")(2,"h3"),V(3,"WiFi Scan Result"),P()(),O(4,"div",1),Ui(5,Kh,1,1,"app-wifi-info",2,$h,!1,qh,2,0,"span"),P(),G(8,"mat-divider"),O(9,"div")(10,"form")(11,"mat-form-field")(12,"mat-label"),V(13,"SSID"),P(),G(14,"input",3),P(),O(15,"mat-form-field")(16,"mat-label"),V(17,"Password"),P(),G(18,"input",4),P()()(),G(19,"mat-divider"),O(20,"div",5),G(21,"app-button",6)(22,"app-button",6)(23,"app-button",6)(24,"app-button",6),O(25,"app-button",7),ie("clickEvent",function(){return t.closeModal()}),P()()()),r&2&&(H(5),$i(t.wifiInfoList),H(13),te("type","password"),H(3),te("label","Wifi Scan"),H(),te("label","Wifi Info"),H(),te("label","Reset Wifi"),H(),te("label","Reboot"),H(),te("label","\u9589\u3058\u308B"))},dependencies:[Dt,Va,ut,Et,cr,sl,gn,dl,cl,Tr,Mr,Rr],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden}.wrapper[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;gap:1rem;justify-content:center;align-items:center;padding:20px;box-shadow:0 4px 8px #0003;max-height:50vh;width:95%}.wifi-list[_ngcontent-%COMP%]{max-height:620px;overflow-y:auto;width:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}mat-form-field[_ngcontent-%COMP%]{margin-right:10px}app-button[_ngcontent-%COMP%]{margin-right:10px}.button-area[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}']});let o=i;return o})();var Rt=(()=>{let i=class i{constructor(){this.dialog=j(mn)}openPinAssignDialog(){this.dialog.open(dn,{height:"654px",width:"546px",panelClass:"my-dialog"})}openFileUploadDialog(){this.dialog.open(Ts,{height:"300px",width:"500px",panelClass:"my-dialog"})}openI2CDetectDialog(){this.dialog.open(As,{height:"320px",width:"420px",panelClass:"my-dialog"})}openSetupChirimenDialog(){this.dialog.open(Rs,{height:"320px",width:"420px",panelClass:"my-dialog"})}openExampleFrameDialog(){this.dialog.open(Ms,{height:"480px",width:"720px",panelClass:"my-dialog"})}openWifiSettingDialog(){this.dialog.open(Ps,{width:"600px",panelClass:"my-dialog"})}closeDialog(){this.dialog.closeAll()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var Fs=(()=>{let i=class i{constructor(){this.store=j(Dr),this.service=j(Qi),this.xtermService=j(To),this.dailogService=j(Rt),this.dialog=j(mn),this.label="connect",this.xterminal=new hl.Terminal(Ya),this.consoleDom=null}ngAfterViewInit(){this.configTerminal()}openWifiSettingDialog(){this.dailogService.openWifiSettingDialog()}createFile(){}openExampleFrameDialog(){this.dailogService.openExampleFrameDialog()}openSetupChirimenDialog(){this.dailogService.openSetupChirimenDialog()}openI2CDetectDialog(){this.dailogService.openI2CDetectDialog()}openFileUploadDialog(){this.dailogService.openFileUploadDialog()}configTerminal(){if(this.consoleDom=document.getElementById("consoleDom"),this.consoleDom)this.xterminal.open(this.consoleDom);else return;this.xterminal.reset(),this.xterminal.write("$ "),this.xterminal.onKey(e=>this.xtermService.onKey(this.xterminal,e))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-console-containers"]],standalone:!0,features:[Ie([Qi]),q],decls:2,vars:0,consts:[[3,"eventWiFiSetting","eventCreateFile","eventGetExample","eventSetupChirimen","eventI2CDetect","eventFileUpload"],["id","consoleDom"]],template:function(r,t){r&1&&(O(0,"app-console-tool-bar",0),ie("eventWiFiSetting",function(){return t.openWifiSettingDialog()})("eventCreateFile",function(){return t.createFile()})("eventGetExample",function(){return t.openExampleFrameDialog()})("eventSetupChirimen",function(){return t.openSetupChirimenDialog()})("eventI2CDetect",function(){return t.openI2CDetectDialog()})("eventFileUpload",function(){return t.openFileUploadDialog()}),P(),G(1,"div",1))},dependencies:[sa,ut],styles:["#consoleDom[_ngcontent-%COMP%]{margin-top:8px}"]});let o=i;return o})();var Bs=(()=>{let i=class i{constructor(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Le({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var Hs=(()=>{let i=class i{constructor(){this.monaca=j(Bs),this.editorOptions={theme:"vs-dark",language:"javascript",automaticLayout:!0},this.code=`
    onload = async function () {
      window.addEventListener("message", receiveMessage, false);
      portWritelnWaitfor = window.opener.portWritelnWaitfor;
      getOutputLines = function (inp) {
        var ret = window.opener.getOutputLines(inp);
        console.log(ret);
        return ret;
      };
      cmdPrompt = window.opener.cmdPrompt;
      mv = window.opener.mv;
      cp = window.opener.cp;
      showDir = window.opener.showDir;
    };
    const sleep = (msec) => new Promise((resolve) => setTimeout(resolve, msec));
`}ngOnInit(){}saveFile(){}formatFile(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-editor-containers"]],standalone:!0,features:[Ie([Bs]),q],decls:3,vars:2,consts:[[3,"eventSaveFile","eventFormatFile"],[3,"ngModelChange","options","ngModel"]],template:function(r,t){r&1&&(O(0,"app-editor-tool-bar",0),ie("eventSaveFile",function(){return t.saveFile()})("eventFormatFile",function(){return t.formatFile()}),P(),O(1,"div")(2,"ngx-monaco-editor",1),to("ngModelChange",function(s){return eo(t.code,s)||(t.code=s),s}),P()()),r&2&&(H(2),te("options",t.editorOptions),Js("ngModel",t.code))},dependencies:[fo,co,uo,_o,po,oa],styles:["div[_ngcontent-%COMP%]{margin-top:8px}ngx-monaco-editor[_ngcontent-%COMP%]{height:calc(80vh - 100px);width:100%}"]});let o=i;return o})();var ul=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-console"]],standalone:!0,features:[q],decls:1,vars:0,template:function(r,t){r&1&&G(0,"app-console-containers")},dependencies:[Fs],encapsulation:2});let o=i;return o})();var ml=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-editor"]],standalone:!0,features:[q],decls:1,vars:0,template:function(r,t){r&1&&G(0,"app-editor-containers")},dependencies:[Hs],encapsulation:2});let o=i;return o})();function Yh(o,i){o&1&&(O(0,"mat-icon"),V(1,"terminal"),P(),V(2,"Console "))}function Gh(o,i){o&1&&(O(0,"mat-icon"),V(1,"description"),P(),V(2,"Editor "))}function Xh(o,i){o&1&&(O(0,"mat-icon"),V(1,"fiber_pin"),P(),V(2,"Pin Assign "))}function Qh(o,i){o&1&&(O(0,"div",1)(1,"div",3),G(2,"app-breadcomb"),P(),O(3,"div",4),G(4,"app-tree"),P(),G(5,"mat-divider",5),O(6,"div",4)(7,"mat-tab-group",6)(8,"mat-tab",7),re(9,Yh,3,0,"ng-template",8),G(10,"app-console"),P(),O(11,"mat-tab"),re(12,Gh,3,0,"ng-template",8),G(13,"app-editor"),P(),O(14,"mat-tab"),re(15,Xh,3,0,"ng-template",8),G(16,"app-pin-assign"),P()()()())}function Zh(o,i){if(o&1){let C=qe();O(0,"div",2)(1,"h2"),V(2," Raspberry Pi Zero \u3068 PC \u3092 USB \u3067\u7E4B\u3044\u3060\u5F8C\u3001Connect \u30DC\u30BF\u30F3\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001Web Serail \u3092\u63A5\u7D9A\u3057\u3066\u4E0B\u3055\u3044 "),P(),G(3,"img",9),O(4,"app-button",10),ie("clickEvent",function(){Se(C);let r=be();return xe(r.onConnect())}),P()()}o&2&&(H(4),te("label","Web Serial Connect"))}var Ty=(()=>{let i=class i{constructor(){this.store=j(Dr),this.service=j(Qi),this.isSerialConnected=!1,this.connected$=this.store.select(e=>e.webSerial.isConnected)}ngOnInit(){this.store.dispatch(Br.init())}onConnect(){this.store.dispatch(Br.onConnect())}onDisConnect(){this.store.dispatch(Br.onDisConnect())}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=K({type:i,selectors:[["app-layout-main"]],standalone:!0,features:[q],decls:4,vars:4,consts:[[3,"eventConnect","eventDisConnect","connected$"],[1,"wrapper"],[1,"serial-connect"],[1,"box1"],[1,"box2"],["vertical",""],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Console"],["mat-tab-label",""],["ngSrc","PiZeroW_OTG.jpg","width","680","height","270","priority","","alt","PiZeroW_OTG"],[3,"clickEvent","label"]],template:function(r,t){if(r&1&&(O(0,"app-header",0),ie("eventConnect",function(){return t.onConnect()})("eventDisConnect",function(){return t.onDisConnect()}),P(),re(1,Qh,17,0,"div",1),qt(2,"async"),re(3,Zh,5,1,"div",2)),r&2){let n;te("connected$",t.connected$),H(),Ee((n=Yt(2,2,t.connected$))?1:3,n)}},dependencies:[Gt,zo,Dt,ul,ml,Sa,ut,Et,kt,xt,jo,$n,Kn,No,Er,dn,Ba],styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1.5fr 2.5fr;grid-template-rows:auto 1fr;gap:8px;height:100vh}.box1[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:5}.box2[_ngcontent-%COMP%]:first-of-type{grid-column:1/2;display:flex;flex-direction:column;min-height:0;overflow:hidden}.box2[_ngcontent-%COMP%]:last-of-type{grid-column:3/5;display:flex;flex-direction:column;min-height:0;overflow:hidden}mat-divider[_ngcontent-%COMP%]{grid-column:2;align-self:stretch}.serial-connect[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:5;text-align:center;height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:16px}app-pin-assign[_ngcontent-%COMP%]{margin-top:8px;margin-left:8px}']});let o=i;return o})();export{Ty as default};
